var LA=Object.defineProperty;var kA=(e,t,n)=>t in e?LA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mc=(e,t,n)=>(kA(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function G_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F_={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=Symbol.for("react.transitional.element"),zA=Symbol.for("react.fragment");function Q_(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:PA,type:e,key:i,ref:t!==void 0?t:null,props:n}}Du.Fragment=zA;Du.jsx=Q_;Du.jsxs=Q_;F_.exports=Du;var I=F_.exports,K_={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od=Symbol.for("react.transitional.element"),BA=Symbol.for("react.portal"),jA=Symbol.for("react.fragment"),HA=Symbol.for("react.strict_mode"),qA=Symbol.for("react.profiler"),GA=Symbol.for("react.consumer"),FA=Symbol.for("react.context"),QA=Symbol.for("react.forward_ref"),KA=Symbol.for("react.suspense"),YA=Symbol.for("react.memo"),Y_=Symbol.for("react.lazy"),Hp=Symbol.iterator;function $A(e){return e===null||typeof e!="object"?null:(e=Hp&&e[Hp]||e["@@iterator"],typeof e=="function"?e:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X_=Object.assign,Z_={};function Ta(e,t,n){this.props=e,this.context=t,this.refs=Z_,this.updater=n||$_}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ta.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function J_(){}J_.prototype=Ta.prototype;function ud(e,t,n){this.props=e,this.context=t,this.refs=Z_,this.updater=n||$_}var cd=ud.prototype=new J_;cd.constructor=ud;X_(cd,Ta.prototype);cd.isPureReactComponent=!0;var qp=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},W_=Object.prototype.hasOwnProperty;function hd(e,t,n,i,r,a){return n=a.ref,{$$typeof:od,type:e,key:t,ref:n!==void 0?n:null,props:a}}function XA(e,t){return hd(e.type,t,void 0,void 0,void 0,e.props)}function fd(e){return typeof e=="object"&&e!==null&&e.$$typeof===od}function ZA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gp=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZA(""+e.key):t.toString(36)}function Fp(){}function JA(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Fp,Fp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Rr(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case od:case BA:s=!0;break;case Y_:return s=e._init,Rr(s(e._payload),t,n,i,r)}}if(s)return r=r(e),s=i===""?"."+Vc(e,0):i,qp(r)?(n="",s!=null&&(n=s.replace(Gp,"$&/")+"/"),Rr(r,t,n,"",function(c){return c})):r!=null&&(fd(r)&&(r=XA(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Gp,"$&/")+"/")+s)),t.push(r)),1;s=0;var o=i===""?".":i+":";if(qp(e))for(var u=0;u<e.length;u++)i=e[u],a=o+Vc(i,u),s+=Rr(i,t,n,a,r);else if(u=$A(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,a=o+Vc(i,u++),s+=Rr(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return Rr(JA(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function ql(e,t,n){if(e==null)return e;var i=[],r=0;return Rr(e,i,"","",function(a){return t.call(n,a,r++)}),i}function WA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function tS(){}Z.Children={map:ql,forEach:function(e,t,n){ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!fd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Ta;Z.Fragment=jA;Z.Profiler=qA;Z.PureComponent=ud;Z.StrictMode=HA;Z.Suspense=KA;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt;Z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Tt.H.useMemoCache(e)}};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=X_({},e.props),r=e.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!W_.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];i.children=o}return hd(e.type,r,void 0,void 0,a,i)};Z.createContext=function(e){return e={$$typeof:FA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:GA,_context:e},e};Z.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)W_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];r.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return hd(e,a,void 0,void 0,null,r)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:QA,render:e}};Z.isValidElement=fd;Z.lazy=function(e){return{$$typeof:Y_,_payload:{_status:-1,_result:e},_init:WA}};Z.memo=function(e,t){return{$$typeof:YA,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Tt.T,n={};Tt.T=n;try{var i=e(),r=Tt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(tS,Qp)}catch(a){Qp(a)}finally{Tt.T=t}};Z.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()};Z.use=function(e){return Tt.H.use(e)};Z.useActionState=function(e,t,n){return Tt.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return Tt.H.useCallback(e,t)};Z.useContext=function(e){return Tt.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return Tt.H.useDeferredValue(e,t)};Z.useEffect=function(e,t,n){var i=Tt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};Z.useId=function(){return Tt.H.useId()};Z.useImperativeHandle=function(e,t,n){return Tt.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Tt.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Tt.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Tt.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return Tt.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return Tt.H.useReducer(e,t,n)};Z.useRef=function(e){return Tt.H.useRef(e)};Z.useState=function(e){return Tt.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Tt.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Tt.H.useTransition()};Z.version="19.1.0";K_.exports=Z;var V=K_.exports;const eS=G_(V);var tv={exports:{}},xu={},ev={exports:{}},nv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,$){var K=H.length;H.push($);t:for(;0<K;){var yt=K-1>>>1,Nt=H[yt];if(0<r(Nt,$))H[yt]=$,H[K]=Nt,K=yt;else break t}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var $=H[0],K=H.pop();if(K!==$){H[0]=K;t:for(var yt=0,Nt=H.length,_r=Nt>>>1;yt<_r;){var Ce=2*(yt+1)-1,Ut=H[Ce],En=Ce+1,rn=H[En];if(0>r(Ut,K))En<Nt&&0>r(rn,Ut)?(H[yt]=rn,H[En]=K,yt=En):(H[yt]=Ut,H[Ce]=K,yt=Ce);else if(En<Nt&&0>r(rn,K))H[yt]=rn,H[En]=K,yt=En;else break t}}return $}function r(H,$){var K=H.sortIndex-$.sortIndex;return K!==0?K:H.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],c=[],f=1,m=null,p=3,g=!1,D=!1,M=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var $=n(c);$!==null;){if($.callback===null)i(c);else if($.startTime<=H)i(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(c)}}function L(H){if(M=!1,w(H),!D)if(n(u)!==null)D=!0,z||(z=!0,N());else{var $=n(c);$!==null&&vn(L,$.startTime-H)}}var z=!1,b=-1,_=5,A=-1;function S(){return x?!0:!(e.unstable_now()-A<_)}function C(){if(x=!1,z){var H=e.unstable_now();A=H;var $=!0;try{t:{D=!1,M&&(M=!1,T(b),b=-1),g=!0;var K=p;try{e:{for(w(H),m=n(u);m!==null&&!(m.expirationTime>H&&S());){var yt=m.callback;if(typeof yt=="function"){m.callback=null,p=m.priorityLevel;var Nt=yt(m.expirationTime<=H);if(H=e.unstable_now(),typeof Nt=="function"){m.callback=Nt,w(H),$=!0;break e}m===n(u)&&i(u),w(H)}else i(u);m=n(u)}if(m!==null)$=!0;else{var _r=n(c);_r!==null&&vn(L,_r.startTime-H),$=!1}}break t}finally{m=null,p=K,g=!1}$=void 0}}finally{$?N():z=!1}}}var N;if(typeof v=="function")N=function(){v(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xe=R.port2;R.port1.onmessage=C,N=function(){Xe.postMessage(null)}}else N=function(){E(C,0)};function vn(H,$){b=E(function(){H(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var K=p;p=$;try{return H()}finally{p=K}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=p;p=H;try{return $()}finally{p=K}},e.unstable_scheduleCallback=function(H,$,K){var yt=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?yt+K:yt):K=yt,H){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=K+Nt,H={id:f++,callback:$,priorityLevel:H,startTime:K,expirationTime:Nt,sortIndex:-1},K>yt?(H.sortIndex=K,t(c,H),n(u)===null&&H===n(c)&&(M?(T(b),b=-1):M=!0,vn(L,K-yt))):(H.sortIndex=Nt,t(u,H),D||g||(D=!0,z||(z=!0,N()))),H},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(H){var $=p;return function(){var K=p;p=$;try{return H.apply(this,arguments)}finally{p=K}}}})(nv);ev.exports=nv;var nS=ev.exports,iv={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS=V;function rv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Xn(){}var ye={d:{f:Xn,r:function(){throw Error(rv(522))},D:Xn,C:Xn,L:Xn,m:Xn,X:Xn,S:Xn,M:Xn},p:0,findDOMNode:null},rS=Symbol.for("react.portal");function aS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var cs=iS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Nu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;_e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(rv(299));return aS(e,t,null,n)};_e.flushSync=function(e){var t=cs.T,n=ye.p;try{if(cs.T=null,ye.p=2,e)return e()}finally{cs.T=t,ye.p=n,ye.d.f()}};_e.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ye.d.C(e,t))};_e.prefetchDNS=function(e){typeof e=="string"&&ye.d.D(e)};_e.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Nu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&ye.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_e.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Nu(t.as,t.crossOrigin);ye.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ye.d.M(e)};_e.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Nu(n,t.crossOrigin);ye.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_e.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Nu(t.as,t.crossOrigin);ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ye.d.m(e)};_e.requestFormReset=function(e){ye.d.r(e)};_e.unstable_batchedUpdates=function(e,t){return e(t)};_e.useFormState=function(e,t,n){return cs.H.useFormState(e,t,n)};_e.useFormStatus=function(){return cs.H.useHostTransitionStatus()};_e.version="19.1.0";function av(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(av)}catch(e){console.error(e)}}av(),iv.exports=_e;var sS=iv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt=nS,sv=V,lS=sS;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ov(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kp(e){if(tl(e)!==e)throw Error(P(188))}function oS(e){var t=e.alternate;if(!t){if(t=tl(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Kp(r),e;if(a===i)return Kp(r),t;a=a.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function uv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=uv(e),t!==null)return t;e=e.sibling}return null}var vt=Object.assign,uS=Symbol.for("react.element"),Gl=Symbol.for("react.transitional.element"),ns=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),Mh=Symbol.for("react.profiler"),cS=Symbol.for("react.provider"),hv=Symbol.for("react.consumer"),Cn=Symbol.for("react.context"),dd=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),Uh=Symbol.for("react.suspense_list"),md=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Lh=Symbol.for("react.activity"),hS=Symbol.for("react.memo_cache_sentinel"),Yp=Symbol.iterator;function Fa(e){return e===null||typeof e!="object"?null:(e=Yp&&e[Yp]||e["@@iterator"],typeof e=="function"?e:null)}var fS=Symbol.for("react.client.reference");function kh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mr:return"Fragment";case Mh:return"Profiler";case cv:return"StrictMode";case Vh:return"Suspense";case Uh:return"SuspenseList";case Lh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ns:return"Portal";case Cn:return(e.displayName||"Context")+".Provider";case hv:return(e._context.displayName||"Context")+".Consumer";case dd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case md:return t=e.displayName||null,t!==null?t:kh(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return kh(e(t))}catch{}}return null}var is=Array.isArray,Q=sv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=lS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qi={pending:!1,data:null,method:null,action:null},Ph=[],Vr=-1;function gn(e){return{current:e}}function Yt(e){0>Vr||(e.current=Ph[Vr],Ph[Vr]=null,Vr--)}function bt(e,t){Vr++,Ph[Vr]=e.current,e.current=t}var cn=gn(null),Ns=gn(null),hi=gn(null),Uo=gn(null);function Lo(e,t){switch(bt(hi,t),bt(Ns,e),bt(cn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wg(t),e=D0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Yt(cn),bt(cn,e)}function ea(){Yt(cn),Yt(Ns),Yt(hi)}function zh(e){e.memoizedState!==null&&bt(Uo,e);var t=cn.current,n=D0(t,e.type);t!==n&&(bt(Ns,e),bt(cn,n))}function ko(e){Ns.current===e&&(Yt(cn),Yt(Ns)),Uo.current===e&&(Yt(Uo),Bs._currentValue=Qi)}var Bh=Object.prototype.hasOwnProperty,pd=qt.unstable_scheduleCallback,Uc=qt.unstable_cancelCallback,dS=qt.unstable_shouldYield,mS=qt.unstable_requestPaint,hn=qt.unstable_now,pS=qt.unstable_getCurrentPriorityLevel,fv=qt.unstable_ImmediatePriority,dv=qt.unstable_UserBlockingPriority,Po=qt.unstable_NormalPriority,gS=qt.unstable_LowPriority,mv=qt.unstable_IdlePriority,yS=qt.log,_S=qt.unstable_setDisableYieldValue,el=null,Ve=null;function ai(e){if(typeof yS=="function"&&_S(e),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(el,e)}catch{}}var Ue=Math.clz32?Math.clz32:TS,vS=Math.log,ES=Math.LN2;function TS(e){return e>>>=0,e===0?32:31-(vS(e)/ES|0)|0}var Fl=256,Ql=4194304;function Bi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ou(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?r=Bi(i):(s&=o,s!==0?r=Bi(s):n||(n=o&~e,n!==0&&(r=Bi(n))))):(o=i&~a,o!==0?r=Bi(o):s!==0?r=Bi(s):n||(n=i&~e,n!==0&&(r=Bi(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function nl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pv(){var e=Fl;return Fl<<=1,!(Fl&4194048)&&(Fl=256),e}function gv(){var e=Ql;return Ql<<=1,!(Ql&62914560)&&(Ql=4194304),e}function Lc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function il(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function AS(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var f=31-Ue(n),m=1<<f;o[f]=0,u[f]=-1;var p=c[f];if(p!==null)for(c[f]=null,f=0;f<p.length;f++){var g=p[f];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&yv(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function yv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ue(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function _v(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ue(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function gd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function vv(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:P0(e.type))}function SS(e,t){var n=ut.p;try{return ut.p=e,t()}finally{ut.p=n}}var Mi=Math.random().toString(36).slice(2),ce="__reactFiber$"+Mi,Re="__reactProps$"+Mi,ba="__reactContainer$"+Mi,jh="__reactEvents$"+Mi,RS="__reactListeners$"+Mi,wS="__reactHandles$"+Mi,$p="__reactResources$"+Mi,rl="__reactMarker$"+Mi;function _d(e){delete e[ce],delete e[Re],delete e[jh],delete e[RS],delete e[wS]}function Ur(e){var t=e[ce];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ba]||n[ce]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ny(e);e!==null;){if(n=e[ce])return n;e=ny(e)}return t}e=n,n=e.parentNode}return null}function Aa(e){if(e=e[ce]||e[ba]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function rs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function Fr(e){var t=e[$p];return t||(t=e[$p]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qt(e){e[rl]=!0}var Ev=new Set,Tv={};function cr(e,t){na(e,t),na(e+"Capture",t)}function na(e,t){for(Tv[e]=t,e=0;e<t.length;e++)Ev.add(t[e])}var CS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xp={},Zp={};function DS(e){return Bh.call(Zp,e)?!0:Bh.call(Xp,e)?!1:CS.test(e)?Zp[e]=!0:(Xp[e]=!0,!1)}function mo(e,t,n){if(DS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Kl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function An(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var kc,Jp;function wr(e){if(kc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kc=t&&t[1]||"",Jp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kc+e+Jp}var Pc=!1;function zc(e,t){if(!e||Pc)return"";Pc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var p=g}Reflect.construct(e,[],m)}else{try{m.call()}catch(g){p=g}e.call(m.prototype)}}else{try{throw Error()}catch(g){p=g}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var u=s.split(`
`),c=o.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=r);break}}}finally{Pc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?wr(n):""}function xS(e){switch(e.tag){case 26:case 27:case 5:return wr(e.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 15:return zc(e.type,!1);case 11:return zc(e.type.render,!1);case 1:return zc(e.type,!0);case 31:return wr("Activity");default:return""}}function Wp(e){try{var t="";do t+=xS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NS(e){var t=bv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zo(e){e._valueTracker||(e._valueTracker=NS(e))}function Av(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=bv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var OS=/[\n"\\]/g;function Fe(e){return e.replace(OS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hh(e,t,n,i,r,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+He(t)):e.value!==""+He(t)&&(e.value=""+He(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?qh(e,s,He(t)):n!=null?qh(e,s,He(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+He(o):e.removeAttribute("name")}function Sv(e,t,n,i,r,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+He(n):"",t=t!=null?""+He(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function qh(e,t,n){t==="number"&&Bo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Qr(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+He(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Rv(e,t,n){if(t!=null&&(t=""+He(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+He(n):""}function wv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(is(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=He(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var IS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||IS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Cv(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&tg(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&tg(e,a,t[a])}function vd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(e){return VS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gh=null;function Ed(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lr=null,Kr=null;function eg(e){var t=Aa(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;t:switch(e=t.stateNode,t.type){case"input":if(Hh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Fe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Re]||null;if(!r)throw Error(P(90));Hh(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Av(i)}break t;case"textarea":Rv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Qr(e,!!n.multiple,t,!1)}}}var Bc=!1;function Dv(e,t,n){if(Bc)return e(t,n);Bc=!0;try{var i=e(t);return i}finally{if(Bc=!1,(Lr!==null||Kr!==null)&&(ju(),Lr&&(t=Lr,e=Kr,Kr=Lr=null,eg(t),e)))for(t=0;t<e.length;t++)eg(e[t])}}function Os(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=!1;if(kn)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Fh=!1}var si=null,Td=null,go=null;function xv(){if(go)return go;var e,t=Td,n=t.length,i,r="value"in si?si.value:si.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[a-i];i++);return go=r.slice(e,1<i?1-i:void 0)}function yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function ng(){return!1}function we(e){function t(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yl:ng,this.isPropagationStopped=ng,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=we(hr),al=vt({},hr,{view:0,detail:0}),US=we(al),jc,Hc,Ka,Mu=vt({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ka&&(Ka&&e.type==="mousemove"?(jc=e.screenX-Ka.screenX,Hc=e.screenY-Ka.screenY):Hc=jc=0,Ka=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),ig=we(Mu),LS=vt({},Mu,{dataTransfer:0}),kS=we(LS),PS=vt({},al,{relatedTarget:0}),qc=we(PS),zS=vt({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),BS=we(zS),jS=vt({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HS=we(jS),qS=vt({},hr,{data:0}),rg=we(qS),GS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QS[e])?!!t[e]:!1}function bd(){return KS}var YS=vt({},al,{key:function(e){if(e.key){var t=GS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bd,charCode:function(e){return e.type==="keypress"?yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$S=we(YS),XS=vt({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=we(XS),ZS=vt({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bd}),JS=we(ZS),WS=vt({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),t1=we(WS),e1=vt({},Mu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n1=we(e1),i1=vt({},hr,{newState:0,oldState:0}),r1=we(i1),a1=[9,13,27,32],Ad=kn&&"CompositionEvent"in window,hs=null;kn&&"documentMode"in document&&(hs=document.documentMode);var s1=kn&&"TextEvent"in window&&!hs,Nv=kn&&(!Ad||hs&&8<hs&&11>=hs),sg=" ",lg=!1;function Ov(e,t){switch(e){case"keyup":return a1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kr=!1;function l1(e,t){switch(e){case"compositionend":return Iv(t);case"keypress":return t.which!==32?null:(lg=!0,sg);case"textInput":return e=t.data,e===sg&&lg?null:e;default:return null}}function o1(e,t){if(kr)return e==="compositionend"||!Ad&&Ov(e,t)?(e=xv(),go=Td=si=null,kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nv&&t.locale!=="ko"?null:t.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u1[e.type]:t==="textarea"}function Mv(e,t,n,i){Lr?Kr?Kr.push(i):Kr=[i]:Lr=i,t=ru(t,"onChange"),0<t.length&&(n=new Iu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var fs=null,Is=null;function c1(e){R0(e,0)}function Vu(e){var t=rs(e);if(Av(t))return e}function ug(e,t){if(e==="change")return t}var Vv=!1;if(kn){var Gc;if(kn){var Fc="oninput"in document;if(!Fc){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),Fc=typeof cg.oninput=="function"}Gc=Fc}else Gc=!1;Vv=Gc&&(!document.documentMode||9<document.documentMode)}function hg(){fs&&(fs.detachEvent("onpropertychange",Uv),Is=fs=null)}function Uv(e){if(e.propertyName==="value"&&Vu(Is)){var t=[];Mv(t,Is,e,Ed(e)),Dv(c1,t)}}function h1(e,t,n){e==="focusin"?(hg(),fs=t,Is=n,fs.attachEvent("onpropertychange",Uv)):e==="focusout"&&hg()}function f1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(Is)}function d1(e,t){if(e==="click")return Vu(t)}function m1(e,t){if(e==="input"||e==="change")return Vu(t)}function p1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pe=typeof Object.is=="function"?Object.is:p1;function Ms(e,t){if(Pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Bh.call(t,r)||!Pe(e[r],t[r]))return!1}return!0}function fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,t){var n=fg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=fg(n)}}function Lv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bo(e.document)}return t}function Sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var g1=kn&&"documentMode"in document&&11>=document.documentMode,Pr=null,Qh=null,ds=null,Kh=!1;function mg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kh||Pr==null||Pr!==Bo(i)||(i=Pr,"selectionStart"in i&&Sd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ds&&Ms(ds,i)||(ds=i,i=ru(Qh,"onSelect"),0<i.length&&(t=new Iu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Pr)))}function zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zr={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},Qc={},Pv={};kn&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function fr(e){if(Qc[e])return Qc[e];if(!zr[e])return e;var t=zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pv)return Qc[e]=t[n];return e}var zv=fr("animationend"),Bv=fr("animationiteration"),jv=fr("animationstart"),y1=fr("transitionrun"),_1=fr("transitionstart"),v1=fr("transitioncancel"),Hv=fr("transitionend"),qv=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function nn(e,t){qv.set(e,t),cr(t,[e])}var pg=new WeakMap;function Qe(e,t){if(typeof e=="object"&&e!==null){var n=pg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Wp(t)},pg.set(e,t),t)}return{value:e,source:t,stack:Wp(t)}}var je=[],Br=0,Rd=0;function Uu(){for(var e=Br,t=Rd=Br=0;t<e;){var n=je[t];je[t++]=null;var i=je[t];je[t++]=null;var r=je[t];je[t++]=null;var a=je[t];if(je[t++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&Gv(n,r,a)}}function Lu(e,t,n,i){je[Br++]=e,je[Br++]=t,je[Br++]=n,je[Br++]=i,Rd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function wd(e,t,n,i){return Lu(e,t,n,i),jo(e)}function Sa(e,t){return Lu(e,null,null,t),jo(e)}function Gv(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-Ue(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function jo(e){if(50<As)throw As=0,gf=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var jr={};function E1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,n,i){return new E1(e,t,n,i)}function Cd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function In(e,t){var n=e.alternate;return n===null?(n=Ie(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _o(e,t,n,i,r,a){var s=0;if(i=e,typeof e=="function")Cd(e)&&(s=1);else if(typeof e=="string")s=bR(e,n,cn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Lh:return e=Ie(31,n,t,r),e.elementType=Lh,e.lanes=a,e;case Mr:return Ki(n.children,r,a,t);case cv:s=8,r|=24;break;case Mh:return e=Ie(12,n,t,r|2),e.elementType=Mh,e.lanes=a,e;case Vh:return e=Ie(13,n,t,r),e.elementType=Vh,e.lanes=a,e;case Uh:return e=Ie(19,n,t,r),e.elementType=Uh,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cS:case Cn:s=10;break t;case hv:s=9;break t;case dd:s=11;break t;case md:s=14;break t;case Wn:s=16,i=null;break t}s=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=Ie(s,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Ki(e,t,n,i){return e=Ie(7,e,i,t),e.lanes=n,e}function Kc(e,t,n){return e=Ie(6,e,null,t),e.lanes=n,e}function Yc(e,t,n){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],qr=0,Ho=null,qo=0,qe=[],Ge=0,Yi=null,Dn=1,xn="";function ji(e,t){Hr[qr++]=qo,Hr[qr++]=Ho,Ho=e,qo=t}function Qv(e,t,n){qe[Ge++]=Dn,qe[Ge++]=xn,qe[Ge++]=Yi,Yi=e;var i=Dn;e=xn;var r=32-Ue(i)-1;i&=~(1<<r),n+=1;var a=32-Ue(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Dn=1<<32-Ue(t)+r|n<<r|i,xn=a+e}else Dn=1<<a|n<<r|i,xn=e}function Dd(e){e.return!==null&&(ji(e,1),Qv(e,1,0))}function xd(e){for(;e===Ho;)Ho=Hr[--qr],Hr[qr]=null,qo=Hr[--qr],Hr[qr]=null;for(;e===Yi;)Yi=qe[--Ge],qe[Ge]=null,xn=qe[--Ge],qe[Ge]=null,Dn=qe[--Ge],qe[Ge]=null}var pe=null,Ct=null,ot=!1,$i=null,ln=!1,$h=Error(P(519));function nr(e){var t=Error(P(418,""));throw Vs(Qe(t,e)),$h}function gg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ce]=e,t[Re]=i,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<ks.length;n++)tt(ks[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),Sv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),zo(t);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),wv(t,i.value,i.defaultValue,i.children),zo(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||C0(t.textContent,n)?(i.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),i.onScroll!=null&&tt("scroll",t),i.onScrollEnd!=null&&tt("scrollend",t),i.onClick!=null&&(t.onclick=Gu),t=!0):t=!1,t||nr(e)}function yg(e){for(pe=e.return;pe;)switch(pe.tag){case 5:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:pe=pe.return}}function Ya(e){if(e!==pe)return!1;if(!ot)return yg(e),ot=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||bf(e.type,e.memoizedProps)),n=!n),n&&Ct&&nr(e),yg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ct=tn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ct=null}}else t===27?(t=Ct,Vi(e.type)?(e=Rf,Rf=null,Ct=e):Ct=t):Ct=pe?tn(e.stateNode.nextSibling):null;return!0}function sl(){Ct=pe=null,ot=!1}function _g(){var e=$i;return e!==null&&(Te===null?Te=e:Te.push.apply(Te,e),$i=null),e}function Vs(e){$i===null?$i=[e]:$i.push(e)}var Xh=gn(null),dr=null,Nn=null;function ei(e,t,n){bt(Xh,t._currentValue),t._currentValue=n}function Mn(e){e._currentValue=Xh.current,Yt(Xh)}function Zh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Jh(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=r;for(var u=0;u<t.length;u++)if(o.context===t[u]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Zh(a.return,n,e),i||(s=null);break t}a=o.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(P(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Zh(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function ll(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(P(387));if(s=s.memoizedProps,s!==null){var o=r.type;Pe(r.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(r===Uo.current){if(s=r.alternate,s===null)throw Error(P(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Bs):e=[Bs])}r=r.return}e!==null&&Jh(t,e,n,i),t.flags|=262144}function Go(e){for(e=e.firstContext;e!==null;){if(!Pe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ir(e){dr=e,Nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function he(e){return Kv(dr,e)}function $l(e,t){return dr===null&&ir(e),Kv(e,t)}function Kv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Nn===null){if(e===null)throw Error(P(308));Nn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Nn=Nn.next=t;return n}var T1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},b1=qt.unstable_scheduleCallback,A1=qt.unstable_NormalPriority,zt={$$typeof:Cn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new T1,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&b1(A1,function(){e.controller.abort()})}var ms=null,Wh=0,ra=0,Yr=null;function S1(e,t){if(ms===null){var n=ms=[];Wh=0,ra=Wd(),Yr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Wh++,t.then(vg,vg),t}function vg(){if(--Wh===0&&ms!==null){Yr!==null&&(Yr.status="fulfilled");var e=ms;ms=null,ra=0,Yr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function R1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Eg=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&S1(e,t),Eg!==null&&Eg(e,t)};var Xi=gn(null);function Od(){var e=Xi.current;return e!==null?e:gt.pooledCache}function vo(e,t){t===null?bt(Xi,Xi.current):bt(Xi,t.pool)}function Yv(){var e=Od();return e===null?null:{parent:zt._currentValue,pool:e}}var ul=Error(P(460)),$v=Error(P(474)),ku=Error(P(542)),tf={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xl(){}function Xv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Xl,Xl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ag(e),e;default:if(typeof t.status=="string")t.then(Xl,Xl);else{if(e=gt,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ag(e),e}throw ps=t,ul}}var ps=null;function bg(){if(ps===null)throw Error(P(459));var e=ps;return ps=null,e}function Ag(e){if(e===ul||e===ku)throw Error(P(483))}var ti=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function di(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ht&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=jo(e),Gv(e,null,n),t}return Lu(e,i,t,n),jo(e)}function gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,_v(e,n)}}function $c(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var nf=!1;function ys(){if(nf){var e=Yr;if(e!==null)throw e}}function _s(e,t,n,i){nf=!1;var r=e.updateQueue;ti=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==s&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(a!==null){var m=r.baseState;s=0,f=c=u=null,o=a;do{var p=o.lane&-536870913,g=p!==o.lane;if(g?(rt&p)===p:(i&p)===p){p!==0&&p===ra&&(nf=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var D=e,M=o;p=t;var x=n;switch(M.tag){case 1:if(D=M.payload,typeof D=="function"){m=D.call(x,m,p);break t}m=D;break t;case 3:D.flags=D.flags&-65537|128;case 0:if(D=M.payload,p=typeof D=="function"?D.call(x,m,p):D,p==null)break t;m=vt({},m,p);break t;case 2:ti=!0}}p=o.callback,p!==null&&(e.flags|=64,g&&(e.flags|=8192),g=r.callbacks,g===null?r.callbacks=[p]:g.push(p))}else g={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=g,u=m):f=f.next=g,s|=p;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;g=o,o=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);f===null&&(u=m),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,a===null&&(r.shared.lanes=0),Ri|=s,e.lanes=s,e.memoizedState=m}}function Zv(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function Jv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Zv(n[e],t)}var aa=gn(null),Fo=gn(0);function Sg(e,t){e=Bn,bt(Fo,e),bt(aa,t),Bn=e|t.baseLanes}function rf(){bt(Fo,Bn),bt(aa,aa.current)}function Md(){Bn=Fo.current,Yt(aa),Yt(Fo)}var Ai=0,J=null,dt=null,kt=null,Qo=!1,$r=!1,rr=!1,Ko=0,Us=0,Xr=null,w1=0;function Ot(){throw Error(P(321))}function Vd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pe(e[n],t[n]))return!1;return!0}function Ud(e,t,n,i,r,a){return Ai=a,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?xE:NE,rr=!1,a=n(i,r),rr=!1,$r&&(a=tE(t,n,i,r)),Wv(e),a}function Wv(e){Q.H=Yo;var t=dt!==null&&dt.next!==null;if(Ai=0,kt=dt=J=null,Qo=!1,Us=0,Xr=null,t)throw Error(P(300));e===null||Kt||(e=e.dependencies,e!==null&&Go(e)&&(Kt=!0))}function tE(e,t,n,i){J=e;var r=0;do{if($r&&(Xr=null),Us=0,$r=!1,25<=r)throw Error(P(301));if(r+=1,kt=dt=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Q.H=M1,a=t(n,i)}while($r);return a}function C1(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?cl(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(J.flags|=1024),t}function Ld(){var e=Ko!==0;return Ko=0,e}function kd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Pd(e){if(Qo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qo=!1}Ai=0,kt=dt=J=null,$r=!1,Us=Ko=0,Xr=null}function ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?J.memoizedState=kt=e:kt=kt.next=e,kt}function Pt(){if(dt===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=kt===null?J.memoizedState:kt.next;if(t!==null)kt=t,dt=e;else{if(e===null)throw J.alternate===null?Error(P(467)):Error(P(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},kt===null?J.memoizedState=kt=e:kt=kt.next=e}return kt}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var t=Us;return Us+=1,Xr===null&&(Xr=[]),e=Xv(Xr,e,t),t=J,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?xE:NE),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===Cn)return he(e)}throw Error(P(438,String(e)))}function Bd(e){var t=null,n=J.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=zd(),J.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=hS;return t.index++,n}function Pn(e,t){return typeof t=="function"?t(e):t}function Eo(e){var t=Pt();return jd(t,dt,e)}function jd(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var o=s=null,u=null,c=t,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(rt&m)===m:(Ai&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===ra&&(f=!0);else if((Ai&p)===p){c=c.next,p===ra&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,s=a):u=u.next=m,J.lanes|=p,Ri|=p;m=c.action,rr&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else p={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=p,s=a):u=u.next=p,J.lanes|=m,Ri|=m;c=c.next}while(c!==null&&c!==t);if(u===null?s=a:u.next=o,!Pe(a,e.memoizedState)&&(Kt=!0,f&&(n=Yr,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Xc(e){var t=Pt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=e(a,s.action),s=s.next;while(s!==r);Pe(a,t.memoizedState)||(Kt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function eE(e,t,n){var i=J,r=Pt(),a=ot;if(a){if(n===void 0)throw Error(P(407));n=n()}else n=t();var s=!Pe((dt||r).memoizedState,n);s&&(r.memoizedState=n,Kt=!0),r=r.queue;var o=rE.bind(null,i,r,e);if(hl(2048,8,o,[e]),r.getSnapshot!==t||s||kt!==null&&kt.memoizedState.tag&1){if(i.flags|=2048,sa(9,zu(),iE.bind(null,i,r,n,t),null),gt===null)throw Error(P(349));a||Ai&124||nE(i,t,n)}return n}function nE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t=zd(),J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iE(e,t,n,i){t.value=n,t.getSnapshot=i,aE(t)&&sE(e)}function rE(e,t,n){return n(function(){aE(t)&&sE(e)})}function aE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pe(e,n)}catch{return!0}}function sE(e){var t=Sa(e,2);t!==null&&ke(t,e,2)}function af(e){var t=ve();if(typeof e=="function"){var n=e;if(e=n(),rr){ai(!0);try{n()}finally{ai(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:e},t}function lE(e,t,n,i){return e.baseState=n,jd(e,dt,typeof i=="function"?i:Pn)}function D1(e,t,n,i,r){if(Bu(e))throw Error(P(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};Q.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,oE(t,a)):(a.next=n.next,t.pending=n.next=a)}}function oE(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=Q.T,s={};Q.T=s;try{var o=n(r,i),u=Q.S;u!==null&&u(s,o),Rg(e,t,o)}catch(c){sf(e,t,c)}finally{Q.T=a}}else try{a=n(r,i),Rg(e,t,a)}catch(c){sf(e,t,c)}}function Rg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){wg(e,t,i)},function(i){return sf(e,t,i)}):wg(e,t,n)}function wg(e,t,n){t.status="fulfilled",t.value=n,uE(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,oE(e,n)))}function sf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,uE(t),t=t.next;while(t!==i)}e.action=null}function uE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cE(e,t){return t}function Cg(e,t){if(ot){var n=gt.formState;if(n!==null){t:{var i=J;if(ot){if(Ct){e:{for(var r=Ct,a=ln;r.nodeType!==8;){if(!a){r=null;break e}if(r=tn(r.nextSibling),r===null){r=null;break e}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Ct=tn(r.nextSibling),i=r.data==="F!";break t}}nr(i)}i=!1}i&&(t=n[0])}}return n=ve(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cE,lastRenderedState:t},n.queue=i,n=wE.bind(null,J,i),i.dispatch=n,i=af(!1),a=Fd.bind(null,J,!1,i.queue),i=ve(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=D1.bind(null,J,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Dg(e){var t=Pt();return hE(t,dt,e)}function hE(e,t,n){if(t=jd(e,t,cE)[0],e=Eo(Pn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=cl(t)}catch(s){throw s===ul?ku:s}else i=t;t=Pt();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(J.flags|=2048,sa(9,zu(),x1.bind(null,r,n),null)),[i,a,e]}function x1(e,t){e.action=t}function xg(e){var t=Pt(),n=dt;if(n!==null)return hE(t,n,e);Pt(),t=t.memoizedState,n=Pt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function sa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=J.updateQueue,t===null&&(t=zd(),J.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function zu(){return{destroy:void 0,resource:void 0}}function fE(){return Pt().memoizedState}function To(e,t,n,i){var r=ve();i=i===void 0?null:i,J.flags|=e,r.memoizedState=sa(1|t,zu(),n,i)}function hl(e,t,n,i){var r=Pt();i=i===void 0?null:i;var a=r.memoizedState.inst;dt!==null&&i!==null&&Vd(i,dt.memoizedState.deps)?r.memoizedState=sa(t,a,n,i):(J.flags|=e,r.memoizedState=sa(1|t,a,n,i))}function Ng(e,t){To(8390656,8,e,t)}function dE(e,t){hl(2048,8,e,t)}function mE(e,t){return hl(4,2,e,t)}function pE(e,t){return hl(4,4,e,t)}function gE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yE(e,t,n){n=n!=null?n.concat([e]):null,hl(4,4,gE.bind(null,t,e),n)}function Hd(){}function _E(e,t){var n=Pt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Vd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function vE(e,t){var n=Pt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Vd(t,i[1]))return i[0];if(i=e(),rr){ai(!0);try{e()}finally{ai(!1)}}return n.memoizedState=[i,t],i}function qd(e,t,n){return n===void 0||Ai&1073741824?e.memoizedState=t:(e.memoizedState=n,e=u0(),J.lanes|=e,Ri|=e,n)}function EE(e,t,n,i){return Pe(n,t)?n:aa.current!==null?(e=qd(e,n,i),Pe(e,t)||(Kt=!0),e):Ai&42?(e=u0(),J.lanes|=e,Ri|=e,t):(Kt=!0,e.memoizedState=n)}function TE(e,t,n,i,r){var a=ut.p;ut.p=a!==0&&8>a?a:8;var s=Q.T,o={};Q.T=o,Fd(e,!1,t,n);try{var u=r(),c=Q.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=R1(u,i);vs(e,t,f,Le(e))}else vs(e,t,i,Le(e))}catch(m){vs(e,t,{then:function(){},status:"rejected",reason:m},Le())}finally{ut.p=a,Q.T=s}}function N1(){}function lf(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=bE(e).queue;TE(e,r,t,Qi,n===null?N1:function(){return AE(e),n(i)})}function bE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Qi,baseState:Qi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:Qi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function AE(e){var t=bE(e).next.queue;vs(e,t,{},Le())}function Gd(){return he(Bs)}function SE(){return Pt().memoizedState}function RE(){return Pt().memoizedState}function O1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Le();e=fi(n);var i=di(t,e,n);i!==null&&(ke(i,t,n),gs(i,t,n)),t={cache:Nd()},e.payload=t;return}t=t.return}}function I1(e,t,n){var i=Le();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bu(e)?CE(t,n):(n=wd(e,t,n,i),n!==null&&(ke(n,e,i),DE(n,t,i)))}function wE(e,t,n){var i=Le();vs(e,t,n,i)}function vs(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))CE(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,Pe(o,s))return Lu(e,t,r,0),gt===null&&Uu(),!1}catch{}finally{}if(n=wd(e,t,r,i),n!==null)return ke(n,e,i),DE(n,t,i),!0}return!1}function Fd(e,t,n,i){if(i={lane:2,revertLane:Wd(),action:i,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(t)throw Error(P(479))}else t=wd(e,n,i,2),t!==null&&ke(t,e,2)}function Bu(e){var t=e.alternate;return e===J||t!==null&&t===J}function CE(e,t){$r=Qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function DE(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,_v(e,n)}}var Yo={readContext:he,use:Pu,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},xE={readContext:he,use:Pu,useCallback:function(e,t){return ve().memoizedState=[e,t===void 0?null:t],e},useContext:he,useEffect:Ng,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,To(4194308,4,gE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){To(4,2,e,t)},useMemo:function(e,t){var n=ve();t=t===void 0?null:t;var i=e();if(rr){ai(!0);try{e()}finally{ai(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ve();if(n!==void 0){var r=n(t);if(rr){ai(!0);try{n(t)}finally{ai(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=I1.bind(null,J,e),[i.memoizedState,e]},useRef:function(e){var t=ve();return e={current:e},t.memoizedState=e},useState:function(e){e=af(e);var t=e.queue,n=wE.bind(null,J,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Hd,useDeferredValue:function(e,t){var n=ve();return qd(n,e,t)},useTransition:function(){var e=af(!1);return e=TE.bind(null,J,e.queue,!0,!1),ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=J,r=ve();if(ot){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),gt===null)throw Error(P(349));rt&124||nE(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Ng(rE.bind(null,i,a,e),[e]),i.flags|=2048,sa(9,zu(),iE.bind(null,i,a,n,t),null),n},useId:function(){var e=ve(),t=gt.identifierPrefix;if(ot){var n=xn,i=Dn;n=(i&~(1<<32-Ue(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Ko++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=w1++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Gd,useFormState:Cg,useActionState:Cg,useOptimistic:function(e){var t=ve();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fd.bind(null,J,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bd,useCacheRefresh:function(){return ve().memoizedState=O1.bind(null,J)}},NE={readContext:he,use:Pu,useCallback:_E,useContext:he,useEffect:dE,useImperativeHandle:yE,useInsertionEffect:mE,useLayoutEffect:pE,useMemo:vE,useReducer:Eo,useRef:fE,useState:function(){return Eo(Pn)},useDebugValue:Hd,useDeferredValue:function(e,t){var n=Pt();return EE(n,dt.memoizedState,e,t)},useTransition:function(){var e=Eo(Pn)[0],t=Pt().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:eE,useId:SE,useHostTransitionStatus:Gd,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,t){var n=Pt();return lE(n,dt,e,t)},useMemoCache:Bd,useCacheRefresh:RE},M1={readContext:he,use:Pu,useCallback:_E,useContext:he,useEffect:dE,useImperativeHandle:yE,useInsertionEffect:mE,useLayoutEffect:pE,useMemo:vE,useReducer:Xc,useRef:fE,useState:function(){return Xc(Pn)},useDebugValue:Hd,useDeferredValue:function(e,t){var n=Pt();return dt===null?qd(n,e,t):EE(n,dt.memoizedState,e,t)},useTransition:function(){var e=Xc(Pn)[0],t=Pt().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:eE,useId:SE,useHostTransitionStatus:Gd,useFormState:xg,useActionState:xg,useOptimistic:function(e,t){var n=Pt();return dt!==null?lE(n,dt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:RE},Zr=null,Ls=0;function Zl(e){var t=Ls;return Ls+=1,Zr===null&&(Zr=[]),Xv(Zr,e,t)}function $a(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Jl(e,t){throw t.$$typeof===uS?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Og(e){var t=e._init;return t(e._payload)}function OE(e){function t(E,T){if(e){var v=E.deletions;v===null?(E.deletions=[T],E.flags|=16):v.push(T)}}function n(E,T){if(!e)return null;for(;T!==null;)t(E,T),T=T.sibling;return null}function i(E){for(var T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function r(E,T){return E=In(E,T),E.index=0,E.sibling=null,E}function a(E,T,v){return E.index=v,e?(v=E.alternate,v!==null?(v=v.index,v<T?(E.flags|=67108866,T):v):(E.flags|=67108866,T)):(E.flags|=1048576,T)}function s(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function o(E,T,v,w){return T===null||T.tag!==6?(T=Kc(v,E.mode,w),T.return=E,T):(T=r(T,v),T.return=E,T)}function u(E,T,v,w){var L=v.type;return L===Mr?f(E,T,v.props.children,w,v.key):T!==null&&(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Wn&&Og(L)===T.type)?(T=r(T,v.props),$a(T,v),T.return=E,T):(T=_o(v.type,v.key,v.props,null,E.mode,w),$a(T,v),T.return=E,T)}function c(E,T,v,w){return T===null||T.tag!==4||T.stateNode.containerInfo!==v.containerInfo||T.stateNode.implementation!==v.implementation?(T=Yc(v,E.mode,w),T.return=E,T):(T=r(T,v.children||[]),T.return=E,T)}function f(E,T,v,w,L){return T===null||T.tag!==7?(T=Ki(v,E.mode,w,L),T.return=E,T):(T=r(T,v),T.return=E,T)}function m(E,T,v){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Kc(""+T,E.mode,v),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gl:return v=_o(T.type,T.key,T.props,null,E.mode,v),$a(v,T),v.return=E,v;case ns:return T=Yc(T,E.mode,v),T.return=E,T;case Wn:var w=T._init;return T=w(T._payload),m(E,T,v)}if(is(T)||Fa(T))return T=Ki(T,E.mode,v,null),T.return=E,T;if(typeof T.then=="function")return m(E,Zl(T),v);if(T.$$typeof===Cn)return m(E,$l(E,T),v);Jl(E,T)}return null}function p(E,T,v,w){var L=T!==null?T.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return L!==null?null:o(E,T,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gl:return v.key===L?u(E,T,v,w):null;case ns:return v.key===L?c(E,T,v,w):null;case Wn:return L=v._init,v=L(v._payload),p(E,T,v,w)}if(is(v)||Fa(v))return L!==null?null:f(E,T,v,w,null);if(typeof v.then=="function")return p(E,T,Zl(v),w);if(v.$$typeof===Cn)return p(E,T,$l(E,v),w);Jl(E,v)}return null}function g(E,T,v,w,L){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return E=E.get(v)||null,o(T,E,""+w,L);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:return E=E.get(w.key===null?v:w.key)||null,u(T,E,w,L);case ns:return E=E.get(w.key===null?v:w.key)||null,c(T,E,w,L);case Wn:var z=w._init;return w=z(w._payload),g(E,T,v,w,L)}if(is(w)||Fa(w))return E=E.get(v)||null,f(T,E,w,L,null);if(typeof w.then=="function")return g(E,T,v,Zl(w),L);if(w.$$typeof===Cn)return g(E,T,v,$l(T,w),L);Jl(T,w)}return null}function D(E,T,v,w){for(var L=null,z=null,b=T,_=T=0,A=null;b!==null&&_<v.length;_++){b.index>_?(A=b,b=null):A=b.sibling;var S=p(E,b,v[_],w);if(S===null){b===null&&(b=A);break}e&&b&&S.alternate===null&&t(E,b),T=a(S,T,_),z===null?L=S:z.sibling=S,z=S,b=A}if(_===v.length)return n(E,b),ot&&ji(E,_),L;if(b===null){for(;_<v.length;_++)b=m(E,v[_],w),b!==null&&(T=a(b,T,_),z===null?L=b:z.sibling=b,z=b);return ot&&ji(E,_),L}for(b=i(b);_<v.length;_++)A=g(b,E,_,v[_],w),A!==null&&(e&&A.alternate!==null&&b.delete(A.key===null?_:A.key),T=a(A,T,_),z===null?L=A:z.sibling=A,z=A);return e&&b.forEach(function(C){return t(E,C)}),ot&&ji(E,_),L}function M(E,T,v,w){if(v==null)throw Error(P(151));for(var L=null,z=null,b=T,_=T=0,A=null,S=v.next();b!==null&&!S.done;_++,S=v.next()){b.index>_?(A=b,b=null):A=b.sibling;var C=p(E,b,S.value,w);if(C===null){b===null&&(b=A);break}e&&b&&C.alternate===null&&t(E,b),T=a(C,T,_),z===null?L=C:z.sibling=C,z=C,b=A}if(S.done)return n(E,b),ot&&ji(E,_),L;if(b===null){for(;!S.done;_++,S=v.next())S=m(E,S.value,w),S!==null&&(T=a(S,T,_),z===null?L=S:z.sibling=S,z=S);return ot&&ji(E,_),L}for(b=i(b);!S.done;_++,S=v.next())S=g(b,E,_,S.value,w),S!==null&&(e&&S.alternate!==null&&b.delete(S.key===null?_:S.key),T=a(S,T,_),z===null?L=S:z.sibling=S,z=S);return e&&b.forEach(function(N){return t(E,N)}),ot&&ji(E,_),L}function x(E,T,v,w){if(typeof v=="object"&&v!==null&&v.type===Mr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Gl:t:{for(var L=v.key;T!==null;){if(T.key===L){if(L=v.type,L===Mr){if(T.tag===7){n(E,T.sibling),w=r(T,v.props.children),w.return=E,E=w;break t}}else if(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Wn&&Og(L)===T.type){n(E,T.sibling),w=r(T,v.props),$a(w,v),w.return=E,E=w;break t}n(E,T);break}else t(E,T);T=T.sibling}v.type===Mr?(w=Ki(v.props.children,E.mode,w,v.key),w.return=E,E=w):(w=_o(v.type,v.key,v.props,null,E.mode,w),$a(w,v),w.return=E,E=w)}return s(E);case ns:t:{for(L=v.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===v.containerInfo&&T.stateNode.implementation===v.implementation){n(E,T.sibling),w=r(T,v.children||[]),w.return=E,E=w;break t}else{n(E,T);break}else t(E,T);T=T.sibling}w=Yc(v,E.mode,w),w.return=E,E=w}return s(E);case Wn:return L=v._init,v=L(v._payload),x(E,T,v,w)}if(is(v))return D(E,T,v,w);if(Fa(v)){if(L=Fa(v),typeof L!="function")throw Error(P(150));return v=L.call(v),M(E,T,v,w)}if(typeof v.then=="function")return x(E,T,Zl(v),w);if(v.$$typeof===Cn)return x(E,T,$l(E,v),w);Jl(E,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,T!==null&&T.tag===6?(n(E,T.sibling),w=r(T,v),w.return=E,E=w):(n(E,T),w=Kc(v,E.mode,w),w.return=E,E=w),s(E)):n(E,T)}return function(E,T,v,w){try{Ls=0;var L=x(E,T,v,w);return Zr=null,L}catch(b){if(b===ul||b===ku)throw b;var z=Ie(29,b,null,E.mode);return z.lanes=w,z.return=E,z}finally{}}}var la=OE(!0),IE=OE(!1),Ye=gn(null),fn=null;function ni(e){var t=e.alternate;bt(Bt,Bt.current&1),bt(Ye,e),fn===null&&(t===null||aa.current!==null||t.memoizedState!==null)&&(fn=e)}function ME(e){if(e.tag===22){if(bt(Bt,Bt.current),bt(Ye,e),fn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(fn=e)}}else ii()}function ii(){bt(Bt,Bt.current),bt(Ye,Ye.current)}function On(e){Yt(Ye),fn===e&&(fn=null),Yt(Bt)}var Bt=gn(0);function $o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Sf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Zc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var of={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Le(),r=fi(i);r.payload=t,n!=null&&(r.callback=n),t=di(e,r,i),t!==null&&(ke(t,e,i),gs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Le(),r=fi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=di(e,r,i),t!==null&&(ke(t,e,i),gs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Le(),i=fi(n);i.tag=2,t!=null&&(i.callback=t),t=di(e,i,n),t!==null&&(ke(t,e,n),gs(t,e,n))}};function Ig(e,t,n,i,r,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!Ms(n,i)||!Ms(r,a):!0}function Mg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&of.enqueueReplaceState(t,t.state,null)}function ar(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=vt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function VE(e){Xo(e)}function UE(e){console.error(e)}function LE(e){Xo(e)}function Zo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Vg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function uf(e,t,n){return n=fi(n),n.tag=3,n.payload={element:null},n.callback=function(){Zo(e,t)},n}function kE(e){return e=fi(e),e.tag=3,e}function PE(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Vg(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Vg(t,n,i),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function V1(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ll(t,n,r,!0),n=Ye.current,n!==null){switch(n.tag){case 13:return fn===null?yf():n.alternate===null&&Dt===0&&(Dt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===tf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),oh(e,i,r)),!1;case 22:return n.flags|=65536,i===tf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),oh(e,i,r)),!1}throw Error(P(435,n.tag))}return oh(e,i,r),yf(),!1}if(ot)return t=Ye.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==$h&&(e=Error(P(422),{cause:i}),Vs(Qe(e,n)))):(i!==$h&&(t=Error(P(423),{cause:i}),Vs(Qe(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Qe(i,n),r=uf(e.stateNode,i,r),$c(e,r),Dt!==4&&(Dt=2)),!1;var a=Error(P(520),{cause:i});if(a=Qe(a,n),bs===null?bs=[a]:bs.push(a),Dt!==4&&(Dt=2),t===null)return!0;i=Qe(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=uf(n.stateNode,i,e),$c(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(mi===null||!mi.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=kE(r),PE(r,e,n,i),$c(n,r),!1}n=n.return}while(n!==null);return!1}var zE=Error(P(461)),Kt=!1;function Wt(e,t,n,i){t.child=e===null?IE(t,null,n,i):la(t,e.child,n,i)}function Ug(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return ir(t),i=Ud(e,t,n,s,a,r),o=Ld(),e!==null&&!Kt?(kd(e,t,r),zn(e,t,r)):(ot&&o&&Dd(t),t.flags|=1,Wt(e,t,i,r),t.child)}function Lg(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!Cd(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,BE(e,t,a,i,r)):(e=_o(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Qd(e,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(s,i)&&e.ref===t.ref)return zn(e,t,r)}return t.flags|=1,e=In(a,i),e.ref=t.ref,e.return=t,t.child=e}function BE(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(Ms(a,i)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=i=a,Qd(e,r))e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,zn(e,t,r)}return cf(e,t,n,i,r)}function jE(e,t,n){var i=t.pendingProps,r=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return kg(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vo(t,a!==null?a.cachePool:null),a!==null?Sg(t,a):rf(),ME(t);else return t.lanes=t.childLanes=536870912,kg(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(vo(t,a.cachePool),Sg(t,a),ii(),t.memoizedState=null):(e!==null&&vo(t,null),rf(),ii());return Wt(e,t,r,n),t.child}function kg(e,t,n,i){var r=Od();return r=r===null?null:{parent:zt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&vo(t,null),rf(),ME(t),e!==null&&ll(e,t,i,!0),null}function bo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function cf(e,t,n,i,r){return ir(t),n=Ud(e,t,n,i,void 0,r),i=Ld(),e!==null&&!Kt?(kd(e,t,r),zn(e,t,r)):(ot&&i&&Dd(t),t.flags|=1,Wt(e,t,n,r),t.child)}function Pg(e,t,n,i,r,a){return ir(t),t.updateQueue=null,n=tE(t,i,n,r),Wv(e),i=Ld(),e!==null&&!Kt?(kd(e,t,a),zn(e,t,a)):(ot&&i&&Dd(t),t.flags|=1,Wt(e,t,n,a),t.child)}function zg(e,t,n,i,r){if(ir(t),t.stateNode===null){var a=jr,s=n.contextType;typeof s=="object"&&s!==null&&(a=he(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=of,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},Id(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?he(s):jr,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Zc(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&of.enqueueReplaceState(a,a.state,null),_s(t,i,a,r),ys(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,u=ar(n,o);a.props=u;var c=a.context,f=n.contextType;s=jr,typeof f=="object"&&f!==null&&(s=he(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&Mg(t,a,i,s),ti=!1;var p=t.memoizedState;a.state=p,_s(t,i,a,r),ys(),c=t.memoizedState,o||p!==c||ti?(typeof m=="function"&&(Zc(t,n,m,i),c=t.memoizedState),(u=ti||Ig(t,n,u,i,p,c,s))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,i=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,ef(e,t),s=t.memoizedProps,f=ar(n,s),a.props=f,m=t.pendingProps,p=a.context,c=n.contextType,u=jr,typeof c=="object"&&c!==null&&(u=he(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||p!==u)&&Mg(t,a,i,u),ti=!1,p=t.memoizedState,a.state=p,_s(t,i,a,r),ys();var g=t.memoizedState;s!==m||p!==g||ti||e!==null&&e.dependencies!==null&&Go(e.dependencies)?(typeof o=="function"&&(Zc(t,n,o,i),g=t.memoizedState),(f=ti||Ig(t,n,f,i,p,g,u)||e!==null&&e.dependencies!==null&&Go(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),a.props=i,a.state=g,a.context=u,i=f):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,bo(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=la(t,e.child,null,r),t.child=la(t,null,n,r)):Wt(e,t,n,r),t.memoizedState=a.state,e=t.child):e=zn(e,t,r),e}function Bg(e,t,n,i){return sl(),t.flags|=256,Wt(e,t,n,i),t.child}var Jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(e){return{baseLanes:e,cachePool:Yv()}}function th(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ke),e}function HE(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(Bt.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(r?ni(t):ii(),ot){var o=Ct,u;if(u=o){t:{for(u=o,o=ln;u.nodeType!==8;){if(!o){o=null;break t}if(u=tn(u.nextSibling),u===null){o=null;break t}}o=u}o!==null?(t.memoizedState={dehydrated:o,treeContext:Yi!==null?{id:Dn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},u=Ie(18,null,null,0),u.stateNode=o,u.return=t,t.child=u,pe=t,Ct=null,u=!0):u=!1}u||nr(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Sf(o)?t.lanes=32:t.lanes=536870912,null;On(t)}return o=i.children,i=i.fallback,r?(ii(),r=t.mode,o=Jo({mode:"hidden",children:o},r),i=Ki(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,r=t.child,r.memoizedState=Wc(n),r.childLanes=th(e,s,n),t.memoizedState=Jc,i):(ni(t),hf(t,o))}if(u=e.memoizedState,u!==null&&(o=u.dehydrated,o!==null)){if(a)t.flags&256?(ni(t),t.flags&=-257,t=eh(e,t,n)):t.memoizedState!==null?(ii(),t.child=e.child,t.flags|=128,t=null):(ii(),r=i.fallback,o=t.mode,i=Jo({mode:"visible",children:i.children},o),r=Ki(r,o,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,la(t,e.child,null,n),i=t.child,i.memoizedState=Wc(n),i.childLanes=th(e,s,n),t.memoizedState=Jc,t=r);else if(ni(t),Sf(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(P(419)),i.stack="",i.digest=s,Vs({value:i,source:null,stack:null}),t=eh(e,t,n)}else if(Kt||ll(e,t,n,!1),s=(n&e.childLanes)!==0,Kt||s){if(s=gt,s!==null&&(i=n&-n,i=i&42?1:gd(i),i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Sa(e,i),ke(s,e,i),zE;o.data==="$?"||yf(),t=eh(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ct=tn(o.nextSibling),pe=t,ot=!0,$i=null,ln=!1,e!==null&&(qe[Ge++]=Dn,qe[Ge++]=xn,qe[Ge++]=Yi,Dn=e.id,xn=e.overflow,Yi=t),t=hf(t,i.children),t.flags|=4096);return t}return r?(ii(),r=i.fallback,o=t.mode,u=e.child,c=u.sibling,i=In(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?r=In(c,r):(r=Ki(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=e.child.memoizedState,o===null?o=Wc(n):(u=o.cachePool,u!==null?(c=zt._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=Yv(),o={baseLanes:o.baseLanes|n,cachePool:u}),r.memoizedState=o,r.childLanes=th(e,s,n),t.memoizedState=Jc,i):(ni(t),n=e.child,e=n.sibling,n=In(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function hf(e,t){return t=Jo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jo(e,t){return e=Ie(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function eh(e,t,n){return la(t,e.child,null,n),e=hf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Zh(e.return,t,n)}function nh(e,t,n,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function qE(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Wt(e,t,i.children,n),i=Bt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,n,t);else if(e.tag===19)jg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(bt(Bt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&$o(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),nh(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&$o(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}nh(t,!0,n,null,a);break;case"together":nh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ri|=t.lanes,!(n&t.childLanes))if(e!==null){if(ll(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=In(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=In(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Go(e)))}function U1(e,t,n){switch(t.tag){case 3:Lo(t,t.stateNode.containerInfo),ei(t,zt,e.memoizedState.cache),sl();break;case 27:case 5:zh(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:ei(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ni(t),t.flags|=128,null):n&t.child.childLanes?HE(e,t,n):(ni(t),e=zn(e,t,n),e!==null?e.sibling:null);ni(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ll(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return qE(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),bt(Bt,Bt.current),i)break;return null;case 22:case 23:return t.lanes=0,jE(e,t,n);case 24:ei(t,zt,e.memoizedState.cache)}return zn(e,t,n)}function GE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Kt=!0;else{if(!Qd(e,n)&&!(t.flags&128))return Kt=!1,U1(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,ot&&t.flags&1048576&&Qv(t,qo,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Cd(i)?(e=ar(i,e),t.tag=1,t=zg(null,t,i,e,n)):(t.tag=0,t=cf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===dd){t.tag=11,t=Ug(null,t,i,e,n);break t}else if(r===md){t.tag=14,t=Lg(null,t,i,e,n);break t}}throw t=kh(i)||i,Error(P(306,t,""))}}return t;case 0:return cf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=ar(i,t.pendingProps),zg(e,t,i,r,n);case 3:t:{if(Lo(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,ef(e,t),_s(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ei(t,zt,i),i!==a.cache&&Jh(t,[zt],n,!0),ys(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Bg(e,t,i,n);break t}else if(i!==r){r=Qe(Error(P(424)),t),Vs(r),t=Bg(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ct=tn(e.firstChild),pe=t,ot=!0,$i=null,ln=!0,n=IE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(sl(),i===r){t=zn(e,t,n);break t}Wt(e,t,i,n)}t=t.child}return t;case 26:return bo(e,t),e===null?(n=ry(t.type,null,t.pendingProps,null))?t.memoizedState=n:ot||(n=t.type,e=t.pendingProps,i=au(hi.current).createElement(n),i[ce]=t,i[Re]=e,ne(i,n,e),Qt(i),t.stateNode=i):t.memoizedState=ry(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return zh(t),e===null&&ot&&(i=t.stateNode=N0(t.type,t.pendingProps,hi.current),pe=t,ln=!0,r=Ct,Vi(t.type)?(Rf=r,Ct=tn(i.firstChild)):Ct=r),Wt(e,t,t.pendingProps.children,n),bo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ot&&((r=i=Ct)&&(i=uR(i,t.type,t.pendingProps,ln),i!==null?(t.stateNode=i,pe=t,Ct=tn(i.firstChild),ln=!1,r=!0):r=!1),r||nr(t)),zh(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,bf(r,a)?i=null:s!==null&&bf(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=Ud(e,t,C1,null,null,n),Bs._currentValue=r),bo(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&ot&&((e=n=Ct)&&(n=cR(n,t.pendingProps,ln),n!==null?(t.stateNode=n,pe=t,Ct=null,e=!0):e=!1),e||nr(t)),null;case 13:return HE(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=la(t,null,i,n):Wt(e,t,i,n),t.child;case 11:return Ug(e,t,t.type,t.pendingProps,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ei(t,t.type,i.value),Wt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ir(t),r=he(r),i=i(r),t.flags|=1,Wt(e,t,i,n),t.child;case 14:return Lg(e,t,t.type,t.pendingProps,n);case 15:return BE(e,t,t.type,t.pendingProps,n);case 19:return qE(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Jo(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=In(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return jE(e,t,n);case 24:return ir(t),i=he(zt),e===null?(r=Od(),r===null&&(r=gt,a=Nd(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},Id(t),ei(t,zt,r)):(e.lanes&n&&(ef(e,t),_s(t,null,null,n),ys()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ei(t,zt,i)):(i=a.cache,ei(t,zt,i),i!==r.cache&&Jh(t,[zt],n,!0))),Wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function Sn(e){e.flags|=4}function Hg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!M0(t)){if(t=Ye.current,t!==null&&((rt&4194048)===rt?fn!==null:(rt&62914560)!==rt&&!(rt&536870912)||t!==fn))throw ps=tf,$v;e.flags|=8192}}function Wl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gv():536870912,e.lanes|=t,oa|=t)}function Xa(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function L1(e,t,n){var i=t.pendingProps;switch(xd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return At(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Mn(zt),ea(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ya(t)?Sn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_g())),At(t),null;case 26:return n=t.memoizedState,e===null?(Sn(t),n!==null?(At(t),Hg(t,n)):(At(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Sn(t),At(t),Hg(t,n)):(At(t),t.flags&=-16777217):(e.memoizedProps!==i&&Sn(t),At(t),t.flags&=-16777217),null;case 27:ko(t),n=hi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Sn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return At(t),null}e=cn.current,Ya(t)?gg(t):(e=N0(r,i,n),t.stateNode=e,Sn(t))}return At(t),null;case 5:if(ko(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Sn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return At(t),null}if(e=cn.current,Ya(t))gg(t);else{switch(r=au(hi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[ce]=t,e[Re]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(ne(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Sn(t)}}return At(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Sn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=hi.current,Ya(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=pe,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[ce]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||C0(e.nodeValue,n)),e||nr(t)}else e=au(e).createTextNode(i),e[ce]=t,t.stateNode=e}return At(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ya(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[ce]=t}else sl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),r=!1}else r=_g(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(On(t),t):(On(t),null)}if(On(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),At(t),null;case 4:return ea(),e===null&&tm(t.stateNode.containerInfo),At(t),null;case 10:return Mn(t.type),At(t),null;case 19:if(Yt(Bt),r=t.memoizedState,r===null)return At(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)Xa(r,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=$o(e),a!==null){for(t.flags|=128,Xa(r,!1),e=a.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Fv(n,e),n=n.sibling;return bt(Bt,Bt.current&1|2),t.child}e=e.sibling}r.tail!==null&&hn()>tu&&(t.flags|=128,i=!0,Xa(r,!1),t.lanes=4194304)}else{if(!i)if(e=$o(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Xa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!ot)return At(t),null}else 2*hn()-r.renderingStartTime>tu&&n!==536870912&&(t.flags|=128,i=!0,Xa(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=hn(),t.sibling=null,e=Bt.current,bt(Bt,i?e&1|2:e&1),t):(At(t),null);case 22:case 23:return On(t),Md(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),n=t.updateQueue,n!==null&&Wl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Yt(Xi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Mn(zt),At(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function k1(e,t){switch(xd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(zt),ea(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ko(t),null;case 13:if(On(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(Bt),null;case 4:return ea(),null;case 10:return Mn(t.type),null;case 22:case 23:return On(t),Md(),e!==null&&Yt(Xi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Mn(zt),null;case 25:return null;default:return null}}function FE(e,t){switch(xd(t),t.tag){case 3:Mn(zt),ea();break;case 26:case 27:case 5:ko(t);break;case 4:ea();break;case 13:On(t);break;case 19:Yt(Bt);break;case 10:Mn(t.type);break;case 22:case 23:On(t),Md(),e!==null&&Yt(Xi);break;case 24:Mn(zt)}}function fl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){pt(t,t.return,o)}}function Si(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,r=t;var u=n,c=o;try{c()}catch(f){pt(r,u,f)}}}i=i.next}while(i!==a)}}catch(f){pt(t,t.return,f)}}function QE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Jv(t,n)}catch(i){pt(e,e.return,i)}}}function KE(e,t,n){n.props=ar(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){pt(e,t,i)}}function Es(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){pt(e,t,r)}}function un(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){pt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){pt(e,t,r)}else n.current=null}function YE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){pt(e,e.return,r)}}function ih(e,t,n){try{var i=e.stateNode;rR(i,e.type,n,t),i[Re]=t}catch(r){pt(e,e.return,r)}}function $E(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vi(e.type)||e.tag===4}function rh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||$E(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ff(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gu));else if(i!==4&&(i===27&&Vi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ff(e,t,n),e=e.sibling;e!==null;)ff(e,t,n),e=e.sibling}function Wo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Vi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Wo(e,t,n),e=e.sibling;e!==null;)Wo(e,t,n),e=e.sibling}function XE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ne(t,i,n),t[ce]=e,t[Re]=n}catch(a){pt(e,e.return,a)}}var wn=!1,It=!1,ah=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function P1(e,t){if(e=e.containerInfo,Ef=uu,e=kv(e),Sd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var s=0,o=-1,u=-1,c=0,f=0,m=e,p=null;e:for(;;){for(var g;m!==n||r!==0&&m.nodeType!==3||(o=s+r),m!==a||i!==0&&m.nodeType!==3||(u=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===e)break e;if(p===n&&++c===r&&(o=s),p===a&&++f===i&&(u=s),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tf={focusedElem:e,selectionRange:n},uu=!1,Ft=t;Ft!==null;)if(t=Ft,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ft=e;else for(;Ft!==null;){switch(t=Ft,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var D=ar(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(D,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){pt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Af(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Af(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,Ft=e;break}Ft=t.return}}function ZE(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n),i&4&&fl(5,n);break;case 1:if(Zn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){pt(n,n.return,s)}else{var r=ar(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){pt(n,n.return,s)}}i&64&&QE(n),i&512&&Es(n,n.return);break;case 3:if(Zn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Jv(e,t)}catch(s){pt(n,n.return,s)}}break;case 27:t===null&&i&4&&XE(n);case 26:case 5:Zn(e,n),t===null&&i&4&&YE(n),i&512&&Es(n,n.return);break;case 12:Zn(e,n);break;case 13:Zn(e,n),i&4&&t0(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=K1.bind(null,n),hR(e,n))));break;case 22:if(i=n.memoizedState!==null||wn,!i){t=t!==null&&t.memoizedState!==null||It,r=wn;var a=It;wn=i,(It=t)&&!a?Jn(e,n,(n.subtreeFlags&8772)!==0):Zn(e,n),wn=r,It=a}break;case 30:break;default:Zn(e,n)}}function JE(e){var t=e.alternate;t!==null&&(e.alternate=null,JE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_d(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,Ee=!1;function Rn(e,t,n){for(n=n.child;n!==null;)WE(e,t,n),n=n.sibling}function WE(e,t,n){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 26:It||un(n,t),Rn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:It||un(n,t);var i=Et,r=Ee;Vi(n.type)&&(Et=n.stateNode,Ee=!1),Rn(e,t,n),Ss(n.stateNode),Et=i,Ee=r;break;case 5:It||un(n,t);case 6:if(i=Et,r=Ee,Et=null,Rn(e,t,n),Et=i,Ee=r,Et!==null)if(Ee)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(n.stateNode)}catch(a){pt(n,t,a)}else try{Et.removeChild(n.stateNode)}catch(a){pt(n,t,a)}break;case 18:Et!==null&&(Ee?(e=Et,ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),qs(e)):ey(Et,n.stateNode));break;case 4:i=Et,r=Ee,Et=n.stateNode.containerInfo,Ee=!0,Rn(e,t,n),Et=i,Ee=r;break;case 0:case 11:case 14:case 15:It||Si(2,n,t),It||Si(4,n,t),Rn(e,t,n);break;case 1:It||(un(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&KE(n,t,i)),Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:It=(i=It)||n.memoizedState!==null,Rn(e,t,n),It=i;break;default:Rn(e,t,n)}}function t0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qs(e)}catch(n){pt(t,t.return,n)}}function z1(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new qg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new qg),t;default:throw Error(P(435,e.tag))}}function sh(e,t){var n=z1(e);t.forEach(function(i){var r=Y1.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function xe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Vi(o.type)){Et=o.stateNode,Ee=!1;break t}break;case 5:Et=o.stateNode,Ee=!1;break t;case 3:case 4:Et=o.stateNode.containerInfo,Ee=!0;break t}o=o.return}if(Et===null)throw Error(P(160));WE(a,s,r),Et=null,Ee=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)e0(t,e),t=t.sibling}var Je=null;function e0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xe(t,e),Ne(e),i&4&&(Si(3,e,e.return),fl(3,e),Si(5,e,e.return));break;case 1:xe(t,e),Ne(e),i&512&&(It||n===null||un(n,n.return)),i&64&&wn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Je;if(xe(t,e),Ne(e),i&512&&(It||n===null||un(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[rl]||a[ce]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),ne(a,i,n),a[ce]=e,Qt(a),i=a;break t;case"link":var s=sy("link","href",r).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}a=r.createElement(i),ne(a,i,n),r.head.appendChild(a);break;case"meta":if(s=sy("meta","content",r).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}a=r.createElement(i),ne(a,i,n),r.head.appendChild(a);break;default:throw Error(P(468,i))}a[ce]=e,Qt(a),i=a}e.stateNode=i}else ly(r,e.type,e.stateNode);else e.stateNode=ay(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?ly(r,e.type,e.stateNode):ay(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ih(e,e.memoizedProps,n.memoizedProps)}break;case 27:xe(t,e),Ne(e),i&512&&(It||n===null||un(n,n.return)),n!==null&&i&4&&ih(e,e.memoizedProps,n.memoizedProps);break;case 5:if(xe(t,e),Ne(e),i&512&&(It||n===null||un(n,n.return)),e.flags&32){r=e.stateNode;try{ia(r,"")}catch(g){pt(e,e.return,g)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,ih(e,r,n!==null?n.memoizedProps:r)),i&1024&&(ah=!0);break;case 6:if(xe(t,e),Ne(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(g){pt(e,e.return,g)}}break;case 3:if(Ro=null,r=Je,Je=su(t.containerInfo),xe(t,e),Je=r,Ne(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(g){pt(e,e.return,g)}ah&&(ah=!1,n0(e));break;case 4:i=Je,Je=su(e.stateNode.containerInfo),xe(t,e),Ne(e),Je=i;break;case 12:xe(t,e),Ne(e);break;case 13:xe(t,e),Ne(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zd=hn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,sh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=wn,f=It;if(wn=c||r,It=f||u,xe(t,e),It=f,wn=c,Ne(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||wn||It||Hi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(a=u.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(g){pt(u,u.return,g)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(g){pt(u,u.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,sh(e,n))));break;case 19:xe(t,e),Ne(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,sh(e,i)));break;case 30:break;case 21:break;default:xe(t,e),Ne(e)}}function Ne(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if($E(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,a=rh(e);Wo(e,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(ia(s,""),n.flags&=-33);var o=rh(e);Wo(e,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=rh(e);ff(e,c,u);break;default:throw Error(P(161))}}catch(f){pt(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;n0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ZE(e,t.alternate,t),t=t.sibling}function Hi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Si(4,t,t.return),Hi(t);break;case 1:un(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&KE(t,t.return,n),Hi(t);break;case 27:Ss(t.stateNode);case 26:case 5:un(t,t.return),Hi(t);break;case 22:t.memoizedState===null&&Hi(t);break;case 30:Hi(t);break;default:Hi(t)}e=e.sibling}}function Jn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Jn(r,a,n),fl(4,a);break;case 1:if(Jn(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){pt(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)Zv(u[r],o)}catch(c){pt(i,i.return,c)}}n&&s&64&&QE(a),Es(a,a.return);break;case 27:XE(a);case 26:case 5:Jn(r,a,n),n&&i===null&&s&4&&YE(a),Es(a,a.return);break;case 12:Jn(r,a,n);break;case 13:Jn(r,a,n),n&&s&4&&t0(r,a);break;case 22:a.memoizedState===null&&Jn(r,a,n),Es(a,a.return);break;case 30:break;default:Jn(r,a,n)}t=t.sibling}}function Kd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ol(n))}function Yd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e))}function an(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)i0(e,t,n,i),t=t.sibling}function i0(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,n,i),r&2048&&fl(9,t);break;case 1:an(e,t,n,i);break;case 3:an(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e)));break;case 12:if(r&2048){an(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){pt(t,t.return,u)}}else an(e,t,n,i);break;case 13:an(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?an(e,t,n,i):Ts(e,t):a._visibility&2?an(e,t,n,i):(a._visibility|=2,Cr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&Kd(s,t);break;case 24:an(e,t,n,i),r&2048&&Yd(t.alternate,t);break;default:an(e,t,n,i)}}function Cr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,s=t,o=n,u=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Cr(a,s,o,u,r),fl(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?Cr(a,s,o,u,r):Ts(a,s):(f._visibility|=2,Cr(a,s,o,u,r)),r&&c&2048&&Kd(s.alternate,s);break;case 24:Cr(a,s,o,u,r),r&&c&2048&&Yd(s.alternate,s);break;default:Cr(a,s,o,u,r)}t=t.sibling}}function Ts(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Ts(n,i),r&2048&&Kd(i.alternate,i);break;case 24:Ts(n,i),r&2048&&Yd(i.alternate,i);break;default:Ts(n,i)}t=t.sibling}}var as=8192;function Ar(e){if(e.subtreeFlags&as)for(e=e.child;e!==null;)r0(e),e=e.sibling}function r0(e){switch(e.tag){case 26:Ar(e),e.flags&as&&e.memoizedState!==null&&SR(Je,e.memoizedState,e.memoizedProps);break;case 5:Ar(e);break;case 3:case 4:var t=Je;Je=su(e.stateNode.containerInfo),Ar(e),Je=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=as,as=16777216,Ar(e),as=t):Ar(e));break;default:Ar(e)}}function a0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Za(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ft=i,l0(i,e)}a0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)s0(e),e=e.sibling}function s0(e){switch(e.tag){case 0:case 11:case 15:Za(e),e.flags&2048&&Si(9,e,e.return);break;case 3:Za(e);break;case 12:Za(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ao(e)):Za(e);break;default:Za(e)}}function Ao(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ft=i,l0(i,e)}a0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Si(8,t,t.return),Ao(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ao(t));break;default:Ao(t)}e=e.sibling}}function l0(e,t){for(;Ft!==null;){var n=Ft;switch(n.tag){case 0:case 11:case 15:Si(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ol(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ft=i;else t:for(n=e;Ft!==null;){i=Ft;var r=i.sibling,a=i.return;if(JE(i),i===n){Ft=null;break t}if(r!==null){r.return=a,Ft=r;break t}Ft=a}}}var B1={getCacheForType:function(e){var t=he(zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},j1=typeof WeakMap=="function"?WeakMap:Map,ht=0,gt=null,et=null,rt=0,ct=0,Oe=null,li=!1,Ra=!1,$d=!1,Bn=0,Dt=0,Ri=0,Zi=0,Xd=0,Ke=0,oa=0,bs=null,Te=null,df=!1,Zd=0,tu=1/0,eu=null,mi=null,ee=0,pi=null,ua=null,Jr=0,mf=0,pf=null,o0=null,As=0,gf=null;function Le(){if(ht&2&&rt!==0)return rt&-rt;if(Q.T!==null){var e=ra;return e!==0?e:Wd()}return vv()}function u0(){Ke===0&&(Ke=!(rt&536870912)||ot?pv():536870912);var e=Ye.current;return e!==null&&(e.flags|=32),Ke}function ke(e,t,n){(e===gt&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(ca(e,0),oi(e,rt,Ke,!1)),il(e,n),(!(ht&2)||e!==gt)&&(e===gt&&(!(ht&2)&&(Zi|=n),Dt===4&&oi(e,rt,Ke,!1)),yn(e))}function c0(e,t,n){if(ht&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||nl(e,t),r=i?G1(e,t):lh(e,t,!0),a=i;do{if(r===0){Ra&&!i&&oi(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!H1(n)){r=lh(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;r=bs;var u=o.current.memoizedState.isDehydrated;if(u&&(ca(o,s).flags|=256),s=lh(o,s,!1),s!==2){if($d&&!u){o.errorRecoveryDisabledLanes|=a,Zi|=a,r=4;break t}a=Te,Te=r,a!==null&&(Te===null?Te=a:Te.push.apply(Te,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){ca(e,0),oi(e,t,0,!0);break}t:{switch(i=e,a=r,a){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:oi(i,t,Ke,!li);break t;case 2:Te=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=Zd+300-hn(),10<r)){if(oi(i,t,Ke,!li),Ou(i,0,!0)!==0)break t;i.timeoutHandle=x0(Gg.bind(null,i,n,Te,eu,df,t,Ke,Zi,oa,li,a,2,-0,0),r);break t}Gg(i,n,Te,eu,df,t,Ke,Zi,oa,li,a,0,-0,0)}}break}while(!0);yn(e)}function Gg(e,t,n,i,r,a,s,o,u,c,f,m,p,g){if(e.timeoutHandle=-1,m=t.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(zs={stylesheets:null,count:0,unsuspend:AR},r0(t),m=RR(),m!==null)){e.cancelPendingCommit=m(Qg.bind(null,e,t,a,n,i,r,s,o,u,f,1,p,g)),oi(e,a,s,!c);return}Qg(e,t,a,n,i,r,s,o,u)}function H1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Pe(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t,n,i){t&=~Xd,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-Ue(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&yv(e,n,t)}function ju(){return ht&6?!0:(dl(0),!1)}function Jd(){if(et!==null){if(ct===0)var e=et.return;else e=et,Nn=dr=null,Pd(e),Zr=null,Ls=0,e=et;for(;e!==null;)FE(e.alternate,e),e=e.return;et=null}}function ca(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,sR(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Jd(),gt=e,et=n=In(e.current,null),rt=t,ct=0,Oe=null,li=!1,Ra=nl(e,t),$d=!1,oa=Ke=Xd=Zi=Ri=Dt=0,Te=bs=null,df=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Ue(i),a=1<<r;t|=e[r],i&=~a}return Bn=t,Uu(),n}function h0(e,t){J=null,Q.H=Yo,t===ul||t===ku?(t=bg(),ct=3):t===$v?(t=bg(),ct=4):ct=t===zE?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Oe=t,et===null&&(Dt=1,Zo(e,Qe(t,e.current)))}function f0(){var e=Q.H;return Q.H=Yo,e===null?Yo:e}function d0(){var e=Q.A;return Q.A=B1,e}function yf(){Dt=4,li||(rt&4194048)!==rt&&Ye.current!==null||(Ra=!0),!(Ri&134217727)&&!(Zi&134217727)||gt===null||oi(gt,rt,Ke,!1)}function lh(e,t,n){var i=ht;ht|=2;var r=f0(),a=d0();(gt!==e||rt!==t)&&(eu=null,ca(e,t)),t=!1;var s=Dt;t:do try{if(ct!==0&&et!==null){var o=et,u=Oe;switch(ct){case 8:Jd(),s=6;break t;case 3:case 2:case 9:case 6:Ye.current===null&&(t=!0);var c=ct;if(ct=0,Oe=null,Gr(e,o,u,c),n&&Ra){s=0;break t}break;default:c=ct,ct=0,Oe=null,Gr(e,o,u,c)}}q1(),s=Dt;break}catch(f){h0(e,f)}while(!0);return t&&e.shellSuspendCounter++,Nn=dr=null,ht=i,Q.H=r,Q.A=a,et===null&&(gt=null,rt=0,Uu()),s}function q1(){for(;et!==null;)m0(et)}function G1(e,t){var n=ht;ht|=2;var i=f0(),r=d0();gt!==e||rt!==t?(eu=null,tu=hn()+500,ca(e,t)):Ra=nl(e,t);t:do try{if(ct!==0&&et!==null){t=et;var a=Oe;e:switch(ct){case 1:ct=0,Oe=null,Gr(e,t,a,1);break;case 2:case 9:if(Tg(a)){ct=0,Oe=null,Fg(t);break}t=function(){ct!==2&&ct!==9||gt!==e||(ct=7),yn(e)},a.then(t,t);break t;case 3:ct=7;break t;case 4:ct=5;break t;case 7:Tg(a)?(ct=0,Oe=null,Fg(t)):(ct=0,Oe=null,Gr(e,t,a,7));break;case 5:var s=null;switch(et.tag){case 26:s=et.memoizedState;case 5:case 27:var o=et;if(!s||M0(s)){ct=0,Oe=null;var u=o.sibling;if(u!==null)et=u;else{var c=o.return;c!==null?(et=c,Hu(c)):et=null}break e}}ct=0,Oe=null,Gr(e,t,a,5);break;case 6:ct=0,Oe=null,Gr(e,t,a,6);break;case 8:Jd(),Dt=6;break t;default:throw Error(P(462))}}F1();break}catch(f){h0(e,f)}while(!0);return Nn=dr=null,Q.H=i,Q.A=r,ht=n,et!==null?0:(gt=null,rt=0,Uu(),Dt)}function F1(){for(;et!==null&&!dS();)m0(et)}function m0(e){var t=GE(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?Hu(e):et=t}function Fg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Pg(n,t,t.pendingProps,t.type,void 0,rt);break;case 11:t=Pg(n,t,t.pendingProps,t.type.render,t.ref,rt);break;case 5:Pd(t);default:FE(n,t),t=et=Fv(t,Bn),t=GE(n,t,Bn)}e.memoizedProps=e.pendingProps,t===null?Hu(e):et=t}function Gr(e,t,n,i){Nn=dr=null,Pd(t),Zr=null,Ls=0;var r=t.return;try{if(V1(e,r,t,n,rt)){Dt=1,Zo(e,Qe(n,e.current)),et=null;return}}catch(a){if(r!==null)throw et=r,a;Dt=1,Zo(e,Qe(n,e.current)),et=null;return}t.flags&32768?(ot||i===1?e=!0:Ra||rt&536870912?e=!1:(li=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ye.current,i!==null&&i.tag===13&&(i.flags|=16384))),p0(t,e)):Hu(t)}function Hu(e){var t=e;do{if(t.flags&32768){p0(t,li);return}e=t.return;var n=L1(t.alternate,t,Bn);if(n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);Dt===0&&(Dt=5)}function p0(e,t){do{var n=k1(e.alternate,e);if(n!==null){n.flags&=32767,et=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){et=e;return}et=e=n}while(e!==null);Dt=6,et=null}function Qg(e,t,n,i,r,a,s,o,u){e.cancelPendingCommit=null;do qu();while(ee!==0);if(ht&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(a=t.lanes|t.childLanes,a|=Rd,AS(e,n,a,s,o,u),e===gt&&(et=gt=null,rt=0),ua=t,pi=e,Jr=n,mf=a,pf=r,o0=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,$1(Po,function(){return E0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,r=ut.p,ut.p=2,s=ht,ht|=4;try{P1(e,t,n)}finally{ht=s,ut.p=r,Q.T=i}}ee=1,g0(),y0(),_0()}}function g0(){if(ee===1){ee=0;var e=pi,t=ua,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=ut.p;ut.p=2;var r=ht;ht|=4;try{e0(t,e);var a=Tf,s=kv(e.containerInfo),o=a.focusedElem,u=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Lv(o.ownerDocument.documentElement,o)){if(u!==null&&Sd(o)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(f,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var g=p.getSelection(),D=o.textContent.length,M=Math.min(u.start,D),x=u.end===void 0?M:Math.min(u.end,D);!g.extend&&M>x&&(s=x,x=M,M=s);var E=dg(o,M),T=dg(o,x);if(E&&T&&(g.rangeCount!==1||g.anchorNode!==E.node||g.anchorOffset!==E.offset||g.focusNode!==T.node||g.focusOffset!==T.offset)){var v=m.createRange();v.setStart(E.node,E.offset),g.removeAllRanges(),M>x?(g.addRange(v),g.extend(T.node,T.offset)):(v.setEnd(T.node,T.offset),g.addRange(v))}}}}for(m=[],g=o;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var w=m[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}uu=!!Ef,Tf=Ef=null}finally{ht=r,ut.p=i,Q.T=n}}e.current=t,ee=2}}function y0(){if(ee===2){ee=0;var e=pi,t=ua,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=ut.p;ut.p=2;var r=ht;ht|=4;try{ZE(e,t.alternate,t)}finally{ht=r,ut.p=i,Q.T=n}}ee=3}}function _0(){if(ee===4||ee===3){ee=0,mS();var e=pi,t=ua,n=Jr,i=o0;t.subtreeFlags&10256||t.flags&10256?ee=5:(ee=0,ua=pi=null,v0(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(mi=null),yd(n),t=t.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,r=ut.p,ut.p=2,Q.T=null;try{for(var a=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];a(o.value,{componentStack:o.stack})}}finally{Q.T=t,ut.p=r}}Jr&3&&qu(),yn(e),r=e.pendingLanes,n&4194090&&r&42?e===gf?As++:(As=0,gf=e):As=0,dl(0)}}function v0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ol(t)))}function qu(e){return g0(),y0(),_0(),E0()}function E0(){if(ee!==5)return!1;var e=pi,t=mf;mf=0;var n=yd(Jr),i=Q.T,r=ut.p;try{ut.p=32>n?32:n,Q.T=null,n=pf,pf=null;var a=pi,s=Jr;if(ee=0,ua=pi=null,Jr=0,ht&6)throw Error(P(331));var o=ht;if(ht|=4,s0(a.current),i0(a,a.current,s,n),ht=o,dl(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(el,a)}catch{}return!0}finally{ut.p=r,Q.T=i,v0(e,t)}}function Kg(e,t,n){t=Qe(n,t),t=uf(e.stateNode,t,2),e=di(e,t,2),e!==null&&(il(e,2),yn(e))}function pt(e,t,n){if(e.tag===3)Kg(e,e,n);else for(;t!==null;){if(t.tag===3){Kg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(mi===null||!mi.has(i))){e=Qe(n,e),n=kE(2),i=di(t,n,2),i!==null&&(PE(n,i,t,e),il(i,2),yn(i));break}}t=t.return}}function oh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new j1;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||($d=!0,r.add(n),e=Q1.bind(null,e,t,n),t.then(e,e))}function Q1(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gt===e&&(rt&n)===n&&(Dt===4||Dt===3&&(rt&62914560)===rt&&300>hn()-Zd?!(ht&2)&&ca(e,0):Xd|=n,oa===rt&&(oa=0)),yn(e)}function T0(e,t){t===0&&(t=gv()),e=Sa(e,t),e!==null&&(il(e,t),yn(e))}function K1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),T0(e,n)}function Y1(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),T0(e,n)}function $1(e,t){return pd(e,t)}var nu=null,Dr=null,_f=!1,iu=!1,uh=!1,Ji=0;function yn(e){e!==Dr&&e.next===null&&(Dr===null?nu=Dr=e:Dr=Dr.next=e),iu=!0,_f||(_f=!0,Z1())}function dl(e,t){if(!uh&&iu){uh=!0;do for(var n=!1,i=nu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-Ue(42|e)+1)-1,a&=r&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Yg(i,a))}else a=rt,a=Ou(i,i===gt?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||nl(i,a)||(n=!0,Yg(i,a));i=i.next}while(n);uh=!1}}function X1(){b0()}function b0(){iu=_f=!1;var e=0;Ji!==0&&(aR()&&(e=Ji),Ji=0);for(var t=hn(),n=null,i=nu;i!==null;){var r=i.next,a=A0(i,t);a===0?(i.next=null,n===null?nu=r:n.next=r,r===null&&(Dr=n)):(n=i,(e!==0||a&3)&&(iu=!0)),i=r}dl(e)}function A0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-Ue(a),o=1<<s,u=r[s];u===-1?(!(o&n)||o&i)&&(r[s]=bS(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}if(t=gt,n=rt,n=Ou(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Uc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||nl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Uc(i),yd(n)){case 2:case 8:n=dv;break;case 32:n=Po;break;case 268435456:n=mv;break;default:n=Po}return i=S0.bind(null,e),n=pd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Uc(i),e.callbackPriority=2,e.callbackNode=null,2}function S0(e,t){if(ee!==0&&ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qu()&&e.callbackNode!==n)return null;var i=rt;return i=Ou(e,e===gt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(c0(e,i,t),A0(e,hn()),e.callbackNode!=null&&e.callbackNode===n?S0.bind(null,e):null)}function Yg(e,t){if(qu())return null;c0(e,t,!0)}function Z1(){lR(function(){ht&6?pd(fv,X1):b0()})}function Wd(){return Ji===0&&(Ji=pv()),Ji}function $g(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:po(""+e)}function Xg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function J1(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=$g((r[Re]||null).action),s=i.submitter;s&&(t=(t=s[Re]||null)?$g(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new Iu("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ji!==0){var u=s?Xg(r,s):new FormData(r);lf(n,{pending:!0,data:u,method:r.method,action:a},null,u)}}else typeof a=="function"&&(o.preventDefault(),u=s?Xg(r,s):new FormData(r),lf(n,{pending:!0,data:u,method:r.method,action:a},a,u))},currentTarget:r}]})}}for(var ch=0;ch<Yh.length;ch++){var hh=Yh[ch],W1=hh.toLowerCase(),tR=hh[0].toUpperCase()+hh.slice(1);nn(W1,"on"+tR)}nn(zv,"onAnimationEnd");nn(Bv,"onAnimationIteration");nn(jv,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(y1,"onTransitionRun");nn(_1,"onTransitionStart");nn(v1,"onTransitionCancel");nn(Hv,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ks));function R0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(f){Xo(f)}r.currentTarget=null,a=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(f){Xo(f)}r.currentTarget=null,a=u}}}}function tt(e,t){var n=t[jh];n===void 0&&(n=t[jh]=new Set);var i=e+"__bubble";n.has(i)||(w0(t,e,2,!1),n.add(i))}function fh(e,t,n){var i=0;t&&(i|=4),w0(n,e,i,t)}var to="_reactListening"+Math.random().toString(36).slice(2);function tm(e){if(!e[to]){e[to]=!0,Ev.forEach(function(n){n!=="selectionchange"&&(eR.has(n)||fh(n,!1,e),fh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[to]||(t[to]=!0,fh("selectionchange",!1,t))}}function w0(e,t,n,i){switch(P0(t)){case 2:var r=DR;break;case 8:r=xR;break;default:r=rm}n=r.bind(null,t,n,e),r=void 0,!Fh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function dh(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;o!==null;){if(s=Ur(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=a=s;continue t}o=o.parentNode}}i=i.return}Dv(function(){var c=a,f=Ed(n),m=[];t:{var p=qv.get(e);if(p!==void 0){var g=Iu,D=e;switch(e){case"keypress":if(yo(n)===0)break t;case"keydown":case"keyup":g=$S;break;case"focusin":D="focus",g=qc;break;case"focusout":D="blur",g=qc;break;case"beforeblur":case"afterblur":g=qc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=kS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=JS;break;case zv:case Bv:case jv:g=BS;break;case Hv:g=t1;break;case"scroll":case"scrollend":g=US;break;case"wheel":g=n1;break;case"copy":case"cut":case"paste":g=HS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ag;break;case"toggle":case"beforetoggle":g=r1}var M=(t&4)!==0,x=!M&&(e==="scroll"||e==="scrollend"),E=M?p!==null?p+"Capture":null:p;M=[];for(var T=c,v;T!==null;){var w=T;if(v=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||v===null||E===null||(w=Os(T,E),w!=null&&M.push(Ps(T,w,v))),x)break;T=T.return}0<M.length&&(p=new g(p,D,null,n,f),m.push({event:p,listeners:M}))}}if(!(t&7)){t:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Gh&&(D=n.relatedTarget||n.fromElement)&&(Ur(D)||D[ba]))break t;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(D=n.relatedTarget||n.toElement,g=c,D=D?Ur(D):null,D!==null&&(x=tl(D),M=D.tag,D!==x||M!==5&&M!==27&&M!==6)&&(D=null)):(g=null,D=c),g!==D)){if(M=ig,w="onMouseLeave",E="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(M=ag,w="onPointerLeave",E="onPointerEnter",T="pointer"),x=g==null?p:rs(g),v=D==null?p:rs(D),p=new M(w,T+"leave",g,n,f),p.target=x,p.relatedTarget=v,w=null,Ur(f)===c&&(M=new M(E,T+"enter",D,n,f),M.target=v,M.relatedTarget=x,w=M),x=w,g&&D)e:{for(M=g,E=D,T=0,v=M;v;v=Sr(v))T++;for(v=0,w=E;w;w=Sr(w))v++;for(;0<T-v;)M=Sr(M),T--;for(;0<v-T;)E=Sr(E),v--;for(;T--;){if(M===E||E!==null&&M===E.alternate)break e;M=Sr(M),E=Sr(E)}M=null}else M=null;g!==null&&Zg(m,p,g,M,!1),D!==null&&x!==null&&Zg(m,x,D,M,!0)}}t:{if(p=c?rs(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var L=ug;else if(og(p))if(Vv)L=m1;else{L=f1;var z=h1}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&vd(c.elementType)&&(L=ug):L=d1;if(L&&(L=L(e,c))){Mv(m,L,n,f);break t}z&&z(e,p,c),e==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&qh(p,"number",p.value)}switch(z=c?rs(c):window,e){case"focusin":(og(z)||z.contentEditable==="true")&&(Pr=z,Qh=c,ds=null);break;case"focusout":ds=Qh=Pr=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,mg(m,n,f);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":mg(m,n,f)}var b;if(Ad)t:{switch(e){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else kr?Ov(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Nv&&n.locale!=="ko"&&(kr||_!=="onCompositionStart"?_==="onCompositionEnd"&&kr&&(b=xv()):(si=f,Td="value"in si?si.value:si.textContent,kr=!0)),z=ru(c,_),0<z.length&&(_=new rg(_,e,null,n,f),m.push({event:_,listeners:z}),b?_.data=b:(b=Iv(n),b!==null&&(_.data=b)))),(b=s1?l1(e,n):o1(e,n))&&(_=ru(c,"onBeforeInput"),0<_.length&&(z=new rg("onBeforeInput","beforeinput",null,n,f),m.push({event:z,listeners:_}),z.data=b)),J1(m,e,c,n,f)}R0(m,t)})}function Ps(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=Os(e,n),r!=null&&i.unshift(Ps(e,r,a)),r=Os(e,t),r!=null&&i.push(Ps(e,r,a))),e.tag===3)return i;e=e.return}return[]}function Sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zg(e,t,n,i,r){for(var a=t._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||c===null||(u=c,r?(c=Os(n,a),c!=null&&s.unshift(Ps(n,c,u))):r||(c=Os(n,a),c!=null&&s.push(Ps(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var nR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function Jg(e){return(typeof e=="string"?e:""+e).replace(nR,`
`).replace(iR,"")}function C0(e,t){return t=Jg(t),Jg(e)===t}function Gu(){}function ft(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ia(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ia(e,""+i);break;case"className":Kl(e,"class",i);break;case"tabIndex":Kl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(e,n,i);break;case"style":Cv(e,i,a);break;case"data":if(t!=="object"){Kl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=po(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&ft(e,t,"name",r.name,r,null),ft(e,t,"formEncType",r.formEncType,r,null),ft(e,t,"formMethod",r.formMethod,r,null),ft(e,t,"formTarget",r.formTarget,r,null)):(ft(e,t,"encType",r.encType,r,null),ft(e,t,"method",r.method,r,null),ft(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=po(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Gu);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=po(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":tt("beforetoggle",e),tt("toggle",e),mo(e,"popover",i);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":mo(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=MS.get(n)||n,mo(e,n,i))}}function vf(e,t,n,i,r,a){switch(n){case"style":Cv(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ia(e,i):(typeof i=="number"||typeof i=="bigint")&&ia(e,""+i);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[Re]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):mo(e,n,i)}}}function ne(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:ft(e,t,a,s,n,null)}}r&&ft(e,t,"srcSet",n.srcSet,n,null),i&&ft(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var o=a=s=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":s=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":a=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(P(137,t));break;default:ft(e,t,i,f,n,null)}}Sv(e,a,o,u,c,s,r,!1),zo(e);return;case"select":tt("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:ft(e,t,r,o,n,null)}t=a,n=s,e.multiple=!!i,t!=null?Qr(e,!!i,t,!1):n!=null&&Qr(e,!!i,n,!0);return;case"textarea":tt("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(P(91));break;default:ft(e,t,s,o,n,null)}wv(e,i,r,a),zo(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ft(e,t,u,i,n,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(i=0;i<ks.length;i++)tt(ks[i],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:ft(e,t,c,i,n,null)}return;default:if(vd(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&vf(e,t,f,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&ft(e,t,o,i,n,null))}function rR(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,o=null,u=null,c=null,f=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(g)||ft(e,t,g,null,i,m)}}for(var p in i){var g=i[p];if(m=n[p],i.hasOwnProperty(p)&&(g!=null||m!=null))switch(p){case"type":a=g;break;case"name":r=g;break;case"checked":c=g;break;case"defaultChecked":f=g;break;case"value":s=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(P(137,t));break;default:g!==m&&ft(e,t,p,g,i,m)}}Hh(e,s,o,u,c,f,a,r);return;case"select":g=s=o=p=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":g=u;default:i.hasOwnProperty(a)||ft(e,t,a,null,i,u)}for(r in i)if(a=i[r],u=n[r],i.hasOwnProperty(r)&&(a!=null||u!=null))switch(r){case"value":p=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==u&&ft(e,t,r,a,i,u)}t=o,n=s,i=g,p!=null?Qr(e,!!n,p,!1):!!i!=!!n&&(t!=null?Qr(e,!!n,t,!0):Qr(e,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ft(e,t,o,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":p=r;break;case"defaultValue":g=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==a&&ft(e,t,s,r,i,a)}Rv(e,p,g);return;case"option":for(var D in n)if(p=n[D],n.hasOwnProperty(D)&&p!=null&&!i.hasOwnProperty(D))switch(D){case"selected":e.selected=!1;break;default:ft(e,t,D,null,i,p)}for(u in i)if(p=i[u],g=n[u],i.hasOwnProperty(u)&&p!==g&&(p!=null||g!=null))switch(u){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ft(e,t,u,p,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)p=n[M],n.hasOwnProperty(M)&&p!=null&&!i.hasOwnProperty(M)&&ft(e,t,M,null,i,p);for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(P(137,t));break;default:ft(e,t,c,p,i,g)}return;default:if(vd(t)){for(var x in n)p=n[x],n.hasOwnProperty(x)&&p!==void 0&&!i.hasOwnProperty(x)&&vf(e,t,x,void 0,i,p);for(f in i)p=i[f],g=n[f],!i.hasOwnProperty(f)||p===g||p===void 0&&g===void 0||vf(e,t,f,p,i,g);return}}for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!i.hasOwnProperty(E)&&ft(e,t,E,null,i,p);for(m in i)p=i[m],g=n[m],!i.hasOwnProperty(m)||p===g||p==null&&g==null||ft(e,t,m,p,i,g)}var Ef=null,Tf=null;function au(e){return e.nodeType===9?e:e.ownerDocument}function Wg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mh=null;function aR(){var e=window.event;return e&&e.type==="popstate"?e===mh?!1:(mh=e,!0):(mh=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,lR=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(e){return ty.resolve(null).then(e).catch(oR)}:x0;function oR(e){setTimeout(function(){throw e})}function Vi(e){return e==="head"}function ey(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(n&1&&Ss(s.documentElement),n&2&&Ss(s.body),n&4)for(n=s.head,Ss(n),s=n.firstChild;s;){var o=s.nextSibling,u=s.nodeName;s[rl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=o}}if(r===0){e.removeChild(a),qs(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);qs(t)}function Af(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Af(n),_d(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function uR(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[rl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function cR(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tn(e.nextSibling),e===null))return null;return e}function Sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function hR(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Rf=null;function ny(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function N0(e,t,n){switch(t=au(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function Ss(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_d(e)}var $e=new Map,iy=new Set;function su(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fn=ut.d;ut.d={f:fR,r:dR,D:mR,C:pR,L:gR,m:yR,X:vR,S:_R,M:ER};function fR(){var e=Fn.f(),t=ju();return e||t}function dR(e){var t=Aa(e);t!==null&&t.tag===5&&t.type==="form"?AE(t):Fn.r(e)}var wa=typeof document>"u"?null:document;function O0(e,t,n){var i=wa;if(i&&typeof t=="string"&&t){var r=Fe(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),iy.has(r)||(iy.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),ne(t,"link",e),Qt(t),i.head.appendChild(t)))}}function mR(e){Fn.D(e),O0("dns-prefetch",e,null)}function pR(e,t){Fn.C(e,t),O0("preconnect",e,t)}function gR(e,t,n){Fn.L(e,t,n);var i=wa;if(i&&e&&t){var r='link[rel="preload"][as="'+Fe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Fe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Fe(n.imageSizes)+'"]')):r+='[href="'+Fe(e)+'"]';var a=r;switch(t){case"style":a=ha(e);break;case"script":a=Ca(e)}$e.has(a)||(e=vt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),$e.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(ml(a))||t==="script"&&i.querySelector(pl(a))||(t=i.createElement("link"),ne(t,"link",e),Qt(t),i.head.appendChild(t)))}}function yR(e,t){Fn.m(e,t);var n=wa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Fe(i)+'"][href="'+Fe(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ca(e)}if(!$e.has(a)&&(e=vt({rel:"modulepreload",href:e},t),$e.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(pl(a)))return}i=n.createElement("link"),ne(i,"link",e),Qt(i),n.head.appendChild(i)}}}function _R(e,t,n){Fn.S(e,t,n);var i=wa;if(i&&e){var r=Fr(i).hoistableStyles,a=ha(e);t=t||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(ml(a)))o.loading=5;else{e=vt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$e.get(a))&&em(e,n);var u=s=i.createElement("link");Qt(u),ne(u,"link",e),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,So(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}}function vR(e,t){Fn.X(e,t);var n=wa;if(n&&e){var i=Fr(n).hoistableScripts,r=Ca(e),a=i.get(r);a||(a=n.querySelector(pl(r)),a||(e=vt({src:e,async:!0},t),(t=$e.get(r))&&nm(e,t),a=n.createElement("script"),Qt(a),ne(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function ER(e,t){Fn.M(e,t);var n=wa;if(n&&e){var i=Fr(n).hoistableScripts,r=Ca(e),a=i.get(r);a||(a=n.querySelector(pl(r)),a||(e=vt({src:e,async:!0,type:"module"},t),(t=$e.get(r))&&nm(e,t),a=n.createElement("script"),Qt(a),ne(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function ry(e,t,n,i){var r=(r=hi.current)?su(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ha(n.href),n=Fr(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ha(n.href);var a=Fr(r).hoistableStyles,s=a.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=r.querySelector(ml(e)))&&!a._p&&(s.instance=a,s.state.loading=5),$e.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$e.set(e,n),a||TR(r,e,n,s.state))),t&&i===null)throw Error(P(528,""));return s}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ca(n),n=Fr(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function ha(e){return'href="'+Fe(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function I0(e){return vt({},e,{"data-precedence":e.precedence,precedence:null})}function TR(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ne(t,"link",n),Qt(t),e.head.appendChild(t))}function Ca(e){return'[src="'+Fe(e)+'"]'}function pl(e){return"script[async]"+e}function ay(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Fe(n.href)+'"]');if(i)return t.instance=i,Qt(i),i;var r=vt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Qt(i),ne(i,"style",r),So(i,n.precedence,e),t.instance=i;case"stylesheet":r=ha(n.href);var a=e.querySelector(ml(r));if(a)return t.state.loading|=4,t.instance=a,Qt(a),a;i=I0(n),(r=$e.get(r))&&em(i,r),a=(e.ownerDocument||e).createElement("link"),Qt(a);var s=a;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),ne(a,"link",i),t.state.loading|=4,So(a,n.precedence,e),t.instance=a;case"script":return a=Ca(n.src),(r=e.querySelector(pl(a)))?(t.instance=r,Qt(r),r):(i=n,(r=$e.get(a))&&(i=vt({},n),nm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Qt(r),ne(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,So(i,n.precedence,e));return t.instance}function So(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function em(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ro=null;function sy(e,t,n){if(Ro===null){var i=new Map,r=Ro=new Map;r.set(n,i)}else r=Ro,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[rl]||a[ce]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function ly(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function bR(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function M0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var zs=null;function AR(){}function SR(e,t,n){if(zs===null)throw Error(P(475));var i=zs;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=ha(n.href),a=e.querySelector(ml(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=lu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,Qt(a);return}a=e.ownerDocument||e,n=I0(n),(r=$e.get(r))&&em(n,r),a=a.createElement("link"),Qt(a);var s=a;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),ne(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=lu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function RR(){if(zs===null)throw Error(P(475));var e=zs;return e.stylesheets&&e.count===0&&wf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&wf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function lu(){if(this.count--,this.count===0){if(this.stylesheets)wf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ou=null;function wf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ou=new Map,t.forEach(wR,e),ou=null,lu.call(e))}function wR(e,t){if(!(t.state.loading&4)){var n=ou.get(e);if(n)var i=n.get(null);else{n=new Map,ou.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=t.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=lu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Bs={$$typeof:Cn,Provider:null,Consumer:null,_currentValue:Qi,_currentValue2:Qi,_threadCount:0};function CR(e,t,n,i,r,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.hiddenUpdates=Lc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function V0(e,t,n,i,r,a,s,o,u,c,f,m){return e=new CR(e,t,n,s,o,u,c,m),t=1,a===!0&&(t|=24),a=Ie(3,null,null,t),e.current=a,a.stateNode=e,t=Nd(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},Id(a),e}function U0(e){return e?(e=jr,e):jr}function L0(e,t,n,i,r,a){r=U0(r),i.context===null?i.context=r:i.pendingContext=r,i=fi(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=di(e,i,t),n!==null&&(ke(n,e,t),gs(n,e,t))}function oy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function im(e,t){oy(e,t),(e=e.alternate)&&oy(e,t)}function k0(e){if(e.tag===13){var t=Sa(e,67108864);t!==null&&ke(t,e,67108864),im(e,67108864)}}var uu=!0;function DR(e,t,n,i){var r=Q.T;Q.T=null;var a=ut.p;try{ut.p=2,rm(e,t,n,i)}finally{ut.p=a,Q.T=r}}function xR(e,t,n,i){var r=Q.T;Q.T=null;var a=ut.p;try{ut.p=8,rm(e,t,n,i)}finally{ut.p=a,Q.T=r}}function rm(e,t,n,i){if(uu){var r=Cf(i);if(r===null)dh(e,t,i,cu,n),uy(e,i);else if(OR(r,e,t,n,i))i.stopPropagation();else if(uy(e,i),t&4&&-1<NR.indexOf(e)){for(;r!==null;){var a=Aa(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Bi(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-Ue(s);o.entanglements[1]|=u,s&=~u}yn(a),!(ht&6)&&(tu=hn()+500,dl(0))}}break;case 13:o=Sa(a,2),o!==null&&ke(o,a,2),ju(),im(a,2)}if(a=Cf(i),a===null&&dh(e,t,i,cu,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else dh(e,t,i,null,n)}}function Cf(e){return e=Ed(e),am(e)}var cu=null;function am(e){if(cu=null,e=Ur(e),e!==null){var t=tl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ov(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cu=e,null}function P0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pS()){case fv:return 2;case dv:return 8;case Po:case gS:return 32;case mv:return 268435456;default:return 32}default:return 32}}var Df=!1,gi=null,yi=null,_i=null,js=new Map,Hs=new Map,ri=[],NR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(e,t){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(t.pointerId)}}function Ja(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Aa(t),t!==null&&k0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function OR(e,t,n,i,r){switch(t){case"focusin":return gi=Ja(gi,e,t,n,i,r),!0;case"dragenter":return yi=Ja(yi,e,t,n,i,r),!0;case"mouseover":return _i=Ja(_i,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return js.set(a,Ja(js.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Hs.set(a,Ja(Hs.get(a)||null,e,t,n,i,r)),!0}return!1}function z0(e){var t=Ur(e.target);if(t!==null){var n=tl(t);if(n!==null){if(t=n.tag,t===13){if(t=ov(n),t!==null){e.blockedOn=t,SS(e.priority,function(){if(n.tag===13){var i=Le();i=gd(i);var r=Sa(n,i);r!==null&&ke(r,n,i),im(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Gh=i,n.target.dispatchEvent(i),Gh=null}else return t=Aa(n),t!==null&&k0(t),e.blockedOn=n,!1;t.shift()}return!0}function cy(e,t,n){wo(e)&&n.delete(t)}function IR(){Df=!1,gi!==null&&wo(gi)&&(gi=null),yi!==null&&wo(yi)&&(yi=null),_i!==null&&wo(_i)&&(_i=null),js.forEach(cy),Hs.forEach(cy)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Df||(Df=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,IR)))}var no=null;function hy(e){no!==e&&(no=e,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,function(){no===e&&(no=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(am(i||n)===null)continue;break}var a=Aa(n);a!==null&&(e.splice(t,3),t-=3,lf(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function qs(e){function t(u){return eo(u,e)}gi!==null&&eo(gi,e),yi!==null&&eo(yi,e),_i!==null&&eo(_i,e),js.forEach(t),Hs.forEach(t);for(var n=0;n<ri.length;n++){var i=ri[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)z0(n),n.blockedOn===null&&ri.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[Re]||null;if(typeof a=="function")s||hy(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[Re]||null)o=s.formAction;else if(am(r)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),hy(n)}}}function sm(e){this._internalRoot=e}Fu.prototype.render=sm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=Le();L0(n,i,e,t,null,null)};Fu.prototype.unmount=sm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;L0(e.current,2,null,e,null,null),ju(),t[ba]=null}};function Fu(e){this._internalRoot=e}Fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=vv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ri.length&&t!==0&&t<ri[n].priority;n++);ri.splice(n,0,e),n===0&&z0(e)}};var fy=sv.version;if(fy!=="19.1.0")throw Error(P(527,fy,"19.1.0"));ut.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=oS(t),e=e!==null?uv(e):null,e=e===null?null:e.stateNode,e};var MR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{el=io.inject(MR),Ve=io}catch{}}xu.createRoot=function(e,t){if(!lv(e))throw Error(P(299));var n=!1,i="",r=VE,a=UE,s=LE,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=V0(e,1,!1,null,null,n,i,r,a,s,o,null),e[ba]=t.current,tm(e),new sm(t)};xu.hydrateRoot=function(e,t,n){if(!lv(e))throw Error(P(299));var i=!1,r="",a=VE,s=UE,o=LE,u=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=V0(e,1,!0,t,n??null,i,r,a,s,o,u,c),t.context=U0(null),n=t.current,i=Le(),i=gd(i),r=fi(i),r.callback=null,di(n,r,i),n=i,t.current.lanes=n,il(t,n),yn(t),e[ba]=t.current,tm(e),new Fu(t)};xu.version="19.1.0";function B0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B0)}catch(e){console.error(e)}}B0(),tv.exports=xu;var VR=tv.exports;const UR=G_(VR),LR="modulepreload",kR=function(e){return"/sil-english-lab-fe/"+e},dy={},PR=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.all(n.map(o=>{if(o=kR(o),o in dy)return;dy[o]=!0;const u=o.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":LR,u||(f.as="script",f.crossOrigin=""),f.href=o,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};var lm={};Object.defineProperty(lm,"__esModule",{value:!0});lm.parse=FR;lm.serialize=QR;const zR=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,BR=/^[\u0021-\u003A\u003C-\u007E]*$/,jR=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,HR=/^[\u0020-\u003A\u003D-\u007E]*$/,qR=Object.prototype.toString,GR=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function FR(e,t){const n=new GR,i=e.length;if(i<2)return n;const r=(t==null?void 0:t.decode)||KR;let a=0;do{const s=e.indexOf("=",a);if(s===-1)break;const o=e.indexOf(";",a),u=o===-1?i:o;if(s>u){a=e.lastIndexOf(";",s-1)+1;continue}const c=my(e,a,s),f=py(e,s,c),m=e.slice(c,f);if(n[m]===void 0){let p=my(e,s+1,u),g=py(e,u,p);const D=r(e.slice(p,g));n[m]=D}a=u+1}while(a<i);return n}function my(e,t,n){do{const i=e.charCodeAt(t);if(i!==32&&i!==9)return t}while(++t<n);return n}function py(e,t,n){for(;t>n;){const i=e.charCodeAt(--t);if(i!==32&&i!==9)return t+1}return n}function QR(e,t,n){const i=(n==null?void 0:n.encode)||encodeURIComponent;if(!zR.test(e))throw new TypeError(`argument name is invalid: ${e}`);const r=i(t);if(!BR.test(r))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+r;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!jR.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!HR.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!YR(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function KR(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function YR(e){return qR.call(e)==="[object Date]"}var gy="popstate";function $R(e={}){function t(r,a){let{pathname:s="/",search:o="",hash:u=""}=mr(r.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),xf("",{pathname:s,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){let s=r.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let u=r.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof a=="string"?a:Gs(a))}function i(r,a){en(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return ZR(t,n,i,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function en(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XR(){return Math.random().toString(36).substring(2,10)}function yy(e,t){return{usr:e.state,key:e.key,idx:t}}function xf(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mr(t):t,state:n,key:t&&t.key||i||XR()}}function Gs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function ZR(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function m(){o="POP";let x=f(),E=x==null?null:x-c;c=x,u&&u({action:o,location:M.location,delta:E})}function p(x,E){o="PUSH";let T=xf(M.location,x,E);n&&n(T,x),c=f()+1;let v=yy(T,c),w=M.createHref(T);try{s.pushState(v,"",w)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(w)}a&&u&&u({action:o,location:M.location,delta:1})}function g(x,E){o="REPLACE";let T=xf(M.location,x,E);n&&n(T,x),c=f();let v=yy(T,c),w=M.createHref(T);s.replaceState(v,"",w),a&&u&&u({action:o,location:M.location,delta:0})}function D(x){let E=r.location.origin!=="null"?r.location.origin:r.location.href,T=typeof x=="string"?x:Gs(x);return T=T.replace(/ $/,"%20"),St(E,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,E)}let M={get action(){return o},get location(){return e(r,s)},listen(x){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(gy,m),u=x,()=>{r.removeEventListener(gy,m),u=null}},createHref(x){return t(r,x)},createURL:D,encodeLocation(x){let E=D(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(x){return s.go(x)}};return M}function j0(e,t,n="/"){return JR(e,t,n,!1)}function JR(e,t,n,i){let r=typeof t=="string"?mr(t):t,a=jn(r.pathname||"/",n);if(a==null)return null;let s=H0(e);WR(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=cw(a);o=ow(s[u],c,i)}return o}function H0(e,t=[],n=[],i=""){let r=(a,s,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(St(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let c=Vn([i,u.relativePath]),f=n.concat(u);a.children&&a.children.length>0&&(St(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),H0(a.children,t,f,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:sw(c,a.index),routesMeta:f})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,s);else for(let u of q0(a.path))r(a,s,u)}),t}function q0(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=q0(i.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),r&&o.push(...s),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function WR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lw(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var tw=/^:[\w-]+$/,ew=3,nw=2,iw=1,rw=10,aw=-2,_y=e=>e==="*";function sw(e,t){let n=e.split("/"),i=n.length;return n.some(_y)&&(i+=aw),t&&(i+=nw),n.filter(r=>!_y(r)).reduce((r,a)=>r+(tw.test(a)?ew:a===""?iw:rw),i)}function lw(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function ow(e,t,n=!1){let{routesMeta:i}=e,r={},a="/",s=[];for(let o=0;o<i.length;++o){let u=i[o],c=o===i.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=hu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!m&&c&&n&&!i[i.length-1].route.index&&(m=hu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),s.push({params:r,pathname:Vn([a,m.pathname]),pathnameBase:mw(Vn([a,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(a=Vn([a,m.pathnameBase]))}return s}function hu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=uw(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:m},p)=>{if(f==="*"){let D=o[p]||"";s=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const g=o[p];return m&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function uw(e,t=!1,n=!0){en(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(i.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function cw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return en(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function hw(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?mr(e):e;return{pathname:n?n.startsWith("/")?n:fw(n,t):t,search:pw(i),hash:gw(r)}}function fw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ph(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function G0(e){let t=dw(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function F0(e,t,n,i=!1){let r;typeof e=="string"?r=mr(e):(r={...e},St(!r.pathname||!r.pathname.includes("?"),ph("?","pathname","search",r)),St(!r.pathname||!r.pathname.includes("#"),ph("#","pathname","hash",r)),St(!r.search||!r.search.includes("#"),ph("#","search","hash",r)));let a=e===""||r.pathname==="",s=a?"/":r.pathname,o;if(s==null)o=n;else{let m=t.length-1;if(!i&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}o=m>=0?t[m]:"/"}let u=hw(r,o),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Vn=e=>e.join("/").replace(/\/\/+/g,"/"),mw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Q0=["POST","PUT","PATCH","DELETE"];new Set(Q0);var _w=["GET",...Q0];new Set(_w);var Da=V.createContext(null);Da.displayName="DataRouter";var Qu=V.createContext(null);Qu.displayName="DataRouterState";var K0=V.createContext({isTransitioning:!1});K0.displayName="ViewTransition";var vw=V.createContext(new Map);vw.displayName="Fetchers";var Ew=V.createContext(null);Ew.displayName="Await";var _n=V.createContext(null);_n.displayName="Navigation";var gl=V.createContext(null);gl.displayName="Location";var Qn=V.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var om=V.createContext(null);om.displayName="RouteError";function Tw(e,{relative:t}={}){St(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(_n),{hash:r,pathname:a,search:s}=_l(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:Vn([n,a])),i.createHref({pathname:o,search:s,hash:r})}function yl(){return V.useContext(gl)!=null}function pr(){return St(yl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(gl).location}var Y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $0(e){V.useContext(_n).static||V.useLayoutEffect(e)}function bw(){let{isDataRoute:e}=V.useContext(Qn);return e?Uw():Aw()}function Aw(){St(yl(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Da),{basename:t,navigator:n}=V.useContext(_n),{matches:i}=V.useContext(Qn),{pathname:r}=pr(),a=JSON.stringify(G0(i)),s=V.useRef(!1);return $0(()=>{s.current=!0}),V.useCallback((u,c={})=>{if(en(s.current,Y0),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=F0(u,JSON.parse(a),r,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Vn([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,a,r,e])}V.createContext(null);function _l(e,{relative:t}={}){let{matches:n}=V.useContext(Qn),{pathname:i}=pr(),r=JSON.stringify(G0(n));return V.useMemo(()=>F0(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function Sw(e,t){return X0(e,t)}function X0(e,t,n,i){var T;St(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:a}=V.useContext(_n),{matches:s}=V.useContext(Qn),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",m=o&&o.route;{let v=m&&m.path||"";Z0(c,!m||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let p=pr(),g;if(t){let v=typeof t=="string"?mr(t):t;St(f==="/"||((T=v.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${v.pathname}" was given in the \`location\` prop.`),g=v}else g=p;let D=g.pathname||"/",M=D;if(f!=="/"){let v=f.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=!a&&n&&n.matches&&n.matches.length>0?n.matches:j0(e,{pathname:M});en(m||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),en(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=xw(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},u,v.params),pathname:Vn([f,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?f:Vn([f,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,i);return t&&E?V.createElement(gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},E):E}function Rw(){let e=Vw(),t=yw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:r},n):null,s)}var ww=V.createElement(Rw,null),Cw=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(Qn.Provider,{value:this.props.routeContext},V.createElement(om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dw({routeContext:e,match:t,children:n}){let i=V.useContext(Da);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(Qn.Provider,{value:e},n)}function xw(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,a=n==null?void 0:n.errors;if(a!=null){let u=r.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);St(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let s=!1,o=-1;if(n)for(let u=0;u<r.length;u++){let c=r[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=u),c.route.id){let{loaderData:f,errors:m}=n,p=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!m||m[c.route.id]===void 0);if(c.route.lazy||p){s=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((u,c,f)=>{let m,p=!1,g=null,D=null;n&&(m=a&&c.route.id?a[c.route.id]:void 0,g=c.route.errorElement||ww,s&&(o<0&&f===0?(Z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,D=null):o===f&&(p=!0,D=c.route.hydrateFallbackElement||null)));let M=t.concat(r.slice(0,f+1)),x=()=>{let E;return m?E=g:p?E=D:c.route.Component?E=V.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,V.createElement(Dw,{match:c,routeContext:{outlet:u,matches:M,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?V.createElement(Cw,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):x()},null)}function um(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nw(e){let t=V.useContext(Da);return St(t,um(e)),t}function Ow(e){let t=V.useContext(Qu);return St(t,um(e)),t}function Iw(e){let t=V.useContext(Qn);return St(t,um(e)),t}function cm(e){let t=Iw(e),n=t.matches[t.matches.length-1];return St(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Mw(){return cm("useRouteId")}function Vw(){var i;let e=V.useContext(om),t=Ow("useRouteError"),n=cm("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function Uw(){let{router:e}=Nw("useNavigate"),t=cm("useNavigate"),n=V.useRef(!1);return $0(()=>{n.current=!0}),V.useCallback(async(r,a={})=>{en(n.current,Y0),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}var vy={};function Z0(e,t,n){!t&&!vy[e]&&(vy[e]=!0,en(!1,n))}V.memo(Lw);function Lw({routes:e,future:t,state:n}){return X0(e,void 0,n,t)}function Co(e){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kw({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:a=!1}){St(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=V.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof n=="string"&&(n=mr(n));let{pathname:u="/",search:c="",hash:f="",state:m=null,key:p="default"}=n,g=V.useMemo(()=>{let D=jn(u,s);return D==null?null:{location:{pathname:D,search:c,hash:f,state:m,key:p},navigationType:i}},[s,u,c,f,m,p,i]);return en(g!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:V.createElement(_n.Provider,{value:o},V.createElement(gl.Provider,{children:t,value:g}))}function Pw({children:e,location:t}){return Sw(Nf(e),t)}function Nf(e,t=[]){let n=[];return V.Children.forEach(e,(i,r)=>{if(!V.isValidElement(i))return;let a=[...t,r];if(i.type===V.Fragment){n.push.apply(n,Nf(i.props.children,a));return}St(i.type===Co,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=Nf(i.props.children,a)),n.push(s)}),n}var Do="get",xo="application/x-www-form-urlencoded";function Ku(e){return e!=null&&typeof e.tagName=="string"}function zw(e){return Ku(e)&&e.tagName.toLowerCase()==="button"}function Bw(e){return Ku(e)&&e.tagName.toLowerCase()==="form"}function jw(e){return Ku(e)&&e.tagName.toLowerCase()==="input"}function Hw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qw(e,t){return e.button===0&&(!t||t==="_self")&&!Hw(e)}var ro=null;function Gw(){if(ro===null)try{new FormData(document.createElement("form"),0),ro=!1}catch{ro=!0}return ro}var Fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gh(e){return e!=null&&!Fw.has(e)?(en(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xo}"`),null):e}function Qw(e,t){let n,i,r,a,s;if(Bw(e)){let o=e.getAttribute("action");i=o?jn(o,t):null,n=e.getAttribute("method")||Do,r=gh(e.getAttribute("enctype"))||xo,a=new FormData(e)}else if(zw(e)||jw(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(i=u?jn(u,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Do,r=gh(e.getAttribute("formenctype"))||gh(o.getAttribute("enctype"))||xo,a=new FormData(o,e),!Gw()){let{name:c,type:f,value:m}=e;if(f==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,m)}}else{if(Ku(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Do,i=null,r=xo,s=e}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:s}}function hm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Kw(e,t){if(e.id in t)return t[e.id];try{let n=await PR(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $w(e,t,n){let i=await Promise.all(e.map(async r=>{let a=t.routes[r.route.id];if(a){let s=await Kw(a,n);return s.links?s.links():[]}return[]}));return Ww(i.flat(1).filter(Yw).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Ey(e,t,n,i,r,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,c)=>s(u,c)||o(u,c)):a==="data"?t.filter((u,c)=>{var m;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Xw(e,t,{includeHydrateFallback:n}={}){return Zw(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function Zw(e){return[...new Set(e)]}function Jw(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function Ww(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let a=JSON.stringify(Jw(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}function t2(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&jn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function J0(){let e=V.useContext(Da);return hm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function e2(){let e=V.useContext(Qu);return hm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var fm=V.createContext(void 0);fm.displayName="FrameworkContext";function W0(){let e=V.useContext(fm);return hm(e,"You must render this element inside a <HydratedRouter> element"),e}function n2(e,t){let n=V.useContext(fm),[i,r]=V.useState(!1),[a,s]=V.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=t,p=V.useRef(null);V.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let M=E=>{E.forEach(T=>{s(T.isIntersecting)})},x=new IntersectionObserver(M,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),V.useEffect(()=>{if(i){let M=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(M)}}},[i]);let g=()=>{r(!0)},D=()=>{r(!1),s(!1)};return n?e!=="intent"?[a,p,{}]:[a,p,{onFocus:Wa(o,g),onBlur:Wa(u,D),onMouseEnter:Wa(c,g),onMouseLeave:Wa(f,D),onTouchStart:Wa(m,g)}]:[!1,p,{}]}function Wa(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function i2({page:e,...t}){let{router:n}=J0(),i=V.useMemo(()=>j0(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?V.createElement(a2,{page:e,matches:i,...t}):null}function r2(e){let{manifest:t,routeModules:n}=W0(),[i,r]=V.useState([]);return V.useEffect(()=>{let a=!1;return $w(e,t,n).then(s=>{a||r(s)}),()=>{a=!0}},[e,t,n]),i}function a2({page:e,matches:t,...n}){let i=pr(),{manifest:r,routeModules:a}=W0(),{basename:s}=J0(),{loaderData:o,matches:u}=e2(),c=V.useMemo(()=>Ey(e,t,u,r,i,"data"),[e,t,u,r,i]),f=V.useMemo(()=>Ey(e,t,u,r,i,"assets"),[e,t,u,r,i]),m=V.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let D=new Set,M=!1;if(t.forEach(E=>{var v;let T=r.routes[E.route.id];!T||!T.hasLoader||(!c.some(w=>w.route.id===E.route.id)&&E.route.id in o&&((v=a[E.route.id])!=null&&v.shouldRevalidate)||T.hasClientLoader?M=!0:D.add(E.route.id))}),D.size===0)return[];let x=t2(e,s);return M&&D.size>0&&x.searchParams.set("_routes",t.filter(E=>D.has(E.route.id)).map(E=>E.route.id).join(",")),[x.pathname+x.search]},[s,o,i,r,c,t,e,a]),p=V.useMemo(()=>Xw(f,r),[f,r]),g=r2(f);return V.createElement(V.Fragment,null,m.map(D=>V.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),p.map(D=>V.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),g.map(({key:D,link:M})=>V.createElement("link",{key:D,...M})))}function s2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.5.0")}catch{}function l2({basename:e,children:t,window:n}){let i=V.useRef();i.current==null&&(i.current=$R({window:n,v5Compat:!0}));let r=i.current,[a,s]=V.useState({action:r.action,location:r.location}),o=V.useCallback(u=>{V.startTransition(()=>s(u))},[s]);return V.useLayoutEffect(()=>r.listen(o),[r,o]),V.createElement(kw,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:r})}var eT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=V.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:o,target:u,to:c,preventScrollReset:f,viewTransition:m,...p},g){let{basename:D}=V.useContext(_n),M=typeof c=="string"&&eT.test(c),x,E=!1;if(typeof c=="string"&&M&&(x=c,tT))try{let A=new URL(window.location.href),S=c.startsWith("//")?new URL(A.protocol+c):new URL(c),C=jn(S.pathname,D);S.origin===A.origin&&C!=null?c=C+S.search+S.hash:E=!0}catch{en(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Tw(c,{relative:r}),[v,w,L]=n2(i,p),z=h2(c,{replace:s,state:o,target:u,preventScrollReset:f,relative:r,viewTransition:m});function b(A){t&&t(A),A.defaultPrevented||z(A)}let _=V.createElement("a",{...p,...L,href:x||T,onClick:E||a?t:b,ref:s2(g,w),target:u,"data-discover":!M&&n==="render"?"true":void 0});return v&&!M?V.createElement(V.Fragment,null,_,V.createElement(i2,{page:T})):_});be.displayName="Link";var o2=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:o,children:u,...c},f){let m=_l(s,{relative:c.relative}),p=pr(),g=V.useContext(Qu),{navigator:D,basename:M}=V.useContext(_n),x=g!=null&&g2(m)&&o===!0,E=D.encodeLocation?D.encodeLocation(m).pathname:m.pathname,T=p.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(T=T.toLowerCase(),v=v?v.toLowerCase():null,E=E.toLowerCase()),v&&M&&(v=jn(v,M)||v);const w=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=T===E||!r&&T.startsWith(E)&&T.charAt(w)==="/",z=v!=null&&(v===E||!r&&v.startsWith(E)&&v.charAt(E.length)==="/"),b={isActive:L,isPending:z,isTransitioning:x},_=L?t:void 0,A;typeof i=="function"?A=i(b):A=[i,L?"active":null,z?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let S=typeof a=="function"?a(b):a;return V.createElement(be,{...c,"aria-current":_,className:A,ref:f,style:S,to:s,viewTransition:o},typeof u=="function"?u(b):u)});o2.displayName="NavLink";var u2=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:a,method:s=Do,action:o,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,...p},g)=>{let D=m2(),M=p2(o,{relative:c}),x=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&eT.test(o),T=v=>{if(u&&u(v),v.defaultPrevented)return;v.preventDefault();let w=v.nativeEvent.submitter,L=(w==null?void 0:w.getAttribute("formmethod"))||s;D(w||v.currentTarget,{fetcherKey:t,method:L,navigate:n,replace:r,state:a,relative:c,preventScrollReset:f,viewTransition:m})};return V.createElement("form",{ref:g,method:x,action:M,onSubmit:i?u:T,...p,"data-discover":!E&&e==="render"?"true":void 0})});u2.displayName="Form";function c2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(e){let t=V.useContext(Da);return St(t,c2(e)),t}function h2(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:s}={}){let o=bw(),u=pr(),c=_l(e,{relative:a});return V.useCallback(f=>{if(qw(f,t)){f.preventDefault();let m=n!==void 0?n:Gs(u)===Gs(c);o(e,{replace:m,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[u,o,c,n,i,t,e,r,a,s])}var f2=0,d2=()=>`__${String(++f2)}__`;function m2(){let{router:e}=nT("useSubmit"),{basename:t}=V.useContext(_n),n=Mw();return V.useCallback(async(i,r={})=>{let{action:a,method:s,encType:o,formData:u,body:c}=Qw(i,t);if(r.navigate===!1){let f=r.fetcherKey||d2();await e.fetch(f,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await e.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function p2(e,{relative:t}={}){let{basename:n}=V.useContext(_n),i=V.useContext(Qn);St(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={..._l(e||".",{relative:t})},s=pr();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let f=o.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Vn([n,a.pathname])),Gs(a)}function g2(e,t={}){let n=V.useContext(K0);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nT("useViewTransitionState"),r=_l(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=jn(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=jn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return hu(r.pathname,s)!=null||hu(r.pathname,a)!=null}new TextEncoder;var iT={exports:{}},rT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=V;function y2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _2=typeof Object.is=="function"?Object.is:y2,v2=vl.useSyncExternalStore,E2=vl.useRef,T2=vl.useEffect,b2=vl.useMemo,A2=vl.useDebugValue;rT.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var a=E2(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=b2(function(){function u(g){if(!c){if(c=!0,f=g,g=i(g),r!==void 0&&s.hasValue){var D=s.value;if(r(D,g))return m=D}return m=g}if(D=m,_2(f,g))return D;var M=i(g);return r!==void 0&&r(D,M)?(f=g,D):(f=g,m=M)}var c=!1,f,m,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,i,r]);var o=v2(e,a[0],a[1]);return T2(function(){s.hasValue=!0,s.value=o},[o]),A2(o),o};iT.exports=rT;var S2=iT.exports;function R2(e){e()}function w2(){let e=null,t=null;return{clear(){e=null,t=null},notify(){R2(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){!i||e===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var Ty={notify(){},get:()=>[]};function C2(e,t){let n,i=Ty,r=0,a=!1;function s(M){f();const x=i.subscribe(M);let E=!1;return()=>{E||(E=!0,x(),m())}}function o(){i.notify()}function u(){D.onStateChange&&D.onStateChange()}function c(){return a}function f(){r++,n||(n=e.subscribe(u),i=w2())}function m(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=Ty)}function p(){a||(a=!0,f())}function g(){a&&(a=!1,m())}const D={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>i};return D}var D2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x2=D2(),N2=()=>typeof navigator<"u"&&navigator.product==="ReactNative",O2=N2(),I2=()=>x2||O2?V.useLayoutEffect:V.useEffect,M2=I2(),yh=Symbol.for("react-redux-context"),_h=typeof globalThis<"u"?globalThis:{};function V2(){if(!V.createContext)return{};const e=_h[yh]??(_h[yh]=new Map);let t=e.get(V.createContext);return t||(t=V.createContext(null),e.set(V.createContext,t)),t}var wi=V2();function U2(e){const{children:t,context:n,serverState:i,store:r}=e,a=V.useMemo(()=>{const u=C2(r);return{store:r,subscription:u,getServerState:i?()=>i:void 0}},[r,i]),s=V.useMemo(()=>r.getState(),[r]);M2(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==r.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const o=n||wi;return V.createElement(o.Provider,{value:a},t)}var L2=U2;function dm(e=wi){return function(){return V.useContext(e)}}var aT=dm();function sT(e=wi){const t=e===wi?aT:dm(e),n=()=>{const{store:i}=t();return i};return Object.assign(n,{withTypes:()=>n}),n}var k2=sT();function P2(e=wi){const t=e===wi?k2:sT(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var z2=P2(),B2=(e,t)=>e===t;function j2(e=wi){const t=e===wi?aT:dm(e),n=(i,r={})=>{const{equalityFn:a=B2}=typeof r=="function"?{equalityFn:r}:r,s=t(),{store:o,subscription:u,getServerState:c}=s;V.useRef(!0);const f=V.useCallback({[i.name](p){return i(p)}}[i.name],[i]),m=S2.useSyncExternalStoreWithSelector(u.addNestedSub,o.getState,c||o.getState,f,a);return V.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var H2=j2();function Jt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var q2=typeof Symbol=="function"&&Symbol.observable||"@@observable",by=q2,vh=()=>Math.random().toString(36).substring(7).split("").join("."),G2={INIT:`@@redux/INIT${vh()}`,REPLACE:`@@redux/REPLACE${vh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vh()}`},fu=G2;function mm(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function lT(e,t,n){if(typeof e!="function")throw new Error(Jt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jt(1));return n(lT)(e,t)}let i=e,r=t,a=new Map,s=a,o=0,u=!1;function c(){s===a&&(s=new Map,a.forEach((x,E)=>{s.set(E,x)}))}function f(){if(u)throw new Error(Jt(3));return r}function m(x){if(typeof x!="function")throw new Error(Jt(4));if(u)throw new Error(Jt(5));let E=!0;c();const T=o++;return s.set(T,x),function(){if(E){if(u)throw new Error(Jt(6));E=!1,c(),s.delete(T),a=null}}}function p(x){if(!mm(x))throw new Error(Jt(7));if(typeof x.type>"u")throw new Error(Jt(8));if(typeof x.type!="string")throw new Error(Jt(17));if(u)throw new Error(Jt(9));try{u=!0,r=i(r,x)}finally{u=!1}return(a=s).forEach(T=>{T()}),x}function g(x){if(typeof x!="function")throw new Error(Jt(10));i=x,p({type:fu.REPLACE})}function D(){const x=m;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Jt(11));function T(){const w=E;w.next&&w.next(f())}return T(),{unsubscribe:x(T)}},[by](){return this}}}return p({type:fu.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:g,[by]:D}}function F2(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:fu.INIT})>"u")throw new Error(Jt(12));if(typeof n(void 0,{type:fu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function Q2(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const i=Object.keys(n);let r;try{F2(n)}catch(a){r=a}return function(s={},o){if(r)throw r;let u=!1;const c={};for(let f=0;f<i.length;f++){const m=i[f],p=n[m],g=s[m],D=p(g,o);if(typeof D>"u")throw o&&o.type,new Error(Jt(14));c[m]=D,u=u||D!==g}return u=u||i.length!==Object.keys(s).length,u?c:s}}function du(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function K2(...e){return t=>(n,i)=>{const r=t(n,i);let a=()=>{throw new Error(Jt(15))};const s={getState:r.getState,dispatch:(u,...c)=>a(u,...c)},o=e.map(u=>u(s));return a=du(...o)(r.dispatch),{...r,dispatch:a}}}function Y2(e){return mm(e)&&"type"in e&&typeof e.type=="string"}var oT=Symbol.for("immer-nothing"),Ay=Symbol.for("immer-draftable"),ze=Symbol.for("immer-state");function We(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fa=Object.getPrototypeOf;function sr(e){return!!e&&!!e[ze]}function Hn(e){var t;return e?uT(e)||Array.isArray(e)||!!e[Ay]||!!((t=e.constructor)!=null&&t[Ay])||$u(e)||Xu(e):!1}var $2=Object.prototype.constructor.toString();function uT(e){if(!e||typeof e!="object")return!1;const t=fa(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$2}function mu(e,t){Yu(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function Yu(e){const t=e[ze];return t?t.type_:Array.isArray(e)?1:$u(e)?2:Xu(e)?3:0}function Of(e,t){return Yu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cT(e,t,n){const i=Yu(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function X2(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $u(e){return e instanceof Map}function Xu(e){return e instanceof Set}function qi(e){return e.copy_||e.base_}function If(e,t){if($u(e))return new Map(e);if(Xu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=uT(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[ze];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const s=r[a],o=i[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(fa(e),i)}else{const i=fa(e);if(i!==null&&n)return{...e};const r=Object.create(i);return Object.assign(r,e)}}function pm(e,t=!1){return Zu(e)||sr(e)||!Hn(e)||(Yu(e)>1&&(e.set=e.add=e.clear=e.delete=Z2),Object.freeze(e),t&&Object.entries(e).forEach(([n,i])=>pm(i,!0))),e}function Z2(){We(2)}function Zu(e){return Object.isFrozen(e)}var J2={};function lr(e){const t=J2[e];return t||We(0,e),t}var Fs;function hT(){return Fs}function W2(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sy(e,t){t&&(lr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mf(e){Vf(e),e.drafts_.forEach(tC),e.drafts_=null}function Vf(e){e===Fs&&(Fs=e.parent_)}function Ry(e){return Fs=W2(Fs,e)}function tC(e){const t=e[ze];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wy(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ze].modified_&&(Mf(t),We(4)),Hn(e)&&(e=pu(t,e),t.parent_||gu(t,e)),t.patches_&&lr("Patches").generateReplacementPatches_(n[ze].base_,e,t.patches_,t.inversePatches_)):e=pu(t,n,[]),Mf(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==oT?e:void 0}function pu(e,t,n){if(Zu(t))return t;const i=t[ze];if(!i)return mu(t,(r,a)=>Cy(e,i,t,r,a,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return gu(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let a=r,s=!1;i.type_===3&&(a=new Set(r),r.clear(),s=!0),mu(a,(o,u)=>Cy(e,i,r,o,u,n,s)),gu(e,r,!1),n&&e.patches_&&lr("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Cy(e,t,n,i,r,a,s){if(sr(r)){const o=a&&t&&t.type_!==3&&!Of(t.assigned_,i)?a.concat(i):void 0,u=pu(e,r,o);if(cT(n,i,u),sr(u))e.canAutoFreeze_=!1;else return}else s&&n.add(r);if(Hn(r)&&!Zu(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;pu(e,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&gu(e,r)}}function gu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pm(t,n)}function eC(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:hT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=gm;n&&(r=[i],a=Qs);const{revoke:s,proxy:o}=Proxy.revocable(r,a);return i.draft_=o,i.revoke_=s,o}var gm={get(e,t){if(t===ze)return e;const n=qi(e);if(!Of(n,t))return nC(e,n,t);const i=n[t];return e.finalized_||!Hn(i)?i:i===Eh(e.base_,t)?(Th(e),e.copy_[t]=Lf(i,e)):i},has(e,t){return t in qi(e)},ownKeys(e){return Reflect.ownKeys(qi(e))},set(e,t,n){const i=fT(qi(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const r=Eh(qi(e),t),a=r==null?void 0:r[ze];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(X2(n,r)&&(n!==void 0||Of(e.base_,t)))return!0;Th(e),Uf(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Eh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Th(e),Uf(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qi(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){We(11)},getPrototypeOf(e){return fa(e.base_)},setPrototypeOf(){We(12)}},Qs={};mu(gm,(e,t)=>{Qs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qs.deleteProperty=function(e,t){return Qs.set.call(this,e,t,void 0)};Qs.set=function(e,t,n){return gm.set.call(this,e[0],t,n,e[0])};function Eh(e,t){const n=e[ze];return(n?qi(n):e)[t]}function nC(e,t,n){var r;const i=fT(t,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(e.draft_):void 0}function fT(e,t){if(!(t in e))return;let n=fa(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=fa(n)}}function Uf(e){e.modified_||(e.modified_=!0,e.parent_&&Uf(e.parent_))}function Th(e){e.copy_||(e.copy_=If(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iC=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(u=a,...c){return s.produce(u,f=>n.call(this,f,...c))}}typeof n!="function"&&We(6),i!==void 0&&typeof i!="function"&&We(7);let r;if(Hn(t)){const a=Ry(this),s=Lf(t,void 0);let o=!0;try{r=n(s),o=!1}finally{o?Mf(a):Vf(a)}return Sy(a,i),wy(r,a)}else if(!t||typeof t!="object"){if(r=n(t),r===void 0&&(r=t),r===oT&&(r=void 0),this.autoFreeze_&&pm(r,!0),i){const a=[],s=[];lr("Patches").generateReplacementPatches_(t,r,a,s),i(a,s)}return r}else We(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,u=>t(u,...o));let i,r;return[this.produce(t,n,(s,o)=>{i=s,r=o}),i,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Hn(e)||We(8),sr(e)&&(e=rC(e));const t=Ry(this),n=Lf(e,void 0);return n[ze].isManual_=!0,Vf(t),n}finishDraft(e,t){const n=e&&e[ze];(!n||!n.isManual_)&&We(9);const{scope_:i}=n;return Sy(i,t),wy(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}n>-1&&(t=t.slice(n+1));const i=lr("Patches").applyPatches_;return sr(e)?i(e,t):this.produce(e,r=>i(r,t))}};function Lf(e,t){const n=$u(e)?lr("MapSet").proxyMap_(e,t):Xu(e)?lr("MapSet").proxySet_(e,t):eC(e,t);return(t?t.scope_:hT()).drafts_.push(n),n}function rC(e){return sr(e)||We(10,e),dT(e)}function dT(e){if(!Hn(e)||Zu(e))return e;const t=e[ze];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=If(e,t.scope_.immer_.useStrictShallowCopy_)}else n=If(e,!0);return mu(n,(i,r)=>{cT(n,i,dT(r))}),t&&(t.finalized_=!1),n}var Be=new iC,mT=Be.produce;Be.produceWithPatches.bind(Be);Be.setAutoFreeze.bind(Be);Be.setUseStrictShallowCopy.bind(Be);Be.applyPatches.bind(Be);Be.createDraft.bind(Be);Be.finishDraft.bind(Be);function pT(e){return({dispatch:n,getState:i})=>r=>a=>typeof a=="function"?a(n,i,e):r(a)}var aC=pT(),sC=pT,lC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?du:du.apply(null,arguments)},oC=e=>e&&typeof e.match=="function";function Rs(e,t){function n(...i){if(t){let r=t(...i);if(!r)throw new Error(Un(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>Y2(i)&&i.type===e,n}var gT=class ss extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ss.prototype)}static get[Symbol.species](){return ss}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ss(...t[0].concat(this)):new ss(...t.concat(this))}};function Dy(e){return Hn(e)?mT(e,()=>{}):e}function xy(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function uC(e){return typeof e=="boolean"}var cC=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=t??{};let s=new gT;return n&&(uC(n)?s.push(aC):s.push(sC(n.extraArgument))),s},hC="RTK_autoBatch",Ny=e=>t=>{setTimeout(t,e)},fC=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let r=!0,a=!1,s=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ny(10):e.type==="callback"?e.queueNotification:Ny(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(f=>f()))};return Object.assign({},i,{subscribe(f){const m=()=>r&&f(),p=i.subscribe(m);return o.add(f),()=>{p(),o.delete(f)}},dispatch(f){var m;try{return r=!((m=f==null?void 0:f.meta)!=null&&m[hC]),a=!r,a&&(s||(s=!0,u(c))),i.dispatch(f)}finally{r=!0}}})},dC=e=>function(n){const{autoBatch:i=!0}=n??{};let r=new gT(e);return i&&r.push(fC(typeof i=="object"?i:void 0)),r};function mC(e){const t=cC(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(mm(n))o=Q2(n);else throw new Error(Un(1));let u;typeof i=="function"?u=i(t):u=t();let c=du;r&&(c=lC({trace:!1,...typeof r=="object"&&r}));const f=K2(...u),m=dC(f);let p=typeof s=="function"?s(m):m();const g=c(...p);return lT(o,a,g)}function yT(e){const t={},n=[];let i;const r={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Un(28));if(o in t)throw new Error(Un(29));return t[o]=s,r},addMatcher(a,s){return n.push({matcher:a,reducer:s}),r},addDefaultCase(a){return i=a,r}};return e(r),[t,n,i]}function pC(e){return typeof e=="function"}function gC(e,t){let[n,i,r]=yT(t),a;if(pC(e))a=()=>Dy(e());else{const o=Dy(e);a=()=>o}function s(o=a(),u){let c=[n[u.type],...i.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[r]),c.reduce((f,m)=>{if(m)if(sr(f)){const g=m(f,u);return g===void 0?f:g}else{if(Hn(f))return mT(f,p=>m(p,u));{const p=m(f,u);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},o)}return s.getInitialState=a,s}var yC=(e,t)=>oC(e)?e.match(t):e(t);function _C(...e){return t=>e.some(n=>yC(n,t))}var vC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EC=(e=21)=>{let t="",n=e;for(;n--;)t+=vC[Math.random()*64|0];return t},TC=["name","message","stack","code"],bh=class{constructor(e,t){Mc(this,"_type");this.payload=e,this.meta=t}},Oy=class{constructor(e,t){Mc(this,"_type");this.payload=e,this.meta=t}},bC=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of TC)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},Iy="External signal was aborted",AC=(()=>{function e(t,n,i){const r=Rs(t+"/fulfilled",(u,c,f,m)=>({payload:u,meta:{...m||{},arg:f,requestId:c,requestStatus:"fulfilled"}})),a=Rs(t+"/pending",(u,c,f)=>({payload:void 0,meta:{...f||{},arg:c,requestId:u,requestStatus:"pending"}})),s=Rs(t+"/rejected",(u,c,f,m,p)=>({payload:m,error:(i&&i.serializeError||bC)(u||"Rejected"),meta:{...p||{},arg:f,requestId:c,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function o(u,{signal:c}={}){return(f,m,p)=>{const g=i!=null&&i.idGenerator?i.idGenerator(u):EC(),D=new AbortController;let M,x;function E(v){x=v,D.abort()}c&&(c.aborted?E(Iy):c.addEventListener("abort",()=>E(Iy),{once:!0}));const T=async function(){var L,z;let v;try{let b=(L=i==null?void 0:i.condition)==null?void 0:L.call(i,u,{getState:m,extra:p});if(RC(b)&&(b=await b),b===!1||D.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const _=new Promise((A,S)=>{M=()=>{S({name:"AbortError",message:x||"Aborted"})},D.signal.addEventListener("abort",M)});f(a(g,u,(z=i==null?void 0:i.getPendingMeta)==null?void 0:z.call(i,{requestId:g,arg:u},{getState:m,extra:p}))),v=await Promise.race([_,Promise.resolve(n(u,{dispatch:f,getState:m,extra:p,requestId:g,signal:D.signal,abort:E,rejectWithValue:(A,S)=>new bh(A,S),fulfillWithValue:(A,S)=>new Oy(A,S)})).then(A=>{if(A instanceof bh)throw A;return A instanceof Oy?r(A.payload,g,u,A.meta):r(A,g,u)})])}catch(b){v=b instanceof bh?s(null,g,u,b.payload,b.meta):s(b,g,u)}finally{M&&D.signal.removeEventListener("abort",M)}return i&&!i.dispatchConditionRejection&&s.match(v)&&v.meta.condition||f(v),v}();return Object.assign(T,{abort:E,requestId:g,arg:u,unwrap(){return T.then(SC)}})}}return Object.assign(o,{pending:a,rejected:s,fulfilled:r,settled:_C(s,r),typePrefix:t})}return e.withTypes=()=>e,e})();function SC(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function RC(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var wC=Symbol.for("rtk-slice-createasyncthunk");function CC(e,t){return`${e}/${t}`}function DC({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[wC];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(Un(11));const o=(typeof r.reducers=="function"?r.reducers(OC()):r.reducers)||{},u=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(v,w){const L=typeof v=="string"?v:v.type;if(!L)throw new Error(Un(12));if(L in c.sliceCaseReducersByType)throw new Error(Un(13));return c.sliceCaseReducersByType[L]=w,f},addMatcher(v,w){return c.sliceMatchers.push({matcher:v,reducer:w}),f},exposeAction(v,w){return c.actionCreators[v]=w,f},exposeCaseReducer(v,w){return c.sliceCaseReducersByName[v]=w,f}};u.forEach(v=>{const w=o[v],L={reducerName:v,type:CC(a,v),createNotation:typeof r.reducers=="function"};MC(w)?UC(L,w,f,t):IC(L,w,f)});function m(){const[v={},w=[],L=void 0]=typeof r.extraReducers=="function"?yT(r.extraReducers):[r.extraReducers],z={...v,...c.sliceCaseReducersByType};return gC(r.initialState,b=>{for(let _ in z)b.addCase(_,z[_]);for(let _ of c.sliceMatchers)b.addMatcher(_.matcher,_.reducer);for(let _ of w)b.addMatcher(_.matcher,_.reducer);L&&b.addDefaultCase(L)})}const p=v=>v,g=new Map;let D;function M(v,w){return D||(D=m()),D(v,w)}function x(){return D||(D=m()),D.getInitialState()}function E(v,w=!1){function L(b){let _=b[v];return typeof _>"u"&&w&&(_=x()),_}function z(b=p){const _=xy(g,w,()=>new WeakMap);return xy(_,b,()=>{const A={};for(const[S,C]of Object.entries(r.selectors??{}))A[S]=xC(C,b,x,w);return A})}return{reducerPath:v,getSelectors:z,get selectors(){return z(L)},selectSlice:L}}const T={name:a,reducer:M,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...E(s),injectInto(v,{reducerPath:w,...L}={}){const z=w??s;return v.inject({reducerPath:z,reducer:M},L),{...T,...E(z,!0)}}};return T}}function xC(e,t,n,i){function r(a,...s){let o=t(a);return typeof o>"u"&&i&&(o=n()),e(o,...s)}return r.unwrapped=e,r}var NC=DC();function OC(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function IC({type:e,reducerName:t,createNotation:n},i,r){let a,s;if("reducer"in i){if(n&&!VC(i))throw new Error(Un(17));a=i.reducer,s=i.prepare}else a=i;r.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Rs(e,s):Rs(e))}function MC(e){return e._reducerDefinitionType==="asyncThunk"}function VC(e){return e._reducerDefinitionType==="reducerWithPrepare"}function UC({type:e,reducerName:t},n,i,r){if(!r)throw new Error(Un(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:u,settled:c,options:f}=n,m=r(e,a,f);i.exposeAction(t,m),s&&i.addCase(m.fulfilled,s),o&&i.addCase(m.pending,o),u&&i.addCase(m.rejected,u),c&&i.addMatcher(m.settled,c),i.exposeCaseReducer(t,{fulfilled:s||ao,pending:o||ao,rejected:u||ao,settled:c||ao})}function ao(){}function Un(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const LC=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},kC=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=e[n++],s=e[n++],o=e[n++],u=((r&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const a=e[n++],s=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63)}}return t.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const a=e[r],s=r+1<e.length,o=s?e[r+1]:0,u=r+2<e.length,c=u?e[r+2]:0,f=a>>2,m=(a&3)<<4|o>>4;let p=(o&15)<<2|c>>6,g=c&63;u||(g=64,s||(p=64)),i.push(n[f],n[m],n[p],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_T(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):kC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const a=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const c=r<e.length?n[e.charAt(r)]:64;++r;const m=r<e.length?n[e.charAt(r)]:64;if(++r,a==null||o==null||c==null||m==null)throw new PC;const p=a<<2|o>>4;if(i.push(p),c!==64){const g=o<<4&240|c>>2;if(i.push(g),m!==64){const D=c<<6&192|m;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class PC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zC=function(e){const t=_T(e);return vT.encodeByteArray(t,!0)},yu=function(e){return zC(e).replace(/\./g,"")},BC=function(e){try{return vT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=()=>jC().__FIREBASE_DEFAULTS__,qC=()=>{if(typeof process>"u"||typeof My>"u")return;const e=My.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},GC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&BC(e[1]);return t&&JSON.parse(t)},ym=()=>{try{return LC()||HC()||qC()||GC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},FC=e=>{var t,n;return(n=(t=ym())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},ET=e=>{const t=FC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},TT=()=>{var e;return(e=ym())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[yu(JSON.stringify(n)),yu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YC(){var e;const t=(e=ym())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $C(){return!YC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XC(){try{return typeof indexedDB=="object"}catch{return!1}}function ZC(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="FirebaseError";class gr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=JC,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,AT.prototype.create)}}class AT{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,a=this.errors[t],s=a?WC(a,i):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new gr(r,o,i)}}function WC(e,t){return e.replace(tD,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const tD=/\{\$([^}]+)}/g;function _u(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const a=e[r],s=t[r];if(Vy(a)&&Vy(s)){if(!_u(a,s))return!1}else if(a!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Vy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(e){return e&&e._delegate?e._delegate:e}class da{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new QC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iD(t))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=Gi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gi){return this.instances.has(t)}getOptions(t=Gi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);i===o&&s.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&t(s,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nD(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Gi){return this.component?this.component.multipleInstances?t:Gi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nD(e){return e===Gi?void 0:e}function iD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new eD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(it||(it={}));const aD={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},sD=it.INFO,lD={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},oD=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=lD[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ST{constructor(t){this.name=t,this._logLevel=sD,this._logHandler=oD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}const uD=(e,t)=>t.some(n=>e instanceof n);let Uy,Ly;function cD(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hD(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RT=new WeakMap,kf=new WeakMap,wT=new WeakMap,Ah=new WeakMap,_m=new WeakMap;function fD(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(vi(e.result)),r()},s=()=>{i(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&RT.set(n,e)}).catch(()=>{}),_m.set(t,e),t}function dD(e){if(kf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),r()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});kf.set(e,t)}let Pf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return kf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mD(e){Pf=e(Pf)}function pD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Sh(this),t,...n);return wT.set(i,t.sort?t.sort():[t]),vi(i)}:hD().includes(e)?function(...t){return e.apply(Sh(this),t),vi(RT.get(this))}:function(...t){return vi(e.apply(Sh(this),t))}}function gD(e){return typeof e=="function"?pD(e):(e instanceof IDBTransaction&&dD(e),uD(e,cD())?new Proxy(e,Pf):e)}function vi(e){if(e instanceof IDBRequest)return fD(e);if(Ah.has(e))return Ah.get(e);const t=gD(e);return t!==e&&(Ah.set(e,t),_m.set(t,e)),t}const Sh=e=>_m.get(e);function yD(e,t,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const s=indexedDB.open(e,t),o=vi(s);return i&&s.addEventListener("upgradeneeded",u=>{i(vi(s.result),u.oldVersion,u.newVersion,vi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{a&&u.addEventListener("close",()=>a()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const _D=["get","getKey","getAll","getAllKeys","count"],vD=["put","add","delete","clear"],Rh=new Map;function ky(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Rh.get(t))return Rh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=vD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_D.includes(n)))return;const a=async function(s,...o){const u=this.transaction(s,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),r&&u.done]))[0]};return Rh.set(t,a),a}mD(e=>({...e,get:(t,n,i)=>ky(t,n)||e.get(t,n,i),has:(t,n)=>!!ky(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function TD(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zf="@firebase/app",Py="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new ST("@firebase/app"),bD="@firebase/app-compat",AD="@firebase/analytics-compat",SD="@firebase/analytics",RD="@firebase/app-check-compat",wD="@firebase/app-check",CD="@firebase/auth",DD="@firebase/auth-compat",xD="@firebase/database",ND="@firebase/data-connect",OD="@firebase/database-compat",ID="@firebase/functions",MD="@firebase/functions-compat",VD="@firebase/installations",UD="@firebase/installations-compat",LD="@firebase/messaging",kD="@firebase/messaging-compat",PD="@firebase/performance",zD="@firebase/performance-compat",BD="@firebase/remote-config",jD="@firebase/remote-config-compat",HD="@firebase/storage",qD="@firebase/storage-compat",GD="@firebase/firestore",FD="@firebase/vertexai",QD="@firebase/firestore-compat",KD="firebase",YD="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",$D={[zf]:"fire-core",[bD]:"fire-core-compat",[SD]:"fire-analytics",[AD]:"fire-analytics-compat",[wD]:"fire-app-check",[RD]:"fire-app-check-compat",[CD]:"fire-auth",[DD]:"fire-auth-compat",[xD]:"fire-rtdb",[ND]:"fire-data-connect",[OD]:"fire-rtdb-compat",[ID]:"fire-fn",[MD]:"fire-fn-compat",[VD]:"fire-iid",[UD]:"fire-iid-compat",[LD]:"fire-fcm",[kD]:"fire-fcm-compat",[PD]:"fire-perf",[zD]:"fire-perf-compat",[BD]:"fire-rc",[jD]:"fire-rc-compat",[HD]:"fire-gcs",[qD]:"fire-gcs-compat",[GD]:"fire-fst",[QD]:"fire-fst-compat",[FD]:"fire-vertex","fire-js":"fire-js",[KD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Map,XD=new Map,jf=new Map;function zy(e,t){try{e.container.addComponent(t)}catch(n){qn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ks(e){const t=e.name;if(jf.has(t))return qn.debug(`There were multiple attempts to register component ${t}.`),!1;jf.set(t,e);for(const n of vu.values())zy(n,e);for(const n of XD.values())zy(n,e);return!0}function CT(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function DT(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new AT("app","Firebase",ZD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=YD;function NT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Ei.create("bad-app-name",{appName:String(r)});if(n||(n=TT()),!n)throw Ei.create("no-options");const a=vu.get(r);if(a){if(_u(n,a.options)&&_u(i,a.config))return a;throw Ei.create("duplicate-app",{appName:r})}const s=new rD(r);for(const u of jf.values())s.addComponent(u);const o=new JD(n,i,s);return vu.set(r,o),o}function OT(e=Bf){const t=vu.get(e);if(!t&&e===Bf&&TT())return NT();if(!t)throw Ei.create("no-app",{appName:e});return t}function Ti(e,t,n){var i;let r=(i=$D[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const o=[`Unable to register library "${r}" with version "${t}":`];a&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qn.warn(o.join(" "));return}Ks(new da(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="firebase-heartbeat-database",tx=1,Ys="firebase-heartbeat-store";let wh=null;function IT(){return wh||(wh=yD(WD,tx,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ys)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ei.create("idb-open",{originalErrorMessage:e.message})})),wh}async function ex(e){try{const n=(await IT()).transaction(Ys),i=await n.objectStore(Ys).get(MT(e));return await n.done,i}catch(t){if(t instanceof gr)qn.warn(t.message);else{const n=Ei.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qn.warn(n.message)}}}async function By(e,t){try{const i=(await IT()).transaction(Ys,"readwrite");await i.objectStore(Ys).put(t,MT(e)),await i.done}catch(n){if(n instanceof gr)qn.warn(n.message);else{const i=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qn.warn(i.message)}}}function MT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=1024,ix=30;class rx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=jy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>ix){const s=lx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){qn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jy(),{heartbeatsToSend:i,unsentEntries:r}=ax(this._heartbeatsCache.heartbeats),a=yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return qn.warn(n),""}}}function jy(){return new Date().toISOString().substring(0,10)}function ax(e,t=nx){const n=[];let i=e.slice();for(const r of e){const a=n.find(s=>s.agent===r.agent);if(a){if(a.dates.push(r.date),Hy(n)>t){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Hy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XC()?ZC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ex(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Hy(e){return yu(JSON.stringify({version:2,heartbeats:e})).length}function lx(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(e){Ks(new da("platform-logger",t=>new ED(t),"PRIVATE")),Ks(new da("heartbeat",t=>new rx(t),"PRIVATE")),Ti(zf,Py,e),Ti(zf,Py,"esm2017"),Ti("fire-js","")}ox("");var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,VT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,_){function A(){}A.prototype=_.prototype,b.D=_.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(S,C,N){for(var R=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)R[Xe-2]=arguments[Xe];return _.prototype[C].apply(S,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(b,_,A){A||(A=0);var S=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)S[C]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(C=0;16>C;++C)S[C]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=b.g[0],A=b.g[1],C=b.g[2];var N=b.g[3],R=_+(N^A&(C^N))+S[0]+3614090360&4294967295;_=A+(R<<7&4294967295|R>>>25),R=N+(C^_&(A^C))+S[1]+3905402710&4294967295,N=_+(R<<12&4294967295|R>>>20),R=C+(A^N&(_^A))+S[2]+606105819&4294967295,C=N+(R<<17&4294967295|R>>>15),R=A+(_^C&(N^_))+S[3]+3250441966&4294967295,A=C+(R<<22&4294967295|R>>>10),R=_+(N^A&(C^N))+S[4]+4118548399&4294967295,_=A+(R<<7&4294967295|R>>>25),R=N+(C^_&(A^C))+S[5]+1200080426&4294967295,N=_+(R<<12&4294967295|R>>>20),R=C+(A^N&(_^A))+S[6]+2821735955&4294967295,C=N+(R<<17&4294967295|R>>>15),R=A+(_^C&(N^_))+S[7]+4249261313&4294967295,A=C+(R<<22&4294967295|R>>>10),R=_+(N^A&(C^N))+S[8]+1770035416&4294967295,_=A+(R<<7&4294967295|R>>>25),R=N+(C^_&(A^C))+S[9]+2336552879&4294967295,N=_+(R<<12&4294967295|R>>>20),R=C+(A^N&(_^A))+S[10]+4294925233&4294967295,C=N+(R<<17&4294967295|R>>>15),R=A+(_^C&(N^_))+S[11]+2304563134&4294967295,A=C+(R<<22&4294967295|R>>>10),R=_+(N^A&(C^N))+S[12]+1804603682&4294967295,_=A+(R<<7&4294967295|R>>>25),R=N+(C^_&(A^C))+S[13]+4254626195&4294967295,N=_+(R<<12&4294967295|R>>>20),R=C+(A^N&(_^A))+S[14]+2792965006&4294967295,C=N+(R<<17&4294967295|R>>>15),R=A+(_^C&(N^_))+S[15]+1236535329&4294967295,A=C+(R<<22&4294967295|R>>>10),R=_+(C^N&(A^C))+S[1]+4129170786&4294967295,_=A+(R<<5&4294967295|R>>>27),R=N+(A^C&(_^A))+S[6]+3225465664&4294967295,N=_+(R<<9&4294967295|R>>>23),R=C+(_^A&(N^_))+S[11]+643717713&4294967295,C=N+(R<<14&4294967295|R>>>18),R=A+(N^_&(C^N))+S[0]+3921069994&4294967295,A=C+(R<<20&4294967295|R>>>12),R=_+(C^N&(A^C))+S[5]+3593408605&4294967295,_=A+(R<<5&4294967295|R>>>27),R=N+(A^C&(_^A))+S[10]+38016083&4294967295,N=_+(R<<9&4294967295|R>>>23),R=C+(_^A&(N^_))+S[15]+3634488961&4294967295,C=N+(R<<14&4294967295|R>>>18),R=A+(N^_&(C^N))+S[4]+3889429448&4294967295,A=C+(R<<20&4294967295|R>>>12),R=_+(C^N&(A^C))+S[9]+568446438&4294967295,_=A+(R<<5&4294967295|R>>>27),R=N+(A^C&(_^A))+S[14]+3275163606&4294967295,N=_+(R<<9&4294967295|R>>>23),R=C+(_^A&(N^_))+S[3]+4107603335&4294967295,C=N+(R<<14&4294967295|R>>>18),R=A+(N^_&(C^N))+S[8]+1163531501&4294967295,A=C+(R<<20&4294967295|R>>>12),R=_+(C^N&(A^C))+S[13]+2850285829&4294967295,_=A+(R<<5&4294967295|R>>>27),R=N+(A^C&(_^A))+S[2]+4243563512&4294967295,N=_+(R<<9&4294967295|R>>>23),R=C+(_^A&(N^_))+S[7]+1735328473&4294967295,C=N+(R<<14&4294967295|R>>>18),R=A+(N^_&(C^N))+S[12]+2368359562&4294967295,A=C+(R<<20&4294967295|R>>>12),R=_+(A^C^N)+S[5]+4294588738&4294967295,_=A+(R<<4&4294967295|R>>>28),R=N+(_^A^C)+S[8]+2272392833&4294967295,N=_+(R<<11&4294967295|R>>>21),R=C+(N^_^A)+S[11]+1839030562&4294967295,C=N+(R<<16&4294967295|R>>>16),R=A+(C^N^_)+S[14]+4259657740&4294967295,A=C+(R<<23&4294967295|R>>>9),R=_+(A^C^N)+S[1]+2763975236&4294967295,_=A+(R<<4&4294967295|R>>>28),R=N+(_^A^C)+S[4]+1272893353&4294967295,N=_+(R<<11&4294967295|R>>>21),R=C+(N^_^A)+S[7]+4139469664&4294967295,C=N+(R<<16&4294967295|R>>>16),R=A+(C^N^_)+S[10]+3200236656&4294967295,A=C+(R<<23&4294967295|R>>>9),R=_+(A^C^N)+S[13]+681279174&4294967295,_=A+(R<<4&4294967295|R>>>28),R=N+(_^A^C)+S[0]+3936430074&4294967295,N=_+(R<<11&4294967295|R>>>21),R=C+(N^_^A)+S[3]+3572445317&4294967295,C=N+(R<<16&4294967295|R>>>16),R=A+(C^N^_)+S[6]+76029189&4294967295,A=C+(R<<23&4294967295|R>>>9),R=_+(A^C^N)+S[9]+3654602809&4294967295,_=A+(R<<4&4294967295|R>>>28),R=N+(_^A^C)+S[12]+3873151461&4294967295,N=_+(R<<11&4294967295|R>>>21),R=C+(N^_^A)+S[15]+530742520&4294967295,C=N+(R<<16&4294967295|R>>>16),R=A+(C^N^_)+S[2]+3299628645&4294967295,A=C+(R<<23&4294967295|R>>>9),R=_+(C^(A|~N))+S[0]+4096336452&4294967295,_=A+(R<<6&4294967295|R>>>26),R=N+(A^(_|~C))+S[7]+1126891415&4294967295,N=_+(R<<10&4294967295|R>>>22),R=C+(_^(N|~A))+S[14]+2878612391&4294967295,C=N+(R<<15&4294967295|R>>>17),R=A+(N^(C|~_))+S[5]+4237533241&4294967295,A=C+(R<<21&4294967295|R>>>11),R=_+(C^(A|~N))+S[12]+1700485571&4294967295,_=A+(R<<6&4294967295|R>>>26),R=N+(A^(_|~C))+S[3]+2399980690&4294967295,N=_+(R<<10&4294967295|R>>>22),R=C+(_^(N|~A))+S[10]+4293915773&4294967295,C=N+(R<<15&4294967295|R>>>17),R=A+(N^(C|~_))+S[1]+2240044497&4294967295,A=C+(R<<21&4294967295|R>>>11),R=_+(C^(A|~N))+S[8]+1873313359&4294967295,_=A+(R<<6&4294967295|R>>>26),R=N+(A^(_|~C))+S[15]+4264355552&4294967295,N=_+(R<<10&4294967295|R>>>22),R=C+(_^(N|~A))+S[6]+2734768916&4294967295,C=N+(R<<15&4294967295|R>>>17),R=A+(N^(C|~_))+S[13]+1309151649&4294967295,A=C+(R<<21&4294967295|R>>>11),R=_+(C^(A|~N))+S[4]+4149444226&4294967295,_=A+(R<<6&4294967295|R>>>26),R=N+(A^(_|~C))+S[11]+3174756917&4294967295,N=_+(R<<10&4294967295|R>>>22),R=C+(_^(N|~A))+S[2]+718787259&4294967295,C=N+(R<<15&4294967295|R>>>17),R=A+(N^(C|~_))+S[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+N&4294967295}i.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var A=_-this.blockSize,S=this.B,C=this.h,N=0;N<_;){if(C==0)for(;N<=A;)r(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<_;)if(S[C++]=b.charCodeAt(N++),C==this.blockSize){r(this,S),C=0;break}}else for(;N<_;)if(S[C++]=b[N++],C==this.blockSize){r(this,S),C=0;break}}this.h=C,this.o+=_},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var A=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=A&255,A/=256;for(this.u(b),b=Array(16),_=A=0;4>_;++_)for(var S=0;32>S;S+=8)b[A++]=this.g[_]>>>S&255;return b};function a(b,_){var A=o;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=_(b)}function s(b,_){this.h=_;for(var A=[],S=!0,C=b.length-1;0<=C;C--){var N=b[C]|0;S&&N==_||(A[C]=N,S=!1)}this.g=A}var o={};function u(b){return-128<=b&&128>b?a(b,function(_){return new s([_|0],0>_?-1:0)}):new s([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return m;if(0>b)return x(c(-b));for(var _=[],A=1,S=0;b>=A;S++)_[S]=b/A|0,A*=4294967296;return new s(_,0)}function f(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return x(f(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(_,8)),S=m,C=0;C<b.length;C+=8){var N=Math.min(8,b.length-C),R=parseInt(b.substring(C,C+N),_);8>N?(N=c(Math.pow(_,N)),S=S.j(N).add(c(R))):(S=S.j(A),S=S.add(c(R)))}return S}var m=u(0),p=u(1),g=u(16777216);e=s.prototype,e.m=function(){if(M(this))return-x(this).m();for(var b=0,_=1,A=0;A<this.g.length;A++){var S=this.i(A);b+=(0<=S?S:4294967296+S)*_,_*=4294967296}return b},e.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D(this))return"0";if(M(this))return"-"+x(this).toString(b);for(var _=c(Math.pow(b,6)),A=this,S="";;){var C=w(A,_).g;A=E(A,C.j(_));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=C,D(A))return N+S;for(;6>N.length;)N="0"+N;S=N+S}},e.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function D(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function M(b){return b.h==-1}e.l=function(b){return b=E(this,b),M(b)?-1:D(b)?0:1};function x(b){for(var _=b.g.length,A=[],S=0;S<_;S++)A[S]=~b.g[S];return new s(A,~b.h).add(p)}e.abs=function(){return M(this)?x(this):this},e.add=function(b){for(var _=Math.max(this.g.length,b.g.length),A=[],S=0,C=0;C<=_;C++){var N=S+(this.i(C)&65535)+(b.i(C)&65535),R=(N>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);S=R>>>16,N&=65535,R&=65535,A[C]=R<<16|N}return new s(A,A[A.length-1]&-2147483648?-1:0)};function E(b,_){return b.add(x(_))}e.j=function(b){if(D(this)||D(b))return m;if(M(this))return M(b)?x(this).j(x(b)):x(x(this).j(b));if(M(b))return x(this.j(x(b)));if(0>this.l(g)&&0>b.l(g))return c(this.m()*b.m());for(var _=this.g.length+b.g.length,A=[],S=0;S<2*_;S++)A[S]=0;for(S=0;S<this.g.length;S++)for(var C=0;C<b.g.length;C++){var N=this.i(S)>>>16,R=this.i(S)&65535,Xe=b.i(C)>>>16,vn=b.i(C)&65535;A[2*S+2*C]+=R*vn,T(A,2*S+2*C),A[2*S+2*C+1]+=N*vn,T(A,2*S+2*C+1),A[2*S+2*C+1]+=R*Xe,T(A,2*S+2*C+1),A[2*S+2*C+2]+=N*Xe,T(A,2*S+2*C+2)}for(S=0;S<_;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=_;S<2*_;S++)A[S]=0;return new s(A,0)};function T(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function v(b,_){this.g=b,this.h=_}function w(b,_){if(D(_))throw Error("division by zero");if(D(b))return new v(m,m);if(M(b))return _=w(x(b),_),new v(x(_.g),x(_.h));if(M(_))return _=w(b,x(_)),new v(x(_.g),_.h);if(30<b.g.length){if(M(b)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var A=p,S=_;0>=S.l(b);)A=L(A),S=L(S);var C=z(A,1),N=z(S,1);for(S=z(S,2),A=z(A,2);!D(S);){var R=N.add(S);0>=R.l(b)&&(C=C.add(A),N=R),S=z(S,1),A=z(A,1)}return _=E(b,C.j(_)),new v(C,_)}for(C=m;0<=b.l(_);){for(A=Math.max(1,Math.floor(b.m()/_.m())),S=Math.ceil(Math.log(A)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),N=c(A),R=N.j(_);M(R)||0<R.l(b);)A-=S,N=c(A),R=N.j(_);D(N)&&(N=p),C=C.add(N),b=E(b,R)}return new v(C,b)}e.A=function(b){return w(this,b).h},e.and=function(b){for(var _=Math.max(this.g.length,b.g.length),A=[],S=0;S<_;S++)A[S]=this.i(S)&b.i(S);return new s(A,this.h&b.h)},e.or=function(b){for(var _=Math.max(this.g.length,b.g.length),A=[],S=0;S<_;S++)A[S]=this.i(S)|b.i(S);return new s(A,this.h|b.h)},e.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),A=[],S=0;S<_;S++)A[S]=this.i(S)^b.i(S);return new s(A,this.h^b.h)};function L(b){for(var _=b.g.length+1,A=[],S=0;S<_;S++)A[S]=b.i(S)<<1|b.i(S-1)>>>31;return new s(A,b.h)}function z(b,_){var A=_>>5;_%=32;for(var S=b.g.length-A,C=[],N=0;N<S;N++)C[N]=0<_?b.i(N+A)>>>_|b.i(N+A+1)<<32-_:b.i(N+A);return new s(C,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,VT=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,bi=s}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});var so=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UT,ls,LT,No,Hf,kT,PT,zT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,d){return l==Array.prototype||l==Object.prototype||(l[h]=d.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof so=="object"&&so];for(var h=0;h<l.length;++h){var d=l[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(l,h){if(h)t:{var d=i;l=l.split(".");for(var y=0;y<l.length-1;y++){var O=l[y];if(!(O in d))break t;d=d[O]}l=l[l.length-1],y=d[l],h=h(y),h!=y&&h!=null&&t(d,l,{configurable:!0,writable:!0,value:h})}}function a(l,h){l instanceof String&&(l+="");var d=0,y=!1,O={next:function(){if(!y&&d<l.length){var U=d++;return{value:h(U,l[U]),done:!1}}return y=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(l){return l||function(){return a(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,d){return l.call.apply(l.bind,arguments)}function m(l,h,d){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,y),l.apply(h,O)}}return function(){return l.apply(h,arguments)}}function p(l,h,d){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,p.apply(null,arguments)}function g(l,h){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function D(l,h){function d(){}d.prototype=h.prototype,l.aa=h.prototype,l.prototype=new d,l.prototype.constructor=l,l.Qb=function(y,O,U){for(var B=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)B[mt-2]=arguments[mt];return h.prototype[O].apply(y,B)}}function M(l){const h=l.length;if(0<h){const d=Array(h);for(let y=0;y<h;y++)d[y]=l[y];return d}return[]}function x(l,h){for(let d=1;d<arguments.length;d++){const y=arguments[d];if(u(y)){const O=l.length||0,U=y.length||0;l.length=O+U;for(let B=0;B<U;B++)l[O+B]=y[B]}else l.push(y)}}class E{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function T(l){return/^[\s\xa0]*$/.test(l)}function v(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function w(l){return w[" "](l),l}w[" "]=function(){};var L=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function z(l,h,d){for(const y in l)h.call(d,l[y],y,l)}function b(l,h){for(const d in l)h.call(void 0,l[d],d,l)}function _(l){const h={};for(const d in l)h[d]=l[d];return h}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,h){let d,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(d in y)l[d]=y[d];for(let U=0;U<A.length;U++)d=A[U],Object.prototype.hasOwnProperty.call(y,d)&&(l[d]=y[d])}}function C(l){var h=1;l=l.split(":");const d=[];for(;0<h&&l.length;)d.push(l.shift()),h--;return l.length&&d.push(l.join(":")),d}function N(l){o.setTimeout(()=>{throw l},0)}function R(){var l=yt;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Xe{constructor(){this.h=this.g=null}add(h,d){const y=vn.get();y.set(h,d),this.h?this.h.next=y:this.g=y,this.h=y}}var vn=new E(()=>new H,l=>l.reset());class H{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,yt=new Xe,Nt=()=>{const l=o.Promise.resolve(void 0);$=()=>{l.then(_r)}};var _r=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(d){N(d)}var h=vn;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}K=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ut(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var En=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const d=()=>{};o.addEventListener("test",d,h),o.removeEventListener("test",d,h)}catch{}return l}();function rn(l,h){if(Ut.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var d=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(L){t:{try{w(h.nodeName);var O=!0;break t}catch{}O=!1}O||(h=null)}}else d=="mouseover"?h=l.fromElement:d=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:rA[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&rn.aa.h.call(this)}}D(rn,Ut);var rA={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Sl="closure_listenable_"+(1e6*Math.random()|0),aA=0;function sA(l,h,d,y,O){this.listener=l,this.proxy=null,this.src=h,this.type=d,this.capture=!!y,this.ha=O,this.key=++aA,this.da=this.fa=!1}function Rl(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function wl(l){this.src=l,this.g={},this.h=0}wl.prototype.add=function(l,h,d,y,O){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var B=hc(l,h,y,O);return-1<B?(h=l[B],d||(h.fa=!1)):(h=new sA(h,this.src,U,!!y,O),h.fa=d,l.push(h)),h};function cc(l,h){var d=h.type;if(d in l.g){var y=l.g[d],O=Array.prototype.indexOf.call(y,h,void 0),U;(U=0<=O)&&Array.prototype.splice.call(y,O,1),U&&(Rl(h),l.g[d].length==0&&(delete l.g[d],l.h--))}}function hc(l,h,d,y){for(var O=0;O<l.length;++O){var U=l[O];if(!U.da&&U.listener==h&&U.capture==!!d&&U.ha==y)return O}return-1}var fc="closure_lm_"+(1e6*Math.random()|0),dc={};function qm(l,h,d,y,O){if(Array.isArray(h)){for(var U=0;U<h.length;U++)qm(l,h[U],d,y,O);return null}return d=Qm(d),l&&l[Sl]?l.K(h,d,c(y)?!!y.capture:!1,O):lA(l,h,d,!1,y,O)}function lA(l,h,d,y,O,U){if(!h)throw Error("Invalid event type");var B=c(O)?!!O.capture:!!O,mt=pc(l);if(mt||(l[fc]=mt=new wl(l)),d=mt.add(h,d,y,B,U),d.proxy)return d;if(y=oA(),d.proxy=y,y.src=l,y.listener=d,l.addEventListener)En||(O=B),O===void 0&&(O=!1),l.addEventListener(h.toString(),y,O);else if(l.attachEvent)l.attachEvent(Fm(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function oA(){function l(d){return h.call(l.src,l.listener,d)}const h=uA;return l}function Gm(l,h,d,y,O){if(Array.isArray(h))for(var U=0;U<h.length;U++)Gm(l,h[U],d,y,O);else y=c(y)?!!y.capture:!!y,d=Qm(d),l&&l[Sl]?(l=l.i,h=String(h).toString(),h in l.g&&(U=l.g[h],d=hc(U,d,y,O),-1<d&&(Rl(U[d]),Array.prototype.splice.call(U,d,1),U.length==0&&(delete l.g[h],l.h--)))):l&&(l=pc(l))&&(h=l.g[h.toString()],l=-1,h&&(l=hc(h,d,y,O)),(d=-1<l?h[l]:null)&&mc(d))}function mc(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Sl])cc(h.i,l);else{var d=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(d,y,l.capture):h.detachEvent?h.detachEvent(Fm(d),y):h.addListener&&h.removeListener&&h.removeListener(y),(d=pc(h))?(cc(d,l),d.h==0&&(d.src=null,h[fc]=null)):Rl(l)}}}function Fm(l){return l in dc?dc[l]:dc[l]="on"+l}function uA(l,h){if(l.da)l=!0;else{h=new rn(h,this);var d=l.listener,y=l.ha||l.src;l.fa&&mc(l),l=d.call(y,h)}return l}function pc(l){return l=l[fc],l instanceof wl?l:null}var gc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qm(l){return typeof l=="function"?l:(l[gc]||(l[gc]=function(h){return l.handleEvent(h)}),l[gc])}function re(){Ce.call(this),this.i=new wl(this),this.M=this,this.F=null}D(re,Ce),re.prototype[Sl]=!0,re.prototype.removeEventListener=function(l,h,d,y){Gm(this,l,h,d,y)};function fe(l,h){var d,y=l.F;if(y)for(d=[];y;y=y.F)d.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new Ut(h,l);else if(h instanceof Ut)h.target=h.target||l;else{var O=h;h=new Ut(y,l),S(h,O)}if(O=!0,d)for(var U=d.length-1;0<=U;U--){var B=h.g=d[U];O=Cl(B,y,!0,h)&&O}if(B=h.g=l,O=Cl(B,y,!0,h)&&O,O=Cl(B,y,!1,h)&&O,d)for(U=0;U<d.length;U++)B=h.g=d[U],O=Cl(B,y,!1,h)&&O}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var d=l.g[h],y=0;y<d.length;y++)Rl(d[y]);delete l.g[h],l.h--}}this.F=null},re.prototype.K=function(l,h,d,y){return this.i.add(String(l),h,!1,d,y)},re.prototype.L=function(l,h,d,y){return this.i.add(String(l),h,!0,d,y)};function Cl(l,h,d,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,U=0;U<h.length;++U){var B=h[U];if(B&&!B.da&&B.capture==d){var mt=B.listener,Zt=B.ha||B.src;B.fa&&cc(l.i,B),O=mt.call(Zt,y)!==!1&&O}}return O&&!y.defaultPrevented}function Km(l,h,d){if(typeof l=="function")d&&(l=p(l,d));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:o.setTimeout(l,h||0)}function Ym(l){l.g=Km(()=>{l.g=null,l.i&&(l.i=!1,Ym(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class cA extends Ce{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ym(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(l){Ce.call(this),this.h=l,this.g={}}D(Ia,Ce);var $m=[];function Xm(l){z(l.g,function(h,d){this.g.hasOwnProperty(d)&&mc(h)},l),l.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),Xm(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yc=o.JSON.stringify,hA=o.JSON.parse,fA=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function _c(){}_c.prototype.h=null;function Zm(l){return l.h||(l.h=l.i())}function Jm(){}var Ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vc(){Ut.call(this,"d")}D(vc,Ut);function Ec(){Ut.call(this,"c")}D(Ec,Ut);var Ui={},Wm=null;function Dl(){return Wm=Wm||new re}Ui.La="serverreachability";function tp(l){Ut.call(this,Ui.La,l)}D(tp,Ut);function Va(l){const h=Dl();fe(h,new tp(h))}Ui.STAT_EVENT="statevent";function ep(l,h){Ut.call(this,Ui.STAT_EVENT,l),this.stat=h}D(ep,Ut);function de(l){const h=Dl();fe(h,new ep(h,l))}Ui.Ma="timingevent";function np(l,h){Ut.call(this,Ui.Ma,l),this.size=h}D(np,Ut);function Ua(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function La(){this.g=!0}La.prototype.xa=function(){this.g=!1};function dA(l,h,d,y,O,U){l.info(function(){if(l.g)if(U)for(var B="",mt=U.split("&"),Zt=0;Zt<mt.length;Zt++){var lt=mt[Zt].split("=");if(1<lt.length){var ae=lt[0];lt=lt[1];var se=ae.split("_");B=2<=se.length&&se[1]=="type"?B+(ae+"="+lt+"&"):B+(ae+"=redacted&")}}else B=null;else B=U;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+h+`
`+d+`
`+B})}function mA(l,h,d,y,O,U,B){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+h+`
`+d+`
`+U+" "+B})}function vr(l,h,d,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+gA(l,d)+(y?" "+y:"")})}function pA(l,h){l.info(function(){return"TIMEOUT: "+h})}La.prototype.info=function(){};function gA(l,h){if(!l.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(l=0;l<d.length;l++)if(Array.isArray(d[l])){var y=d[l];if(!(2>y.length)){var O=y[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var B=1;B<O.length;B++)O[B]=""}}}}return yc(d)}catch{return h}}var xl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ip={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tc;function Nl(){}D(Nl,_c),Nl.prototype.g=function(){return new XMLHttpRequest},Nl.prototype.i=function(){return{}},Tc=new Nl;function Kn(l,h,d,y){this.j=l,this.i=h,this.l=d,this.R=y||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rp}function rp(){this.i=null,this.g="",this.h=!1}var ap={},bc={};function Ac(l,h,d){l.L=1,l.v=Vl(Tn(h)),l.m=d,l.P=!0,sp(l,null)}function sp(l,h){l.F=Date.now(),Ol(l),l.A=Tn(l.v);var d=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),Ep(d.i,"t",y),l.C=0,d=l.j.J,l.h=new rp,l.g=Pp(l.j,d?h:null,!l.m),0<l.O&&(l.M=new cA(p(l.Y,l,l.g),l.O)),h=l.U,d=l.g,y=l.ca;var O="readystatechange";Array.isArray(O)||(O&&($m[0]=O.toString()),O=$m);for(var U=0;U<O.length;U++){var B=qm(d,O[U],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Va(),dA(l.i,l.u,l.A,l.l,l.R,l.m)}Kn.prototype.ca=function(l){l=l.target;const h=this.M;h&&bn(l)==3?h.j():this.Y(l)},Kn.prototype.Y=function(l){try{if(l==this.g)t:{const se=bn(this.g);var h=this.g.Ba();const br=this.g.Z();if(!(3>se)&&(se!=3||this.g&&(this.h.h||this.g.oa()||Cp(this.g)))){this.J||se!=4||h==7||(h==8||0>=br?Va(3):Va(2)),Sc(this);var d=this.g.Z();this.X=d;e:if(lp(this)){var y=Cp(this.g);l="";var O=y.length,U=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Li(this),ka(this);var B="";break e}this.h.i=new o.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(U&&h==O-1)});y.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=d==200,mA(this.i,this.u,this.A,this.l,this.R,se,d),this.o){if(this.T&&!this.K){e:{if(this.g){var mt,Zt=this.g;if((mt=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(mt)){var lt=mt;break e}}lt=null}if(d=lt)vr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rc(this,d);else{this.o=!1,this.s=3,de(12),Li(this),ka(this);break t}}if(this.P){d=!0;let Ze;for(;!this.J&&this.C<B.length;)if(Ze=yA(this,B),Ze==bc){se==4&&(this.s=4,de(14),d=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==ap){this.s=4,de(15),vr(this.i,this.l,B,"[Invalid Chunk]"),d=!1;break}else vr(this.i,this.l,Ze,null),Rc(this,Ze);if(lp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||B.length!=0||this.h.h||(this.s=1,de(16),d=!1),this.o=this.o&&d,!d)vr(this.i,this.l,B,"[Invalid Chunked Response]"),Li(this),ka(this);else if(0<B.length&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.ba&&!ae.M&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Oc(ae),ae.M=!0,de(11))}}else vr(this.i,this.l,B,null),Rc(this,B);se==4&&Li(this),this.o&&!this.J&&(se==4?Vp(this.j,this):(this.o=!1,Ol(this)))}else VA(this.g),d==400&&0<B.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),Li(this),ka(this)}}}catch{}finally{}};function lp(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yA(l,h){var d=l.C,y=h.indexOf(`
`,d);return y==-1?bc:(d=Number(h.substring(d,y)),isNaN(d)?ap:(y+=1,y+d>h.length?bc:(h=h.slice(y,y+d),l.C=y+d,h)))}Kn.prototype.cancel=function(){this.J=!0,Li(this)};function Ol(l){l.S=Date.now()+l.I,op(l,l.I)}function op(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ua(p(l.ba,l),h)}function Sc(l){l.B&&(o.clearTimeout(l.B),l.B=null)}Kn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(pA(this.i,this.A),this.L!=2&&(Va(),de(17)),Li(this),this.s=2,ka(this)):op(this,this.S-l)};function ka(l){l.j.G==0||l.J||Vp(l.j,l)}function Li(l){Sc(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Xm(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Rc(l,h){try{var d=l.j;if(d.G!=0&&(d.g==l||wc(d.h,l))){if(!l.K&&wc(d.h,l)&&d.G==3){try{var y=d.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){t:if(!d.u){if(d.g)if(d.g.F+3e3<l.F)Bl(d),Pl(d);else break t;Nc(d),de(18)}}else d.za=O[1],0<d.za-d.T&&37500>O[2]&&d.F&&d.v==0&&!d.C&&(d.C=Ua(p(d.Za,d),6e3));if(1>=hp(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Pi(d,11)}else if((l.K||d.g==l)&&Bl(d),!T(h))for(O=d.Da.g.parse(h),h=0;h<O.length;h++){let lt=O[h];if(d.T=lt[0],lt=lt[1],d.G==2)if(lt[0]=="c"){d.K=lt[1],d.ia=lt[2];const ae=lt[3];ae!=null&&(d.la=ae,d.j.info("VER="+d.la));const se=lt[4];se!=null&&(d.Aa=se,d.j.info("SVER="+d.Aa));const br=lt[5];br!=null&&typeof br=="number"&&0<br&&(y=1.5*br,d.L=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const Ze=l.g;if(Ze){const Hl=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hl){var U=y.h;U.g||Hl.indexOf("spdy")==-1&&Hl.indexOf("quic")==-1&&Hl.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Cc(U,U.h),U.h=null))}if(y.D){const Ic=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Ic&&(y.ya=Ic,_t(y.I,y.D,Ic))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-l.F,d.j.info("Handshake RTT: "+d.R+"ms")),y=d;var B=l;if(y.qa=kp(y,y.J?y.ia:null,y.W),B.K){fp(y.h,B);var mt=B,Zt=y.L;Zt&&(mt.I=Zt),mt.B&&(Sc(mt),Ol(mt)),y.g=B}else Ip(y);0<d.i.length&&zl(d)}else lt[0]!="stop"&&lt[0]!="close"||Pi(d,7);else d.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Pi(d,7):xc(d):lt[0]!="noop"&&d.l&&d.l.ta(lt),d.v=0)}}Va(4)}catch{}}var _A=class{constructor(l,h){this.g=l,this.map=h}};function up(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function hp(l){return l.h?1:l.g?l.g.size:0}function wc(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Cc(l,h){l.g?l.g.add(h):l.h=h}function fp(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}up.prototype.cancel=function(){if(this.i=dp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function dp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const d of l.g.values())h=h.concat(d.D);return h}return M(l.i)}function vA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],d=l.length,y=0;y<d;y++)h.push(l[y]);return h}h=[],d=0;for(y in l)h[d++]=l[y];return h}function EA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var d=0;d<l;d++)h.push(d);return h}h=[],d=0;for(const y in l)h[d++]=y;return h}}}function mp(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var d=EA(l),y=vA(l),O=y.length,U=0;U<O;U++)h.call(void 0,y[U],d&&d[U],l)}var pp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TA(l,h){if(l){l=l.split("&");for(var d=0;d<l.length;d++){var y=l[d].indexOf("="),O=null;if(0<=y){var U=l[d].substring(0,y);O=l[d].substring(y+1)}else U=l[d];h(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function ki(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ki){this.h=l.h,Il(this,l.j),this.o=l.o,this.g=l.g,Ml(this,l.s),this.l=l.l;var h=l.i,d=new Ba;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),gp(this,d),this.m=l.m}else l&&(h=String(l).match(pp))?(this.h=!1,Il(this,h[1]||"",!0),this.o=Pa(h[2]||""),this.g=Pa(h[3]||"",!0),Ml(this,h[4]),this.l=Pa(h[5]||"",!0),gp(this,h[6]||"",!0),this.m=Pa(h[7]||"")):(this.h=!1,this.i=new Ba(null,this.h))}ki.prototype.toString=function(){var l=[],h=this.j;h&&l.push(za(h,yp,!0),":");var d=this.g;return(d||h=="file")&&(l.push("//"),(h=this.o)&&l.push(za(h,yp,!0),"@"),l.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&l.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&l.push("/"),l.push(za(d,d.charAt(0)=="/"?SA:AA,!0))),(d=this.i.toString())&&l.push("?",d),(d=this.m)&&l.push("#",za(d,wA)),l.join("")};function Tn(l){return new ki(l)}function Il(l,h,d){l.j=d?Pa(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ml(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function gp(l,h,d){h instanceof Ba?(l.i=h,CA(l.i,l.h)):(d||(h=za(h,RA)),l.i=new Ba(h,l.h))}function _t(l,h,d){l.i.set(h,d)}function Vl(l){return _t(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pa(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function za(l,h,d){return typeof l=="string"?(l=encodeURI(l).replace(h,bA),d&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function bA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var yp=/[#\/\?@]/g,AA=/[#\?:]/g,SA=/[#\?]/g,RA=/[#\?@]/g,wA=/#/g;function Ba(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Yn(l){l.g||(l.g=new Map,l.h=0,l.i&&TA(l.i,function(h,d){l.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}e=Ba.prototype,e.add=function(l,h){Yn(this),this.i=null,l=Er(this,l);var d=this.g.get(l);return d||this.g.set(l,d=[]),d.push(h),this.h+=1,this};function _p(l,h){Yn(l),h=Er(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function vp(l,h){return Yn(l),h=Er(l,h),l.g.has(h)}e.forEach=function(l,h){Yn(this),this.g.forEach(function(d,y){d.forEach(function(O){l.call(h,O,y,this)},this)},this)},e.na=function(){Yn(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let y=0;y<h.length;y++){const O=l[y];for(let U=0;U<O.length;U++)d.push(h[y])}return d},e.V=function(l){Yn(this);let h=[];if(typeof l=="string")vp(this,l)&&(h=h.concat(this.g.get(Er(this,l))));else{l=Array.from(this.g.values());for(let d=0;d<l.length;d++)h=h.concat(l[d])}return h},e.set=function(l,h){return Yn(this),this.i=null,l=Er(this,l),vp(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},e.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Ep(l,h,d){_p(l,h),0<d.length&&(l.i=null,l.g.set(Er(l,h),M(d)),l.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var y=h[d];const U=encodeURIComponent(String(y)),B=this.V(y);for(y=0;y<B.length;y++){var O=U;B[y]!==""&&(O+="="+encodeURIComponent(String(B[y]))),l.push(O)}}return this.i=l.join("&")};function Er(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function CA(l,h){h&&!l.j&&(Yn(l),l.i=null,l.g.forEach(function(d,y){var O=y.toLowerCase();y!=O&&(_p(this,y),Ep(this,O,d))},l)),l.j=h}function DA(l,h){const d=new La;if(o.Image){const y=new Image;y.onload=g($n,d,"TestLoadImage: loaded",!0,h,y),y.onerror=g($n,d,"TestLoadImage: error",!1,h,y),y.onabort=g($n,d,"TestLoadImage: abort",!1,h,y),y.ontimeout=g($n,d,"TestLoadImage: timeout",!1,h,y),o.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function xA(l,h){const d=new La,y=new AbortController,O=setTimeout(()=>{y.abort(),$n(d,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(U=>{clearTimeout(O),U.ok?$n(d,"TestPingServer: ok",!0,h):$n(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),$n(d,"TestPingServer: error",!1,h)})}function $n(l,h,d,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(d)}catch{}}function NA(){this.g=new fA}function OA(l,h,d){const y=d||"";try{mp(l,function(O,U){let B=O;c(O)&&(B=yc(O)),h.push(y+U+"="+encodeURIComponent(B))})}catch(O){throw h.push(y+"type="+encodeURIComponent("_badmap")),O}}function Ul(l){this.l=l.Ub||null,this.j=l.eb||!1}D(Ul,_c),Ul.prototype.g=function(){return new Ll(this.l,this.j)},Ul.prototype.i=function(l){return function(){return l}}({});function Ll(l,h){re.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ll,re),e=Ll.prototype,e.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Ha(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||o).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tp(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tp(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ja(this):Ha(this),this.readyState==3&&Tp(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,ja(this))},e.Qa=function(l){this.g&&(this.response=l,ja(this))},e.ga=function(){this.g&&ja(this)};function ja(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ha(l)}e.setRequestHeader=function(l,h){this.u.append(l,h)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,l.push(d[0]+": "+d[1]),d=h.next();return l.join(`\r
`)};function Ha(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function bp(l){let h="";return z(l,function(d,y){h+=y,h+=":",h+=d,h+=`\r
`}),h}function Dc(l,h,d){t:{for(y in d){var y=!1;break t}y=!0}y||(d=bp(d),typeof l=="string"?d!=null&&encodeURIComponent(String(d)):_t(l,h,d))}function wt(l){re.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(wt,re);var IA=/^https?$/i,MA=["POST","PUT"];e=wt.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,h,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tc.g(),this.v=this.o?Zm(this.o):Zm(Tc),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(U){Ap(this,U);return}if(l=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)d.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const U of y.keys())d.set(U,y.get(U));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(U=>U.toLowerCase()=="content-type"),O=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(MA,h,void 0))||y||O||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,B]of d)this.g.setRequestHeader(U,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wp(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){Ap(this,U)}};function Ap(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Sp(l),kl(l)}function Sp(l){l.A||(l.A=!0,fe(l,"complete"),fe(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,fe(this,"complete"),fe(this,"abort"),kl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kl(this,!0)),wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Rp(this):this.bb())},e.bb=function(){Rp(this)};function Rp(l){if(l.h&&typeof s<"u"&&(!l.v[1]||bn(l)!=4||l.Z()!=2)){if(l.u&&bn(l)==4)Km(l.Ea,0,l);else if(fe(l,"readystatechange"),bn(l)==4){l.h=!1;try{const B=l.Z();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var d;if(!(d=h)){var y;if(y=B===0){var O=String(l.D).match(pp)[1]||null;!O&&o.self&&o.self.location&&(O=o.self.location.protocol.slice(0,-1)),y=!IA.test(O?O.toLowerCase():"")}d=y}if(d)fe(l,"complete"),fe(l,"success");else{l.m=6;try{var U=2<bn(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",Sp(l)}}finally{kl(l)}}}}function kl(l,h){if(l.g){wp(l);const d=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||fe(l,"ready");try{d.onreadystatechange=y}catch{}}}function wp(l){l.I&&(o.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function bn(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),hA(h)}};function Cp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function VA(l){const h={};l=(l.g&&2<=bn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(T(l[y]))continue;var d=C(l[y]);const O=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const U=h[O]||[];h[O]=U,U.push(d)}b(h,function(y){return y.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(l,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[l]||h}function Dp(l){this.Aa=0,this.i=[],this.j=new La,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,l),this.cb=qa("retryDelaySeedMs",1e4,l),this.Wa=qa("forwardChannelMaxRetries",2,l),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new up(l&&l.concurrentRequestLimit),this.Da=new NA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Dp.prototype,e.la=8,e.G=1,e.connect=function(l,h,d,y){de(0),this.W=l,this.H=h||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.I=kp(this,null,this.W),zl(this)};function xc(l){if(xp(l),l.G==3){var h=l.U++,d=Tn(l.I);if(_t(d,"SID",l.K),_t(d,"RID",h),_t(d,"TYPE","terminate"),Ga(l,d),h=new Kn(l,l.j,h),h.L=2,h.v=Vl(Tn(d)),d=!1,o.navigator&&o.navigator.sendBeacon)try{d=o.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&o.Image&&(new Image().src=h.v,d=!0),d||(h.g=Pp(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ol(h)}Lp(l)}function Pl(l){l.g&&(Oc(l),l.g.cancel(),l.g=null)}function xp(l){Pl(l),l.u&&(o.clearTimeout(l.u),l.u=null),Bl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function zl(l){if(!cp(l.h)&&!l.s){l.s=!0;var h=l.Ga;$||Nt(),K||($(),K=!0),yt.add(h,l),l.B=0}}function UA(l,h){return hp(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ua(p(l.Ga,l,h),Up(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Kn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=_(U),S(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)t:{for(var h=0,d=0;d<this.i.length;d++){e:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break e}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=d;break t}if(h===4096||d===this.i.length-1){h=d+1;break t}}h=1e3}else h=1e3;h=Op(this,O,h),d=Tn(this.I),_t(d,"RID",l),_t(d,"CVER",22),this.D&&_t(d,"X-HTTP-Session-Id",this.D),Ga(this,d),U&&(this.O?h="headers="+encodeURIComponent(String(bp(U)))+"&"+h:this.m&&Dc(d,this.m,U)),Cc(this.h,O),this.Ua&&_t(d,"TYPE","init"),this.P?(_t(d,"$req",h),_t(d,"SID","null"),O.T=!0,Ac(O,d,null)):Ac(O,d,h),this.G=2}}else this.G==3&&(l?Np(this,l):this.i.length==0||cp(this.h)||Np(this))};function Np(l,h){var d;h?d=h.l:d=l.U++;const y=Tn(l.I);_t(y,"SID",l.K),_t(y,"RID",d),_t(y,"AID",l.T),Ga(l,y),l.m&&l.o&&Dc(y,l.m,l.o),d=new Kn(l,l.j,d,l.B+1),l.m===null&&(d.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Op(l,d,1e3),d.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Cc(l.h,d),Ac(d,y,h)}function Ga(l,h){l.H&&z(l.H,function(d,y){_t(h,y,d)}),l.l&&mp({},function(d,y){_t(h,y,d)})}function Op(l,h,d){d=Math.min(l.i.length,d);var y=l.l?p(l.l.Na,l.l,l):null;t:{var O=l.i;let U=-1;for(;;){const B=["count="+d];U==-1?0<d?(U=O[0].g,B.push("ofs="+U)):U=0:B.push("ofs="+U);let mt=!0;for(let Zt=0;Zt<d;Zt++){let lt=O[Zt].g;const ae=O[Zt].map;if(lt-=U,0>lt)U=Math.max(0,O[Zt].g-100),mt=!1;else try{OA(ae,B,"req"+lt+"_")}catch{y&&y(ae)}}if(mt){y=B.join("&");break t}}}return l=l.i.splice(0,d),h.D=l,y}function Ip(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;$||Nt(),K||($(),K=!0),yt.add(h,l),l.v=0}}function Nc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ua(p(l.Fa,l),Up(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,Mp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ua(p(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),Pl(this),Mp(this))};function Oc(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function Mp(l){l.g=new Kn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Tn(l.qa);_t(h,"RID","rpc"),_t(h,"SID",l.K),_t(h,"AID",l.T),_t(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&_t(h,"TO",l.ja),_t(h,"TYPE","xmlhttp"),Ga(l,h),l.m&&l.o&&Dc(h,l.m,l.o),l.L&&(l.g.I=l.L);var d=l.g;l=l.ia,d.L=1,d.v=Vl(Tn(h)),d.m=null,d.P=!0,sp(d,l)}e.Za=function(){this.C!=null&&(this.C=null,Pl(this),Nc(this),de(19))};function Bl(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Vp(l,h){var d=null;if(l.g==h){Bl(l),Oc(l),l.g=null;var y=2}else if(wc(l.h,h))d=h.D,fp(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var O=l.B;y=Dl(),fe(y,new np(y,d)),zl(l)}else Ip(l);else if(O=h.s,O==3||O==0&&0<h.X||!(y==1&&UA(l,h)||y==2&&Nc(l)))switch(d&&0<d.length&&(h=l.h,h.i=h.i.concat(d)),O){case 1:Pi(l,5);break;case 4:Pi(l,10);break;case 3:Pi(l,6);break;default:Pi(l,2)}}}function Up(l,h){let d=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(d*=2),d*h}function Pi(l,h){if(l.j.info("Error code "+h),h==2){var d=p(l.fb,l),y=l.Xa;const O=!y;y=new ki(y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Il(y,"https"),Vl(y),O?DA(y.toString(),d):xA(y.toString(),d)}else de(2);l.G=0,l.l&&l.l.sa(h),Lp(l),xp(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Lp(l){if(l.G=0,l.ka=[],l.l){const h=dp(l.h);(h.length!=0||l.i.length!=0)&&(x(l.ka,h),x(l.ka,l.i),l.h.i.length=0,M(l.i),l.i.length=0),l.l.ra()}}function kp(l,h,d){var y=d instanceof ki?Tn(d):new ki(d);if(y.g!="")h&&(y.g=h+"."+y.g),Ml(y,y.s);else{var O=o.location;y=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var U=new ki(null);y&&Il(U,y),h&&(U.g=h),O&&Ml(U,O),d&&(U.l=d),y=U}return d=l.D,h=l.ya,d&&h&&_t(y,d,h),_t(y,"VER",l.la),Ga(l,y),y}function Pp(l,h,d){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new wt(new Ul({eb:d})):new wt(l.pa),h.Ha(l.J),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function zp(){}e=zp.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function jl(){}jl.prototype.g=function(l,h){return new De(l,h)};function De(l,h){re.call(this),this.g=new Dp(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!T(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!T(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Tr(this)}D(De,re),De.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){xc(this.g)},De.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var d={};d.__data__=l,l=d}else this.u&&(d={},d.__data__=yc(l),l=d);h.i.push(new _A(h.Ya++,l)),h.G==3&&zl(h)},De.prototype.N=function(){this.g.l=null,delete this.j,xc(this.g),delete this.g,De.aa.N.call(this)};function Bp(l){vc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){t:{for(const d in h){l=d;break t}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}D(Bp,vc);function jp(){Ec.call(this),this.status=1}D(jp,Ec);function Tr(l){this.g=l}D(Tr,zp),Tr.prototype.ua=function(){fe(this.g,"a")},Tr.prototype.ta=function(l){fe(this.g,new Bp(l))},Tr.prototype.sa=function(l){fe(this.g,new jp)},Tr.prototype.ra=function(){fe(this.g,"b")},jl.prototype.createWebChannel=jl.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,zT=function(){return new jl},PT=function(){return Dl()},kT=Ui,Hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xl.NO_ERROR=0,xl.TIMEOUT=8,xl.HTTP_ERROR=6,No=xl,ip.COMPLETE="complete",LT=ip,Jm.EventType=Ma,Ma.OPEN="a",Ma.CLOSE="b",Ma.ERROR="c",Ma.MESSAGE="d",re.prototype.listen=re.prototype.K,ls=Jm,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,UT=wt}).apply(typeof so<"u"?so:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore",Fy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}oe.UNAUTHENTICATED=new oe(null),oe.GOOGLE_CREDENTIALS=new oe("google-credentials-uid"),oe.FIRST_PARTY=new oe("first-party-uid"),oe.MOCK_USER=new oe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new ST("@firebase/firestore");function xr(){return or.logLevel}function q(e,...t){if(or.logLevel<=it.DEBUG){const n=t.map(vm);or.debug(`Firestore (${xa}): ${e}`,...n)}}function Gn(e,...t){if(or.logLevel<=it.ERROR){const n=t.map(vm);or.error(`Firestore (${xa}): ${e}`,...n)}}function ma(e,...t){if(or.logLevel<=it.WARN){const n=t.map(vm);or.warn(`Firestore (${xa}): ${e}`,...n)}}function vm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(e="Unexpected state"){const t=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+e;throw Gn(t),new Error(t)}function Rt(e,t){e||X()}function at(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends gr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(oe.UNAUTHENTICATED))}shutdown(){}}class cx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hx{constructor(t){this.t=t,this.currentUser=oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Rt(this.o===void 0);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let a=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wi,t.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const u=a;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},o=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wi)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt(typeof i.accessToken=="string"),new BT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Rt(t===null||typeof t=="string"),new oe(t)}}class fx{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=oe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class dx{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new fx(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mx{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,DT(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Rt(this.o===void 0);const i=a=>{a.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Qy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Rt(typeof n.token=="string"),this.R=n.token,new Qy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=px(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=t.charAt(r[a]%62))}return i}}function W(e,t){return e<t?-1:e>t?1:0}function qf(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return W(i,r);{const a=jT(),s=gx(a.encode(Ky(e,n)),a.encode(Ky(t,n)));return s!==0?s:W(i,r)}}n+=i>65535?2:1}return W(e.length,t.length)}function Ky(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function gx(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return W(e[n],t[n]);return W(e.length,t.length)}function pa(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=-62135596800,$y=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*$y);return new Se(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Yy)throw new G(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(t){return this.seconds===t.seconds?W(this.nanoseconds,t.nanoseconds):W(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Yy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{static fromTimestamp(t){return new Y(t)}static min(){return new Y(new Se(0,0))}static max(){return new Y(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="__name__";class sn{constructor(t,n,i){n===void 0?n=0:n>t.length&&X(),i===void 0?i=t.length-n:i>t.length-n&&X(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return sn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const a=sn.compareSegments(t.get(r),n.get(r));if(a!==0)return a}return W(t.length,n.length)}static compareSegments(t,n){const i=sn.isNumericId(t),r=sn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?sn.extractNumericId(t).compare(sn.extractNumericId(n)):qf(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return bi.fromString(t.substring(4,t.length-2))}}class xt extends sn{construct(t,n,i){return new xt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new G(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const yx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ge extends sn{construct(t,n,i){return new ge(t,n,i)}static isValidIdentifier(t){return yx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ge.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new ge([Xy])}static fromServerFormat(t){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new G(j.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;r<t.length;){const o=t[r];if(o==="\\"){if(r+1===t.length)throw new G(j.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else o==="`"?(s=!s,r++):o!=="."||s?(i+=o,r++):(a(),r++)}if(a(),s)throw new G(j.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ge(n)}static emptyPath(){return new ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.path=t}static fromPath(t){return new F(xt.fromString(t))}static fromName(t){return new F(xt.fromString(t).popFirst(5))}static empty(){return new F(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new F(new xt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=-1;function _x(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Y.fromTimestamp(i===1e9?new Se(n+1,0):new Se(n,i));return new Ci(r,F.empty(),t)}function vx(e){return new Ci(e.readTime,e.key,$s)}class Ci{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ci(Y.min(),F.empty(),$s)}static max(){return new Ci(Y.max(),F.empty(),$s)}}function Ex(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=F.comparator(e.documentKey,t.documentKey),n!==0?n:W(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==Tx)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let r=0,a=0,s=!1;t.forEach(o=>{++r,o.next(()=>{++a,s&&a===r&&n()},u=>i(u))}),s=!0,a===r&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,a)=>{i.push(n.call(this,r,a))}),this.waitFor(i)}static mapArray(t,n){return new k((i,r)=>{const a=t.length,s=new Array(a);let o=0;for(let u=0;u<a;u++){const c=u;n(t[c]).next(f=>{s[c]=f,++o,o===a&&i(s)},f=>r(f))}})}static doWhile(t,n){return new k((i,r)=>{const a=()=>{t()===!0?n().next(()=>{a()},r):i()};a()})}}function Ax(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Na(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}tc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=-1;function ec(e){return e==null}function Gf(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="";function Rx(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zy(t)),t=wx(e.get(n),t);return Zy(t)}function wx(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const a=e.charAt(r);switch(a){case"\0":n+="";break;case qT:n+="";break;default:n+=a}}return n}function Zy(e){return e+qT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function El(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,n){this.comparator=t,this.root=n||te.EMPTY}insert(t,n){return new Vt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,te.BLACK,null,null))}remove(t){return new Vt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,te.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lo(this.root,t,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lo(this.root,t,this.comparator,!0)}}class lo{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class te{constructor(t,n,i,r,a){this.key=t,this.value=n,this.color=i??te.RED,this.left=r??te.EMPTY,this.right=a??te.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,a){return new te(t??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,n,i),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return te.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return te.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const t=this.left.check();if(t!==this.right.check())throw X();return t+(this.isRed()?0:1)}}te.EMPTY=null,te.RED=!0,te.BLACK=!1;te.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(t,n,i,r,a){return this}insert(t,n,i){return new te(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.comparator=t,this.data=new Vt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(t){return new Wy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ht)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ht(this.comparator);return n.data=t,n}}class Wy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this.fields=t,t.sort(ge.comparator)}static empty(){return new ui([])}unionWith(t){let n=new Ht(ge.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ui(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return pa(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new GT("Invalid base64 string: "+a):a}}(t);return new ie(n)}static fromUint8Array(t){const n=function(r){let a="";for(let s=0;s<r.length;++s)a+=String.fromCharCode(r[s]);return a}(t);return new ie(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return W(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ie.EMPTY_BYTE_STRING=new ie("");const Dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(e){if(Rt(!!e),typeof e=="string"){let t=0;const n=Dx.exec(e);if(Rt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mt(e.seconds),nanos:Mt(e.nanos)}}function Mt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xi(e){return typeof e=="string"?ie.fromBase64String(e):ie.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="server_timestamp",QT="__type__",KT="__previous_value__",YT="__local_write_time__";function Em(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[QT])===null||n===void 0?void 0:n.stringValue)===FT}function nc(e){const t=e.mapValue.fields[KT];return Em(t)?nc(t):t}function Xs(e){const t=Di(e.mapValue.fields[YT].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t,n,i,r,a,s,o,u,c){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c}}const Eu="(default)";class Zs{constructor(t,n){this.projectId=t,this.database=n||Eu}static empty(){return new Zs("","")}get isDefaultDatabase(){return this.database===Eu}isEqual(t){return t instanceof Zs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__type__",Ox="__max__",oo={mapValue:{}},Ix="__vector__",Ff="value";function Ni(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Em(e)?4:Vx(e)?9007199254740991:Mx(e)?10:11:X()}function mn(e,t){if(e===t)return!0;const n=Ni(e);if(n!==Ni(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xs(e).isEqual(Xs(t));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const s=Di(r.timestampValue),o=Di(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,a){return xi(r.bytesValue).isEqual(xi(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,a){return Mt(r.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)}(e,t);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Mt(r.integerValue)===Mt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const s=Mt(r.doubleValue),o=Mt(a.doubleValue);return s===o?Gf(s)===Gf(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return pa(e.arrayValue.values||[],t.arrayValue.values||[],mn);case 10:case 11:return function(r,a){const s=r.mapValue.fields||{},o=a.mapValue.fields||{};if(Jy(s)!==Jy(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!mn(s[u],o[u])))return!1;return!0}(e,t);default:return X()}}function Js(e,t){return(e.values||[]).find(n=>mn(n,t))!==void 0}function ga(e,t){if(e===t)return 0;const n=Ni(e),i=Ni(t);if(n!==i)return W(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return W(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=Mt(a.integerValue||a.doubleValue),u=Mt(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return t_(e.timestampValue,t.timestampValue);case 4:return t_(Xs(e),Xs(t));case 5:return qf(e.stringValue,t.stringValue);case 6:return function(a,s){const o=xi(a),u=xi(s);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),u=s.split("/");for(let c=0;c<o.length&&c<u.length;c++){const f=W(o[c],u[c]);if(f!==0)return f}return W(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=W(Mt(a.latitude),Mt(s.latitude));return o!==0?o:W(Mt(a.longitude),Mt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return e_(e.arrayValue,t.arrayValue);case 10:return function(a,s){var o,u,c,f;const m=a.fields||{},p=s.fields||{},g=(o=m[Ff])===null||o===void 0?void 0:o.arrayValue,D=(u=p[Ff])===null||u===void 0?void 0:u.arrayValue,M=W(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((f=D==null?void 0:D.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:e_(g,D)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===oo.mapValue&&s===oo.mapValue)return 0;if(a===oo.mapValue)return 1;if(s===oo.mapValue)return-1;const o=a.fields||{},u=Object.keys(o),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const p=qf(u[m],f[m]);if(p!==0)return p;const g=ga(o[u[m]],c[f[m]]);if(g!==0)return g}return W(u.length,f.length)}(e.mapValue,t.mapValue);default:throw X()}}function t_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return W(e,t);const n=Di(e),i=Di(t),r=W(n.seconds,i.seconds);return r!==0?r:W(n.nanos,i.nanos)}function e_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const a=ga(n[r],i[r]);if(a)return a}return W(n.length,i.length)}function ya(e){return Qf(e)}function Qf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Di(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return xi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return F.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const a of n.values||[])r?r=!1:i+=",",i+=Qf(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const s of i)a?a=!1:r+=",",r+=`${s}:${Qf(n.fields[s])}`;return r+"}"}(e.mapValue):X()}function Oo(e){switch(Ni(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nc(e);return t?16+Oo(t):16;case 5:return 2*e.stringValue.length;case 6:return xi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+Oo(a),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return El(i.fields,(a,s)=>{r+=a.length+Oo(s)}),r}(e.mapValue);default:throw X()}}function Kf(e){return!!e&&"integerValue"in e}function Tm(e){return!!e&&"arrayValue"in e}function n_(e){return!!e&&"nullValue"in e}function i_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ch(e){return!!e&&"mapValue"in e}function Mx(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Nx])===null||n===void 0?void 0:n.stringValue)===Ix}function ws(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return El(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ws(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ws(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Vx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ox}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ch(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ws(n)}setAll(t){let n=ge.emptyPath(),i={},r=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=o.popLast()}s?i[o.lastSegment()]=ws(s):r.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(t){const n=this.field(t.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Ch(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){El(n,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new on(ws(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n,i,r,a,s,o){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ue(t,0,Y.min(),Y.min(),Y.min(),on.empty(),0)}static newFoundDocument(t,n,i,r){return new ue(t,1,n,Y.min(),i,r,0)}static newNoDocument(t,n){return new ue(t,2,n,Y.min(),Y.min(),on.empty(),0)}static newUnknownDocument(t,n){return new ue(t,3,n,Y.min(),Y.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ue&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,n){this.position=t,this.inclusive=n}}function r_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const a=t[r],s=e.position[r];if(a.field.isKeyField()?i=F.comparator(F.fromName(s.referenceValue),n.key):i=ga(s,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function a_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n="asc"){this.field=t,this.dir=n}}function Ux(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{}class jt extends $T{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new kx(t,n,i):n==="array-contains"?new Bx(t,i):n==="in"?new jx(t,i):n==="not-in"?new Hx(t,i):n==="array-contains-any"?new qx(t,i):new jt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new Px(t,i):new zx(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ga(n,this.value)):n!==null&&Ni(this.value)===Ni(n)&&this.matchesComparison(ga(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends $T{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new pn(t,n)}matches(t){return XT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function XT(e){return e.op==="and"}function ZT(e){return Lx(e)&&XT(e)}function Lx(e){for(const t of e.filters)if(t instanceof pn)return!1;return!0}function Yf(e){if(e instanceof jt)return e.field.canonicalString()+e.op.toString()+ya(e.value);if(ZT(e))return e.filters.map(t=>Yf(t)).join(",");{const t=e.filters.map(n=>Yf(n)).join(",");return`${e.op}(${t})`}}function JT(e,t){return e instanceof jt?function(i,r){return r instanceof jt&&i.op===r.op&&i.field.isEqual(r.field)&&mn(i.value,r.value)}(e,t):e instanceof pn?function(i,r){return r instanceof pn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,s,o)=>a&&JT(s,r.filters[o]),!0):!1}(e,t):void X()}function WT(e){return e instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${ya(n.value)}`}(e):e instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(WT).join(" ,")+"}"}(e):"Filter"}class kx extends jt{constructor(t,n,i){super(t,n,i),this.key=F.fromName(i.referenceValue)}matches(t){const n=F.comparator(t.key,this.key);return this.matchesComparison(n)}}class Px extends jt{constructor(t,n){super(t,"in",n),this.keys=tb("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class zx extends jt{constructor(t,n){super(t,"not-in",n),this.keys=tb("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function tb(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>F.fromName(i.referenceValue))}class Bx extends jt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Tm(n)&&Js(n.arrayValue,this.value)}}class jx extends jt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Js(this.value.arrayValue,n)}}class Hx extends jt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Js(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Js(this.value.arrayValue,n)}}class qx extends jt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Js(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t,n=null,i=[],r=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=s,this.endAt=o,this.le=null}}function s_(e,t=null,n=[],i=[],r=null,a=null,s=null){return new Gx(e,t,n,i,r,a,s)}function bm(e){const t=at(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Yf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),ec(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ya(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ya(i)).join(",")),t.le=n}return t.le}function Am(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ux(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!JT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!a_(e.startAt,t.startAt)&&a_(e.endAt,t.endAt)}function $f(e){return F.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n=null,i=[],r=[],a=null,s="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Fx(e,t,n,i,r,a,s,o){return new ic(e,t,n,i,r,a,s,o)}function Sm(e){return new ic(e)}function l_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Qx(e){return e.collectionGroup!==null}function Cs(e){const t=at(e);if(t.he===null){t.he=[];const n=new Set;for(const a of t.explicitOrderBy)t.he.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ht(ge.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.he.push(new bu(a,i))}),n.has(ge.keyField().canonicalString())||t.he.push(new bu(ge.keyField(),i))}return t.he}function dn(e){const t=at(e);return t.Pe||(t.Pe=Kx(t,Cs(e))),t.Pe}function Kx(e,t){if(e.limitType==="F")return s_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new bu(r.field,a)});const n=e.endAt?new Tu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Tu(e.startAt.position,e.startAt.inclusive):null;return s_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Xf(e,t,n){return new ic(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rc(e,t){return Am(dn(e),dn(t))&&e.limitType===t.limitType}function eb(e){return`${bm(dn(e))}|lt:${e.limitType}`}function Nr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>WT(r)).join(", ")}]`),ec(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ya(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ya(r)).join(",")),`Target(${i})`}(dn(e))}; limitType=${e.limitType})`}function ac(e,t){return t.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):F.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,r){for(const a of Cs(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(s,o,u){const c=r_(s,o,u);return s.inclusive?c<=0:c<0}(i.startAt,Cs(i),r)||i.endAt&&!function(s,o,u){const c=r_(s,o,u);return s.inclusive?c>=0:c>0}(i.endAt,Cs(i),r))}(e,t)}function Yx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nb(e){return(t,n)=>{let i=!1;for(const r of Cs(e)){const a=$x(r,t,n);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function $x(e,t,n){const i=e.field.isKeyField()?F.comparator(t.key,n.key):function(a,s,o){const u=s.data.field(a),c=o.data.field(a);return u!==null&&c!==null?ga(u,c):X()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){El(this.inner,(n,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return Cx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Vt(F.comparator);function Oi(){return Xx}const ib=new Vt(F.comparator);function os(...e){let t=ib;for(const n of e)t=t.insert(n.key,n);return t}function Zx(e){let t=ib;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Fi(){return Ds()}function rb(){return Ds()}function Ds(){return new yr(e=>e.toString(),(e,t)=>e.isEqual(t))}const Jx=new Ht(F.comparator);function st(...e){let t=Jx;for(const n of e)t=t.add(n);return t}const Wx=new Ht(W);function tN(){return Wx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(t)?"-0":t}}function nN(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this._=void 0}}function iN(e,t,n){return e instanceof Zf?function(r,a){const s={fields:{[QT]:{stringValue:FT},[YT]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Em(a)&&(a=nc(a)),a&&(s.fields[KT]=a),{mapValue:s}}(n,t):e instanceof Au?ab(e,t):e instanceof Su?sb(e,t):function(r,a){const s=aN(r,a),o=o_(s)+o_(r.Ie);return Kf(s)&&Kf(r.Ie)?nN(o):eN(r.serializer,o)}(e,t)}function rN(e,t,n){return e instanceof Au?ab(e,t):e instanceof Su?sb(e,t):n}function aN(e,t){return e instanceof Jf?function(i){return Kf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Zf extends sc{}class Au extends sc{constructor(t){super(),this.elements=t}}function ab(e,t){const n=lb(t);for(const i of e.elements)n.some(r=>mn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Su extends sc{constructor(t){super(),this.elements=t}}function sb(e,t){let n=lb(t);for(const i of e.elements)n=n.filter(r=>!mn(r,i));return{arrayValue:{values:n}}}class Jf extends sc{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function o_(e){return Mt(e.integerValue||e.doubleValue)}function lb(e){return Tm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function sN(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Au&&r instanceof Au||i instanceof Su&&r instanceof Su?pa(i.elements,r.elements,mn):i instanceof Jf&&r instanceof Jf?mn(i.Ie,r.Ie):i instanceof Zf&&r instanceof Zf}(e.transform,t.transform)}class tr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new tr}static exists(t){return new tr(void 0,t)}static updateTime(t){return new tr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Io(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Rm{}function ob(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new oN(e.key,tr.none()):new wm(e.key,e.data,tr.none());{const n=e.data,i=on.empty();let r=new Ht(ge.comparator);for(let a of t.fields)if(!r.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?i.delete(a):i.set(a,s),r=r.add(a)}return new lc(e.key,i,new ui(r.toArray()),tr.none())}}function lN(e,t,n){e instanceof wm?function(r,a,s){const o=r.value.clone(),u=c_(r.fieldTransforms,a,s.transformResults);o.setAll(u),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof lc?function(r,a,s){if(!Io(r.precondition,a))return void a.convertToUnknownDocument(s.version);const o=c_(r.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(ub(r)),u.setAll(o),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(r,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function xs(e,t,n,i){return e instanceof wm?function(a,s,o,u){if(!Io(a.precondition,s))return o;const c=a.value.clone(),f=h_(a.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof lc?function(a,s,o,u){if(!Io(a.precondition,s))return o;const c=h_(a.fieldTransforms,u,s),f=s.data;return f.setAll(ub(a)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(e,t,n,i):function(a,s,o){return Io(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function u_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&pa(i,r,(a,s)=>sN(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wm extends Rm{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lc extends Rm{constructor(t,n,i,r,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ub(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function c_(e,t,n){const i=new Map;Rt(e.length===n.length);for(let r=0;r<n.length;r++){const a=e[r],s=a.transform,o=t.data.field(a.field);i.set(a.field,rN(s,o,n[r]))}return i}function h_(e,t,n){const i=new Map;for(const r of e){const a=r.transform,s=n.data.field(r.field);i.set(r.field,iN(a,s,t))}return i}class oN extends Rm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&lN(a,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=xs(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=xs(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=rb();return this.mutations.forEach(r=>{const a=t.get(r.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(r.key)?null:o;const u=ob(s,o);u!==null&&i.set(r.key,u),s.isValidDocument()||s.convertToNoDocument(Y.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&pa(this.mutations,t.mutations,(n,i)=>u_(n,i))&&pa(this.baseMutations,t.baseMutations,(n,i)=>u_(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,nt;function cb(e){if(e===void 0)return Gn("GRPC error has no .code"),j.UNKNOWN;switch(e){case Lt.OK:return j.OK;case Lt.CANCELLED:return j.CANCELLED;case Lt.UNKNOWN:return j.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return j.INTERNAL;case Lt.UNAVAILABLE:return j.UNAVAILABLE;case Lt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Lt.NOT_FOUND:return j.NOT_FOUND;case Lt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Lt.ABORTED:return j.ABORTED;case Lt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Lt.DATA_LOSS:return j.DATA_LOSS;default:return X()}}(nt=Lt||(Lt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new bi([4294967295,4294967295],0);function f_(e){const t=jT().encode(e),n=new VT;return n.update(t),new Uint8Array(n.digest())}function d_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new bi([n,i],0),new bi([r,a],0)]}class Cm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new us(`Invalid padding: ${n}`);if(i<0)throw new us(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new us(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new us(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=bi.fromNumber(this.Ee)}Ae(t,n,i){let r=t.add(n.multiply(bi.fromNumber(i)));return r.compare(fN)===1&&(r=new bi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=f_(t),[i,r]=d_(n);for(let a=0;a<this.hashCount;a++){const s=this.Ae(i,r,a);if(!this.Re(s))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new Cm(a,r,n);return i.forEach(o=>s.insert(o)),s}insert(t){if(this.Ee===0)return;const n=f_(t),[i,r]=d_(n);for(let a=0;a<this.hashCount;a++){const s=this.Ae(i,r,a);this.Ve(s)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class us extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,n,i,r,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Tl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new oc(Y.min(),r,new Vt(W),Oi(),st())}}class Tl{constructor(t,n,i,r,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Tl(i,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,n,i,r){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=r}}class hb{constructor(t,n){this.targetId=t,this.ge=n}}class fb{constructor(t,n,i=ie.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class m_{constructor(){this.pe=0,this.ye=p_(),this.we=ie.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=st(),n=st(),i=st();return this.ye.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X()}}),new Tl(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=p_()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Rt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class dN{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Oi(),this.$e=uo(),this.Ue=uo(),this.Ke=new Vt(W)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:X()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(t){const n=t.targetId,i=t.ge.count,r=this.Xe(n);if(r){const a=r.target;if($f(a))if(i===0){const s=new F(a.path);this.ze(n,s,ue.newNoDocument(s,Y.min()))}else Rt(i===1);else{const s=this.et(n);if(s!==i){const o=this.tt(t),u=o?this.nt(o,t,s):1;if(u!==0){this.Ye(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=n;let s,o;try{s=xi(i).toUint8Array()}catch(u){if(u instanceof GT)return ma("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Cm(s,r,a)}catch(u){return ma(u instanceof us?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.Ee===0?null:o}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let r=0;return i.forEach(a=>{const s=this.ke.it(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.ze(n,a,null),r++)}),r}ot(t){const n=new Map;this.qe.forEach((a,s)=>{const o=this.Xe(s);if(o){if(a.current&&$f(o.target)){const u=new F(o.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,ue.newNoDocument(u,t))}a.ve&&(n.set(s,a.Fe()),a.Me())}});let i=st();this.Ue.forEach((a,s)=>{let o=!0;s.forEachWhile(u=>{const c=this.Xe(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(a))}),this.Qe.forEach((a,s)=>s.setReadTime(t));const r=new oc(t,n,this.Ke,this.Qe,i);return this.Qe=Oi(),this.$e=uo(),this.Ue=uo(),this.Ke=new Vt(W),r}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const r=this.He(t);this.ut(t,n)?r.xe(n,1):r.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new m_,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Ht(W),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ht(W),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new m_),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function uo(){return new Vt(F.comparator)}function p_(){return new Vt(F.comparator)}const mN={asc:"ASCENDING",desc:"DESCENDING"},pN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gN={and:"AND",or:"OR"};class yN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wf(e,t){return e.useProto3Json||ec(t)?t:{value:t}}function _N(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vN(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Wr(e){return Rt(!!e),Y.fromTimestamp(function(n){const i=Di(n);return new Se(i.seconds,i.nanos)}(e))}function EN(e,t){return td(e,t).canonicalString()}function td(e,t){const n=function(r){return new xt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function db(e){const t=xt.fromString(e);return Rt(_b(t)),t}function Dh(e,t){const n=db(t);if(n.get(1)!==e.databaseId.projectId)throw new G(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new F(pb(n))}function mb(e,t){return EN(e.databaseId,t)}function TN(e){const t=db(e);return t.length===4?xt.emptyPath():pb(t)}function g_(e){return new xt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pb(e){return Rt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function bN(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],a=function(c,f){return c.useProto3Json?(Rt(f===void 0||typeof f=="string"),ie.fromBase64String(f||"")):(Rt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ie.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const f=c.code===void 0?j.UNKNOWN:cb(c.code);return new G(f,c.message||"")}(s);n=new fb(i,r,a,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Dh(e,i.document.name),a=Wr(i.document.updateTime),s=i.document.createTime?Wr(i.document.createTime):Y.min(),o=new on({mapValue:{fields:i.document.fields}}),u=ue.newFoundDocument(r,a,s,o),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Mo(c,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Dh(e,i.document),a=i.readTime?Wr(i.readTime):Y.min(),s=ue.newNoDocument(r,a),o=i.removedTargetIds||[];n=new Mo([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Dh(e,i.document),a=i.removedTargetIds||[];n=new Mo([],a,r,null)}else{if(!("filter"in t))return X();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,s=new hN(r,a),o=i.targetId;n=new hb(o,s)}}return n}function AN(e,t){return{documents:[mb(e,t.path)]}}function SN(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=mb(e,r);const a=function(c){if(c.length!==0)return yb(pn.create(c,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:Or(p.field),direction:CN(p.dir)}}(f))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Wf(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ht:n,parent:r}}function RN(e){let t=TN(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Rt(i===1);const f=n.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let a=[];n.where&&(a=function(m){const p=gb(m);return p instanceof pn&&ZT(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(p=>function(D){return new bu(Ir(D.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,ec(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,g=m.values||[];return new Tu(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,g=m.values||[];return new Tu(g,p)}(n.endAt)),Fx(t,r,s,a,o,"F",u,c)}function wN(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function gb(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ir(n.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ir(n.unaryFilter.field);return jt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ir(n.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ir(n.unaryFilter.field);return jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(e):e.fieldFilter!==void 0?function(n){return jt.create(Ir(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(i=>gb(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(e):X()}function CN(e){return mN[e]}function DN(e){return pN[e]}function xN(e){return gN[e]}function Or(e){return{fieldPath:e.canonicalString()}}function Ir(e){return ge.fromServerFormat(e.fieldPath)}function yb(e){return e instanceof jt?function(n){if(n.op==="=="){if(i_(n.value))return{unaryFilter:{field:Or(n.field),op:"IS_NAN"}};if(n_(n.value))return{unaryFilter:{field:Or(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i_(n.value))return{unaryFilter:{field:Or(n.field),op:"IS_NOT_NAN"}};if(n_(n.value))return{unaryFilter:{field:Or(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Or(n.field),op:DN(n.op),value:n.value}}}(e):e instanceof pn?function(n){const i=n.getFilters().map(r=>yb(r));return i.length===1?i[0]:{compositeFilter:{op:xN(n.op),filters:i}}}(e):X()}function _b(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,n,i,r,a=Y.min(),s=Y.min(),o=ie.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new ci(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t){this.Tt=t}}function ON(e){const t=RN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Xf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Tn=new MN}addToCollectionParentIndex(t,n){return this.Tn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Ci.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Ci.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class MN{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Ht(xt.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ht(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vb=41943040;class Ae{static withCacheSize(t){return new Ae(t,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ae.DEFAULT_COLLECTION_PERCENTILE=10,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ae.DEFAULT=new Ae(vb,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ae.DISABLED=new Ae(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new _a(0)}static Kn(){return new _a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LruGarbageCollector",VN=1048576;function v_([e,t],[n,i]){const r=W(e,n);return r===0?W(t,i):r}class UN{constructor(t){this.Hn=t,this.buffer=new Ht(v_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();v_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LN{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){q(__,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Na(n)?q(__,"Ignoring IndexedDB error during garbage collection: ",n):await Wu(n)}await this.er(3e5)})}}class kN{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return k.resolve(tc.ae);const i=new UN(n);return this.tr.forEachTarget(t,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(t,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(y_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,r,a,s,o,u,c;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,s=Date.now(),this.nthSequenceNumber(t,r))).next(m=>(i=m,o=Date.now(),this.removeTargets(t,i,n))).next(m=>(a=m,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(m=>(c=Date.now(),xr()<=it.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${r} in `+(o-s)+`ms
	Removed ${a} targets in `+(u-o)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:m})))}}function PN(e,t){return new kN(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.changes=new yr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ue.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&xs(i.mutation,r,ui.empty(),Se.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,st()).next(()=>i))}getLocalViewOfDocuments(t,n,i=st()){const r=Fi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(a=>{let s=os();return a.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const i=Fi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,st()))}populateOverlays(t,n,i){const r=[];return i.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,i,r){let a=Oi();const s=Ds(),o=function(){return Ds()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof lc)?a=a.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),xs(f.mutation,c,f.mutation.getFieldMask(),Se.now())):s.set(c.key,ui.empty())}),this.recalculateAndSaveOverlays(t,a).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var m;return o.set(c,new BN(f,(m=s.get(c))!==null&&m!==void 0?m:null))}),o))}recalculateAndSaveOverlays(t,n){const i=Ds();let r=new Vt((s,o)=>s-o),a=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||ui.empty();f=o.applyToLocalView(c,f),i.set(u,f);const m=(r.get(o.batchId)||st()).add(u);r=r.insert(o.batchId,m)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,f=u.value,m=rb();f.forEach(p=>{if(!a.has(p)){const g=ob(n.get(p),i.get(p));g!==null&&m.set(p,g),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,m))}return k.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(s){return F.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Qx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-a.size):k.resolve(Fi());let o=$s,u=a;return s.next(c=>k.forEach(c,(f,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),a.get(f)?k.resolve():this.remoteDocumentCache.getEntry(t,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(t,c,a)).next(()=>this.computeViews(t,u,c,st())).next(f=>({batchId:o,changes:Zx(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new F(n)).next(i=>{let r=os();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const a=n.collectionGroup;let s=os();return this.indexManager.getCollectionParents(t,a).next(o=>k.forEach(o,u=>{const c=function(m,p){return new ic(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(f=>{f.forEach((m,p)=>{s=s.insert(m,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,r))).next(s=>{a.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,ue.newInvalidDocument(f)))});let o=os();return s.forEach((u,c)=>{const f=a.get(u);f!==void 0&&xs(f.mutation,c,ui.empty(),Se.now()),ac(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return k.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Wr(r.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:ON(r.bundledQuery),readTime:Wr(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.overlays=new Vt(F.comparator),this.Rr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Fi();return k.forEach(n,r=>this.getOverlay(t,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,a)=>{this.Et(t,n,a)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const r=Fi(),a=n.length+1,s=new F(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let a=new Vt((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=a.get(c.largestBatchId);f===null&&(f=Fi(),a=a.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const o=Fi(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>o.set(c,f)),!(o.size()>=r)););return k.resolve(o)}Et(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const s=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new cN(n,i));let a=this.Rr.get(n);a===void 0&&(a=st(),this.Rr.set(n,a)),this.Rr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.sessionToken=ie.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.Vr=new Ht(Gt.mr),this.gr=new Ht(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new Gt(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new Gt(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new F(new xt([])),i=new Gt(n,t),r=new Gt(n,t+1),a=[];return this.gr.forEachInRange([i,r],s=>{this.wr(s),a.push(s.key)}),a}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new F(new xt([])),i=new Gt(n,t),r=new Gt(n,t+1);let a=st();return this.gr.forEachInRange([i,r],s=>{a=a.add(s.key)}),a}containsKey(t){const n=new Gt(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Gt{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return F.comparator(t.key,n.key)||W(t.Cr,n.Cr)}static pr(t,n){return W(t.Cr,n.Cr)||F.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ht(Gt.mr)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new uN(a,n,i,r);this.mutationQueue.push(s);for(const o of r)this.Mr=this.Mr.add(new Gt(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return k.resolve(s)}lookupMutationBatch(t,n){return k.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Nr(i),a=r<0?0:r;return k.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Sx:this.Fr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Gt(n,0),r=new Gt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,r],s=>{const o=this.Or(s.Cr);a.push(o)}),k.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ht(W);return n.forEach(r=>{const a=new Gt(r,0),s=new Gt(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,s],o=>{i=i.add(o.Cr)})}),k.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let a=i;F.isDocumentKey(a)||(a=a.child(""));const s=new Gt(new F(a),0);let o=new Ht(W);return this.Mr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(o=o.add(u.Cr)),!0)},s),k.resolve(this.Br(o))}Br(t){const n=[];return t.forEach(i=>{const r=this.Or(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Rt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return k.forEach(n.mutations,r=>{const a=new Gt(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new Gt(n,0),r=this.Mr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.kr=t,this.docs=function(){return new Vt(F.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,s=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():ue.newInvalidDocument(n))}getEntries(t,n){let i=Oi();return n.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():ue.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let a=Oi();const s=n.path,o=new F(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Ex(vx(f),i)<=0||(r.has(f.key)||ac(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return k.resolve(a)}getAllFromCollectionGroup(t,n,i,r){X()}qr(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new KN(this)}getSize(t){return k.resolve(this.size)}}class KN extends zN{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(t,r)):this.Ir.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.persistence=t,this.Qr=new yr(n=>bm(n),Am),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Dm,this.targetCount=0,this.Kr=_a.Un()}forEachTarget(t,n){return this.Qr.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),k.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new _a(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.zn(n),k.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let r=0;const a=[];return this.Qr.forEach((s,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.Qr.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)}),k.waitFor(a).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),k.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(s=>{a.push(r.markPotentiallyOrphaned(t,s))}),k.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new tc(0),this.zr=!1,this.zr=!0,this.jr=new GN,this.referenceDelegate=t(this),this.Hr=new YN(this),this.indexManager=new IN,this.remoteDocumentCache=function(r){return new QN(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new NN(n),this.Yr=new HN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new FN(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const r=new $N(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(a=>this.referenceDelegate.Xr(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}ei(t,n){return k.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class $N extends bx{constructor(t){super(),this.currentSequenceNumber=t}}class xm{constructor(t){this.persistence=t,this.ti=new Dm,this.ni=null}static ri(t){return new xm(t)}get ii(){if(this.ni)return this.ni;throw X()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),k.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.ii,i=>{const r=F.fromPath(i);return this.si(t,r).next(a=>{a||n.removeEntry(r,Y.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return k.or([()=>k.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Ru{constructor(t,n){this.persistence=t,this.oi=new yr(i=>Rx(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=PN(this,n)}static ri(t,n){return new Ru(t,n)}Zr(){}Xr(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return k.forEach(this.oi,(i,r)=>this.ar(t,i,r).next(a=>a?k.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.qr(t,s=>this.ar(t,s,n).next(o=>{o||(i++,a.removeEntry(s,Y.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),k.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),k.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oo(t.data.value)),n}ar(t,n,i){return k.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.oi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=r}static Yi(t,n){let i=st(),r=st();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Nm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return $C()?8:Ax(KC())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,r){const a={result:null};return this.rs(t,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ss(t,n,r,i).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new XN;return this._s(t,n,s).next(o=>{if(a.result=o,this.Xi)return this.us(t,n,s,o.size)})}).next(()=>a.result)}us(t,n,i,r){return i.documentReadCount<this.es?(xr()<=it.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Nr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),k.resolve()):(xr()<=it.DEBUG&&q("QueryEngine","Query:",Nr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(xr()<=it.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Nr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,dn(n))):k.resolve())}rs(t,n){if(l_(n))return k.resolve(null);let i=dn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Xf(n,null,"F"),i=dn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const s=st(...a);return this.ns.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const c=this.cs(n,o);return this.ls(n,c,s,u.readTime)?this.rs(t,Xf(n,null,"F")):this.hs(t,c,n,u)}))})))}ss(t,n,i,r){return l_(n)||r.isEqual(Y.min())?k.resolve(null):this.ns.getDocuments(t,i).next(a=>{const s=this.cs(n,a);return this.ls(n,s,i,r)?k.resolve(null):(xr()<=it.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nr(n)),this.hs(t,s,n,_x(r,$s)).next(o=>o))})}cs(t,n){let i=new Ht(nb(t));return n.forEach((r,a)=>{ac(t,a)&&(i=i.add(a))}),i}ls(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}_s(t,n,i){return xr()<=it.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Nr(n)),this.ns.getDocumentsMatchingQuery(t,n,Ci.min(),i)}hs(t,n,i,r){return this.ns.getDocumentsMatchingQuery(t,i,r).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="LocalStore",JN=3e8;class WN{constructor(t,n,i,r){this.persistence=t,this.Ps=n,this.serializer=r,this.Ts=new Vt(W),this.Is=new yr(a=>bm(a),Am),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function tO(e,t,n,i){return new WN(e,t,n,i)}async function Tb(e,t){const n=at(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const s=[],o=[];let u=st();for(const c of r){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of a){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:o}))})})}function bb(e){const t=at(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function eO(e,t){const n=at(e),i=t.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const o=[];t.targetChanges.forEach((f,m)=>{const p=r.get(m);if(!p)return;o.push(n.Hr.removeMatchingKeys(a,f.removedDocuments,m).next(()=>n.Hr.addMatchingKeys(a,f.addedDocuments,m)));let g=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(m)!==null?g=g.withResumeToken(ie.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,i)),r=r.insert(m,g),function(M,x,E){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=JN?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,f)&&o.push(n.Hr.updateTargetData(a,g))});let u=Oi(),c=st();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),o.push(nO(a,s,t.documentUpdates).next(f=>{u=f.Vs,c=f.fs})),!i.isEqual(Y.min())){const f=n.Hr.getLastRemoteSnapshotVersion(a).next(m=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));o.push(f)}return k.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.Ts=r,a))}function nO(e,t,n){let i=st(),r=st();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let s=Oi();return n.forEach((o,u)=>{const c=a.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(o)),u.isNoDocument()&&u.version.isEqual(Y.min())?(t.removeEntry(o,u.readTime),s=s.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),s=s.insert(o,u)):q(Om,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{Vs:s,fs:r}})}function iO(e,t){const n=at(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Hr.getTargetData(i,t).next(a=>a?(r=a,k.resolve(r)):n.Hr.allocateTargetId(i).next(s=>(r=new ci(t,s,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function ed(e,t,n){const i=at(e),r=i.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,s=>i.persistence.referenceDelegate.removeTarget(s,r))}catch(s){if(!Na(s))throw s;q(Om,`Failed to update sequence numbers for target ${t}: ${s}`)}i.Ts=i.Ts.remove(t),i.Is.delete(r.target)}function E_(e,t,n){const i=at(e);let r=Y.min(),a=st();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const m=at(u),p=m.Is.get(f);return p!==void 0?k.resolve(m.Ts.get(p)):m.Hr.getTargetData(c,f)}(i,s,dn(t)).next(o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(s,o.targetId).next(u=>{a=u})}).next(()=>i.Ps.getDocumentsMatchingQuery(s,t,n?r:Y.min(),n?a:st())).next(o=>(rO(i,Yx(t),o),{documents:o,gs:a})))}function rO(e,t,n){let i=e.Es.get(t)||Y.min();n.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.Es.set(t,i)}class T_{constructor(){this.activeTargetIds=tN()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aO{constructor(){this.ho=new T_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new T_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class A_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){q(b_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){q(b_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co=null;function nd(){return co===null?co=function(){return 268435456+Math.round(2147483648*Math.random())}():co++,"0x"+co.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="RestConnection",lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oO{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===Eu?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(t,n,i,r,a){const s=nd(),o=this.bo(t,n.toUriEncodedString());q(xh,`Sending RPC '${t}' ${s}:`,o,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,r,a),this.vo(t,o,u,i).then(c=>(q(xh,`Received RPC '${t}' ${s}: `,c),c),c=>{throw ma(xh,`RPC '${t}' ${s} failed with error: `,c,"url: ",o,"request:",i),c})}Co(t,n,i,r,a,s){return this.So(t,n,i,r,a)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}bo(t,n){const i=lO[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le="WebChannelConnection";class cO extends oO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,r){const a=nd();return new Promise((s,o)=>{const u=new UT;u.setWithCredentials(!0),u.listenOnce(LT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case No.NO_ERROR:const f=u.getResponseJson();q(le,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(f)),s(f);break;case No.TIMEOUT:q(le,`RPC '${t}' ${a} timed out`),o(new G(j.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const m=u.getStatus();if(q(le,`RPC '${t}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const D=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(E)>=0?E:j.UNKNOWN}(g.status);o(new G(D,g.message))}else o(new G(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new G(j.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{q(le,`RPC '${t}' ${a} completed.`)}});const c=JSON.stringify(r);q(le,`RPC '${t}' ${a} sending request:`,r),u.send(n,"POST",c,i,15)})}Wo(t,n,i){const r=nd(),a=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=zT(),o=PT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=a.join("");q(le,`Creating RPC '${t}' stream ${r}: ${f}`,u);const m=s.createWebChannel(f,u);let p=!1,g=!1;const D=new uO({Fo:x=>{g?q(le,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(p||(q(le,`Opening RPC '${t}' stream ${r} transport.`),m.open(),p=!0),q(le,`RPC '${t}' stream ${r} sending:`,x),m.send(x))},Mo:()=>m.close()}),M=(x,E,T)=>{x.listen(E,v=>{try{T(v)}catch(w){setTimeout(()=>{throw w},0)}})};return M(m,ls.EventType.OPEN,()=>{g||(q(le,`RPC '${t}' stream ${r} transport opened.`),D.Qo())}),M(m,ls.EventType.CLOSE,()=>{g||(g=!0,q(le,`RPC '${t}' stream ${r} transport closed`),D.Uo())}),M(m,ls.EventType.ERROR,x=>{g||(g=!0,ma(le,`RPC '${t}' stream ${r} transport errored:`,x),D.Uo(new G(j.UNAVAILABLE,"The operation could not be completed")))}),M(m,ls.EventType.MESSAGE,x=>{var E;if(!g){const T=x.data[0];Rt(!!T);const v=T,w=(v==null?void 0:v.error)||((E=v[0])===null||E===void 0?void 0:E.error);if(w){q(le,`RPC '${t}' stream ${r} received error:`,w);const L=w.status;let z=function(A){const S=Lt[A];if(S!==void 0)return cb(S)}(L),b=w.message;z===void 0&&(z=j.INTERNAL,b="Unknown error status: "+L+" with message "+w.message),g=!0,D.Uo(new G(z,b)),m.close()}else q(le,`RPC '${t}' stream ${r} received:`,T),D.Ko(T)}}),M(o,kT.STAT_EVENT,x=>{x.stat===Hf.PROXY?q(le,`RPC '${t}' stream ${r} detected buffering proxy`):x.stat===Hf.NOPROXY&&q(le,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Nh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e){return new yN(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,n,i=1e3,r=1.5,a=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=r,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="PersistentStream";class hO{constructor(t,n,i,r,a,s,o,u){this.Ti=t,this.n_=i,this.r_=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Sb(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===n&&this.V_(i,r)},i=>{t(()=>{const r=new G(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return q(S_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(q(S_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fO extends hO{constructor(t,n,i,r,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=a}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=bN(this.serializer,t),i=function(a){if(!("targetChange"in a))return Y.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?Wr(s.readTime):Y.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=g_(this.serializer),n.addTarget=function(a,s){let o;const u=s.target;if(o=$f(u)?{documents:AN(a,u)}:{query:SN(a,u).ht},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=vN(a,s.resumeToken);const c=Wf(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Y.min())>0){o.readTime=_N(a,s.snapshotVersion.toTimestamp());const c=Wf(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const i=wN(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=g_(this.serializer),n.removeTarget=t,this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{}class mO extends dO{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new G(j.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.So(t,td(n,i),r,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(j.UNKNOWN,a.toString())})}Co(t,n,i,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,td(n,i),r,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(j.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class pO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gn(n),this.N_=!1):q("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class gO{constructor(t,n,i,r,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(s=>{i.enqueueAndForget(async()=>{Al(this)&&(q(va,"Restarting streams for network reachability change."),await async function(u){const c=at(u);c.W_.add(4),await bl(c),c.j_.set("Unknown"),c.W_.delete(4),await uc(c)}(this))})}),this.j_=new pO(i,r)}}async function uc(e){if(Al(e))for(const t of e.G_)await t(!0)}async function bl(e){for(const t of e.G_)await t(!1)}function Rb(e,t){const n=at(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Um(n)?Vm(n):Oa(n).c_()&&Mm(n,t))}function Im(e,t){const n=at(e),i=Oa(n);n.K_.delete(t),i.c_()&&wb(n,t),n.K_.size===0&&(i.c_()?i.P_():Al(n)&&n.j_.set("Unknown"))}function Mm(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Y.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Oa(e).y_(t)}function wb(e,t){e.H_.Ne(t),Oa(e).w_(t)}function Vm(e){e.H_=new dN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Oa(e).start(),e.j_.B_()}function Um(e){return Al(e)&&!Oa(e).u_()&&e.K_.size>0}function Al(e){return at(e).W_.size===0}function Cb(e){e.H_=void 0}async function yO(e){e.j_.set("Online")}async function _O(e){e.K_.forEach((t,n)=>{Mm(e,t)})}async function vO(e,t){Cb(e),Um(e)?(e.j_.q_(t),Vm(e)):e.j_.set("Unknown")}async function EO(e,t,n){if(e.j_.set("Online"),t instanceof fb&&t.state===2&&t.cause)try{await async function(r,a){const s=a.cause;for(const o of a.targetIds)r.K_.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.K_.delete(o),r.H_.removeTarget(o))}(e,t)}catch(i){q(va,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await R_(e,i)}else if(t instanceof Mo?e.H_.We(t):t instanceof hb?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Y.min()))try{const i=await bb(e.localStore);n.compareTo(i)>=0&&await function(a,s){const o=a.H_.ot(s);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.K_.get(c);f&&a.K_.set(c,f.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,c)=>{const f=a.K_.get(u);if(!f)return;a.K_.set(u,f.withResumeToken(ie.EMPTY_BYTE_STRING,f.snapshotVersion)),wb(a,u);const m=new ci(f.target,u,c,f.sequenceNumber);Mm(a,m)}),a.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){q(va,"Failed to raise snapshot:",i),await R_(e,i)}}async function R_(e,t,n){if(!Na(t))throw t;e.W_.add(1),await bl(e),e.j_.set("Offline"),n||(n=()=>bb(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(va,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await uc(e)})}async function w_(e,t){const n=at(e);n.asyncQueue.verifyOperationInProgress(),q(va,"RemoteStore received new credentials");const i=Al(n);n.W_.add(3),await bl(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await uc(n)}async function TO(e,t){const n=at(e);t?(n.W_.delete(2),await uc(n)):t||(n.W_.add(2),await bl(n),n.j_.set("Unknown"))}function Oa(e){return e.J_||(e.J_=function(n,i,r){const a=at(n);return a.M_(),new fO(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(e.datastore,e.asyncQueue,{xo:yO.bind(null,e),No:_O.bind(null,e),Lo:vO.bind(null,e),p_:EO.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),Um(e)?Vm(e):e.j_.set("Unknown")):(await e.J_.stop(),Cb(e))})),e.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n,i,r,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,a){const s=Date.now()+i,o=new Lm(t,n,s,r,a);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(j.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Db(e,t){if(Gn("AsyncQueue",`${t}: ${e}`),Na(e))return new G(j.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(t){return new ta(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||F.comparator(n.key,i.key):(n,i)=>F.comparator(n.key,i.key),this.keyedMap=os(),this.sortedSet=new Vt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ta)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ta;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.Z_=new Vt(F.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):X():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ea{constructor(t,n,i,r,a,s,o,u,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,r,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ea(t,n,ta.emptySet(n),s,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class AO{constructor(){this.queries=D_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const r=at(n),a=r.queries;r.queries=D_(),a.forEach((s,o)=>{for(const u of o.ta)u.onError(i)})})(this,new G(j.ABORTED,"Firestore shutting down"))}}function D_(){return new yr(e=>eb(e),rc)}async function SO(e,t){const n=at(e);let i=3;const r=t.query;let a=n.queries.get(r);a?!a.na()&&t.ra()&&(i=2):(a=new bO,i=t.ra()?0:1);try{switch(i){case 0:a.ea=await n.onListen(r,!0);break;case 1:a.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(s){const o=Db(s,`Initialization of query '${Nr(t.query)}' failed`);return void t.onError(o)}n.queries.set(r,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&km(n)}async function RO(e,t){const n=at(e),i=t.query;let r=3;const a=n.queries.get(i);if(a){const s=a.ta.indexOf(t);s>=0&&(a.ta.splice(s,1),a.ta.length===0?r=t.ra()?0:1:!a.na()&&t.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function wO(e,t){const n=at(e);let i=!1;for(const r of t){const a=r.query,s=n.queries.get(a);if(s){for(const o of s.ta)o.oa(r)&&(i=!0);s.ea=r}}i&&km(n)}function CO(e,t,n){const i=at(e),r=i.queries.get(t);if(r)for(const a of r.ta)a.onError(n);i.queries.delete(t)}function km(e){e.ia.forEach(t=>{t.next()})}var id,x_;(x_=id||(id={}))._a="default",x_.Cache="cache";class DO{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ea(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ea.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t){this.key=t}}class Nb{constructor(t){this.key=t}}class xO{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=st(),this.mutatedKeys=st(),this.ya=nb(t),this.wa=new ta(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new C_,r=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,s=r,o=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,m)=>{const p=r.get(f),g=ac(this.query,m)?m:null,D=!!p&&this.mutatedKeys.has(p.key),M=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?D!==M&&(i.track({type:3,doc:g}),x=!0):this.va(p,g)||(i.track({type:2,doc:g}),x=!0,(u&&this.ya(g,u)>0||c&&this.ya(g,c)<0)&&(o=!0)):!p&&g?(i.track({type:0,doc:g}),x=!0):p&&!g&&(i.track({type:1,doc:p}),x=!0,(u||c)&&(o=!0)),x&&(g?(s=s.add(g),a=M?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),i.track({type:1,doc:f})}return{wa:s,Da:i,ls:o,mutatedKeys:a}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const a=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const s=t.Da.X_();s.sort((f,m)=>function(g,D){const M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return M(g)-M(D)}(f.type,m.type)||this.ya(f.doc,m.doc)),this.Ca(i),r=r!=null&&r;const o=n&&!r?this.Fa():[],u=this.pa.size===0&&this.current&&!r?1:0,c=u!==this.ga;return this.ga=u,s.length!==0||c?{snapshot:new Ea(this.query,t.wa,a,s,t.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new C_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=st(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new Nb(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new xb(i))}),n}Oa(t){this.fa=t.gs,this.pa=st();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Ea.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pm="SyncEngine";class NO{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class OO{constructor(t){this.key=t,this.Ba=!1}}class IO{constructor(t,n,i,r,a,s){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new yr(o=>eb(o),rc),this.qa=new Map,this.Qa=new Set,this.$a=new Vt(F.comparator),this.Ua=new Map,this.Ka=new Dm,this.Wa={},this.Ga=new Map,this.za=_a.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MO(e,t,n=!0){const i=Ub(e);let r;const a=i.ka.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Na()):r=await Ob(i,t,n,!0),r}async function VO(e,t){const n=Ub(e);await Ob(n,t,!0,!1)}async function Ob(e,t,n,i){const r=await iO(e.localStore,dn(t)),a=r.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return i&&(o=await UO(e,t,a,s==="current",r.resumeToken)),e.isPrimaryClient&&n&&Rb(e.remoteStore,r),o}async function UO(e,t,n,i,r){e.Ha=(m,p,g)=>async function(M,x,E,T){let v=x.view.ba(E);v.ls&&(v=await E_(M.localStore,x.query,!1).then(({documents:b})=>x.view.ba(b,v)));const w=T&&T.targetChanges.get(x.targetId),L=T&&T.targetMismatches.get(x.targetId)!=null,z=x.view.applyChanges(v,M.isPrimaryClient,w,L);return O_(M,x.targetId,z.Ma),z.snapshot}(e,m,p,g);const a=await E_(e.localStore,t,!0),s=new xO(t,a.gs),o=s.ba(a.documents),u=Tl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),c=s.applyChanges(o,e.isPrimaryClient,u);O_(e,n,c.Ma);const f=new NO(t,n,s);return e.ka.set(t,f),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function LO(e,t,n){const i=at(e),r=i.ka.get(t),a=i.qa.get(r.targetId);if(a.length>1)return i.qa.set(r.targetId,a.filter(s=>!rc(s,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await ed(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Im(i.remoteStore,r.targetId),rd(i,r.targetId)}).catch(Wu)):(rd(i,r.targetId),await ed(i.localStore,r.targetId,!0))}async function kO(e,t){const n=at(e),i=n.ka.get(t),r=n.qa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Im(n.remoteStore,i.targetId))}async function Ib(e,t){const n=at(e);try{const i=await eO(n.localStore,t);t.targetChanges.forEach((r,a)=>{const s=n.Ua.get(a);s&&(Rt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ba=!0:r.modifiedDocuments.size>0?Rt(s.Ba):r.removedDocuments.size>0&&(Rt(s.Ba),s.Ba=!1))}),await Vb(n,i,t)}catch(i){await Wu(i)}}function N_(e,t,n){const i=at(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ka.forEach((a,s)=>{const o=s.view.sa(t);o.snapshot&&r.push(o.snapshot)}),function(s,o){const u=at(s);u.onlineState=o;let c=!1;u.queries.forEach((f,m)=>{for(const p of m.ta)p.sa(o)&&(c=!0)}),c&&km(u)}(i.eventManager,t),r.length&&i.La.p_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function PO(e,t,n){const i=at(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Ua.get(t),a=r&&r.key;if(a){let s=new Vt(F.comparator);s=s.insert(a,ue.newNoDocument(a,Y.min()));const o=st().add(a),u=new oc(Y.min(),new Map,new Vt(W),s,o);await Ib(i,u),i.$a=i.$a.remove(a),i.Ua.delete(t),zm(i)}else await ed(i.localStore,t,!1).then(()=>rd(i,t,n)).catch(Wu)}function rd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.qa.get(t))e.ka.delete(i),n&&e.La.Ja(i,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(i=>{e.Ka.containsKey(i)||Mb(e,i)})}function Mb(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(Im(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),zm(e))}function O_(e,t,n){for(const i of n)i instanceof xb?(e.Ka.addReference(i.key,t),zO(e,i)):i instanceof Nb?(q(Pm,"Document no longer in limbo: "+i.key),e.Ka.removeReference(i.key,t),e.Ka.containsKey(i.key)||Mb(e,i.key)):X()}function zO(e,t){const n=t.key,i=n.path.canonicalString();e.$a.get(n)||e.Qa.has(i)||(q(Pm,"New document in limbo: "+n),e.Qa.add(i),zm(e))}function zm(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new F(xt.fromString(t)),i=e.za.next();e.Ua.set(i,new OO(n)),e.$a=e.$a.insert(n,i),Rb(e.remoteStore,new ci(dn(Sm(n.path)),i,"TargetPurposeLimboResolution",tc.ae))}}async function Vb(e,t,n){const i=at(e),r=[],a=[],s=[];i.ka.isEmpty()||(i.ka.forEach((o,u)=>{s.push(i.Ha(u,t,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){r.push(c);const m=Nm.Yi(u.targetId,c);a.push(m)}}))}),await Promise.all(s),i.La.p_(r),await async function(u,c){const f=at(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>k.forEach(c,p=>k.forEach(p.Hi,g=>f.persistence.referenceDelegate.addReference(m,p.targetId,g)).next(()=>k.forEach(p.Ji,g=>f.persistence.referenceDelegate.removeReference(m,p.targetId,g)))))}catch(m){if(!Na(m))throw m;q(Om,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const g=f.Ts.get(p),D=g.snapshotVersion,M=g.withLastLimboFreeSnapshotVersion(D);f.Ts=f.Ts.insert(p,M)}}}(i.localStore,a))}async function BO(e,t){const n=at(e);if(!n.currentUser.isEqual(t)){q(Pm,"User change. New user:",t.toKey());const i=await Tb(n.localStore,t);n.currentUser=t,function(a,s){a.Ga.forEach(o=>{o.forEach(u=>{u.reject(new G(j.CANCELLED,s))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Vb(n,i.Rs)}}function jO(e,t){const n=at(e),i=n.Ua.get(t);if(i&&i.Ba)return st().add(i.key);{let r=st();const a=n.qa.get(t);if(!a)return r;for(const s of a){const o=n.ka.get(s);r=r.unionWith(o.view.Sa)}return r}}function Ub(e){const t=at(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ib.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PO.bind(null,t),t.La.p_=wO.bind(null,t.eventManager),t.La.Ja=CO.bind(null,t.eventManager),t}class wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ab(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return tO(this.persistence,new ZN,t.initialUser,this.serializer)}Xa(t){return new Eb(xm.ri,this.serializer)}Za(t){return new aO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wu.provider={build:()=>new wu};class HO extends wu{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Rt(this.persistence.referenceDelegate instanceof Ru);const i=this.persistence.referenceDelegate.garbageCollector;return new LN(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Ae.withCacheSize(this.cacheSizeBytes):Ae.DEFAULT;return new Eb(i=>Ru.ri(i,n),this.serializer)}}class ad{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>N_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AO}()}createDatastore(t){const n=Ab(t.databaseInfo.databaseId),i=function(a){return new cO(a)}(t.databaseInfo);return function(a,s,o,u){return new mO(a,s,o,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,a,s,o){return new gO(i,r,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>N_(this.syncEngine,n,0),function(){return A_.D()?new A_:new sO}())}createSyncEngine(t,n){return function(r,a,s,o,u,c,f){const m=new IO(r,a,s,o,u,c);return f&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const a=at(r);q(va,"RemoteStore shutting down."),a.W_.add(5),await bl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Gn("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="FirestoreClient";class GO{constructor(t,n,i,r,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=oe.UNAUTHENTICATED,this.clientId=HT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async s=>{q(Ii,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(q(Ii,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Db(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Oh(e,t){e.asyncQueue.verifyOperationInProgress(),q(Ii,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Tb(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function I_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await FO(e);q(Ii,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>w_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>w_(t.remoteStore,r)),e._onlineComponents=t}async function FO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(Ii,"Using user provided OfflineComponentProvider");try{await Oh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===j.FAILED_PRECONDITION||r.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),await Oh(e,new wu)}}else q(Ii,"Using default OfflineComponentProvider"),await Oh(e,new HO(void 0));return e._offlineComponents}async function QO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(Ii,"Using user provided OnlineComponentProvider"),await I_(e,e._uninitializedComponentsProvider._online)):(q(Ii,"Using default OnlineComponentProvider"),await I_(e,new ad))),e._onlineComponents}async function KO(e){const t=await QO(e),n=t.eventManager;return n.onListen=MO.bind(null,t.syncEngine),n.onUnlisten=LO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=VO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kO.bind(null,t.syncEngine),n}function YO(e,t,n={}){const i=new Wi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,u,c){const f=new qO({next:p=>{f.su(),s.enqueueAndForget(()=>RO(a,m));const g=p.docs.has(o);!g&&p.fromCache?c.reject(new G(j.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&u&&u.source==="server"?c.reject(new G(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new DO(Sm(o.path),f,{includeMetadataChanges:!0,Ta:!0});return SO(a,m)}(await KO(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(e,t,n){if(!n)throw new G(j.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function XO(e,t,n,i){if(t===!0&&i===!0)throw new G(j.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function V_(e){if(!F.isDocumentKey(e))throw new G(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ZO(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":X()}function sd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ZO(e);throw new G(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firestore.googleapis.com",U_=!0;class L_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new G(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kb,this.ssl=U_}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:U_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<VN)throw new G(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lb((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bm{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ux;switch(i.type){case"firstParty":return new dx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=M_.get(n);i&&(q("ComponentProvider","Removing Datastore"),M_.delete(n),i.terminate())}(this),Promise.resolve()}}function JO(e,t,n,i={}){var r;const a=(e=sd(e,Bm))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;a.host!==kb&&a.host!==o&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:o,ssl:!1,emulatorOptions:i});if(!_u(u,s)&&(e._setSettings(u),i.mockUserToken)){let c,f;if(typeof i.mockUserToken=="string")c=i.mockUserToken,f=oe.MOCK_USER;else{c=bT(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new G(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new oe(m)}e._authCredentials=new cx(new BT(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new jm(this.firestore,t,this._query)}}class Ln{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ln(this.firestore,t,this._key)}}class Ws extends jm{constructor(t,n,i){super(t,n,Sm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ln(this.firestore,null,new F(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function WO(e,t,...n){if(e=Ju(e),arguments.length===1&&(t=HT.newId()),$O("doc","path",t),e instanceof Bm){const i=xt.fromString(t,...n);return V_(i),new Ln(e,null,new F(i))}{if(!(e instanceof Ln||e instanceof Ws))throw new G(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(xt.fromString(t,...n));return V_(i),new Ln(e.firestore,e instanceof Ws?e.converter:null,new F(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class P_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Sb(this,"async_queue_retry"),this.Su=()=>{const i=Nh();i&&q(k_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=Nh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Nh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Wi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Na(t))throw t;q(k_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const r=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw Gn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const r=Lm.createAndSchedule(this,t,n,i,a=>this.Fu(a));return this.fu.push(r),r}Du(){this.gu&&X()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Pb extends Bm{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new P_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new P_(t),this._firestoreClient=void 0,await t}}}function tI(e,t){const n=typeof e=="object"?e:OT(),i=typeof e=="string"?e:Eu,r=CT(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=ET("firestore");a&&JO(r,...a)}return r}function eI(e){if(e._terminated)throw new G(j.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||nI(e),e._firestoreClient}function nI(e){var t,n,i;const r=e._freezeSettings(),a=function(o,u,c,f){return new xx(o,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Lb(f.experimentalLongPollingOptions),f.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new GO(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cu(ie.fromBase64String(t))}catch(n){throw new G(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Cu(ie.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return W(this._lat,t._lat)||W(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,t._values)}}const aI=new RegExp("[~\\*/\\[\\]]");function sI(e,t,n){if(t.search(aI)>=0)throw z_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new zb(...t.split("."))._internalPath}catch{throw z_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function z_(e,t,n,i,r){let a=`Function ${t}() called with invalid data`;a+=". ";let s="";return new G(j.INVALID_ARGUMENT,a+e+s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t,n,i,r,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(jb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lI extends Bb{data(){return super.data()}}function jb(e,t){return typeof t=="string"?sI(e,t):t instanceof zb?t._internalPath:t._delegate._internalPath}class oI{convertValue(t,n="none"){switch(Ni(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw X()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return El(t,(r,a)=>{i[r]=this.convertValue(a,n)}),i}convertVectorValue(t){var n,i,r;const a=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[Ff].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>Mt(s.doubleValue));return new rI(a)}convertGeoPoint(t){return new iI(Mt(t.latitude),Mt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=nc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Xs(t));default:return null}}convertTimestamp(t){const n=Di(t);return new Se(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=xt.fromString(t);Rt(_b(i));const r=new Zs(i.get(1),i.get(3)),a=new F(i.popFirst(5));return r.isEqual(n)||Gn(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hb extends Bb{constructor(t,n,i,r,a,s){super(t,n,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(jb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class cI extends Hb{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(e){e=sd(e,Ln);const t=sd(e.firestore,Pb);return YO(eI(t),e._key).then(n=>dI(t,e,n))}class fI extends oI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cu(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function dI(e,t,n){const i=n.docs.get(t._key),r=new fI(e);return new Hb(e,r,t._key,i,new uI(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){xa=r})(xT),Ks(new da("firestore",(i,{instanceIdentifier:r,options:a})=>{const s=i.getProvider("app").getImmediate(),o=new Pb(new hx(i.getProvider("auth-internal")),new mx(s,i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(c.options.projectId,f)}(s,r),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Ti(Gy,Fy,t),Ti(Gy,Fy,"esm2017")})();var mI="firebase",pI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(mI,pI,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebasestorage.googleapis.com",Gb="storageBucket",gI=2*60*1e3,yI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt extends gr{constructor(t,n,i=0){super(Ih(t),`Firebase Storage: ${n} (${Ih(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ih(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $t;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($t||($t={}));function Ih(e){return"storage/"+e}function Fb(){const e="An unknown error occurred, please check the error payload for server response.";return new Xt($t.UNKNOWN,e)}function _I(e){return new Xt($t.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function vI(e){return new Xt($t.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EI(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xt($t.UNAUTHENTICATED,e)}function TI(){return new Xt($t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bI(e){return new Xt($t.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function AI(){return new Xt($t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SI(){return new Xt($t.CANCELED,"User canceled the upload/download.")}function RI(e){return new Xt($t.INVALID_URL,"Invalid URL '"+e+"'.")}function wI(e){return new Xt($t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function CI(){return new Xt($t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Gb+"' property when initializing the app?")}function DI(){return new Xt($t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ld(e){return new Xt($t.INVALID_ARGUMENT,e)}function Qb(){return new Xt($t.APP_DELETED,"The Firebase app was deleted.")}function xI(e){return new Xt($t.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ts(e){throw new Xt($t.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Me.makeFromUrl(t,n)}catch{return new Me(t,"")}if(i.path==="")return i;throw wI(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function a(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+r+s,"i"),u={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${f}/b/${r}/o${p}`,"i"),D={bucket:1,path:3},M=n===qb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",E=new RegExp(`^https?://${M}/${r}/${x}`,"i"),v=[{regex:o,indices:u,postModify:a},{regex:g,indices:D,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<v.length;w++){const L=v[w],z=L.regex.exec(t);if(z){const b=z[L.indices.bucket];let _=z[L.indices.path];_||(_=""),i=new Me(b,_),L.postModify(i);break}}if(i==null)throw RI(t);return i}}class NI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e,t,n){let i=1,r=null,a=null,s=!1,o=0;function u(){return o===2}let c=!1;function f(...x){c||(c=!0,t.apply(null,x))}function m(x){r=setTimeout(()=>{r=null,e(g,u())},x)}function p(){a&&clearTimeout(a)}function g(x,...E){if(c){p();return}if(x){p(),f.call(null,x,...E);return}if(u()||s){p(),f.call(null,x,...E);return}i<64&&(i*=2);let v;o===1?(o=2,v=0):v=(i+Math.random())*1e3,m(v)}let D=!1;function M(x){D||(D=!0,p(),!c&&(r!==null?(x||(o=2),clearTimeout(r),m(0)):x||(o=1)))}return m(0),a=setTimeout(()=>{s=!0,M(!0)},n),M}function II(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(e){return e!==void 0}function VI(e){return typeof e=="object"&&!Array.isArray(e)}function Kb(e){return typeof e=="string"||e instanceof String}function B_(e,t,n,i){if(i<t)throw ld(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw ld(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function $b(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var er;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(er||(er={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return n||r||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,n,i,r,a,s,o,u,c,f,m,p=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,D)=>{this.resolve_=g,this.reject_=D,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new ho(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const u=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===er.NO_ERROR,u=a.getStatus();if(!o||UI(u,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===er.ABORT;i(!1,new ho(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;i(!0,new ho(c,a))})},n=(i,r)=>{const a=this.resolve_,s=this.reject_,o=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(o,o.getResponse());MI(u)?a(u):a()}catch(u){s(u)}else if(o!==null){const u=Fb();u.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,u)):s(u)}else if(r.canceled){const u=this.appDelete_?Qb():SI();s(u)}else{const u=AI();s(u)}};this.canceled_?n(!1,new ho(!1,null,!0)):this.backoffId_=OI(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&II(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ho{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function kI(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function PI(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function zI(e,t){t&&(e["X-Firebase-GMPID"]=t)}function BI(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function jI(e,t,n,i,r,a,s=!0){const o=$b(e.urlParams),u=e.url+o,c=Object.assign({},e.headers);return zI(c,t),kI(c,n),PI(c,a),BI(c,i),new LI(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(e){let t;try{t=JSON.parse(e)}catch{return null}return VI(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function qI(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function Zb(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(e,t){return t}class me{constructor(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||GI}}let fo=null;function FI(e){return!Kb(e)||e.length<2?e:Zb(e)}function QI(){if(fo)return fo;const e=[];e.push(new me("bucket")),e.push(new me("generation")),e.push(new me("metageneration")),e.push(new me("name","fullPath",!0));function t(a,s){return FI(s)}const n=new me("name");n.xform=t,e.push(n);function i(a,s){return s!==void 0?Number(s):s}const r=new me("size");return r.xform=i,e.push(r),e.push(new me("timeCreated")),e.push(new me("updated")),e.push(new me("md5Hash",null,!0)),e.push(new me("cacheControl",null,!0)),e.push(new me("contentDisposition",null,!0)),e.push(new me("contentEncoding",null,!0)),e.push(new me("contentLanguage",null,!0)),e.push(new me("contentType",null,!0)),e.push(new me("metadata","customMetadata",!0)),fo=e,fo}function KI(e,t){function n(){const i=e.bucket,r=e.fullPath,a=new Me(i,r);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:n})}function YI(e,t,n){const i={};i.type="file";const r=n.length;for(let a=0;a<r;a++){const s=n[a];i[s.local]=s.xform(i,t[s.server])}return KI(i,e),i}function $I(e,t,n){const i=Xb(t);return i===null?null:YI(e,i,n)}function XI(e,t,n,i){const r=Xb(t);if(r===null||!Kb(r.downloadTokens))return null;const a=r.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(c=>{const f=e.bucket,m=e.fullPath,p="/b/"+s(f)+"/o/"+s(m),g=Yb(p,n,i),D=$b({alt:"media",token:c});return g+D})[0]}class ZI{constructor(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(e){if(!e)throw Fb()}function WI(e,t){function n(i,r){const a=$I(e,r,t);return JI(a!==null),XI(a,r,e.host,e._protocol)}return n}function t4(e){function t(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=TI():r=EI():n.getStatus()===402?r=vI(e.bucket):n.getStatus()===403?r=bI(e.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return t}function e4(e){const t=t4(e);function n(i,r){let a=t(i,r);return i.getStatus()===404&&(a=_I(e.path)),a.serverResponse=r.serverResponse,a}return n}function n4(e,t,n){const i=t.fullServerUrl(),r=Yb(i,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new ZI(r,a,WI(e,n),s);return o.errorHandler=e4(t),o}class i4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=er.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=er.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=er.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,r){if(this.sent_)throw ts("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),r!==void 0)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ts("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ts("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ts("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ts("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class r4 extends i4{initXhr(){this.xhr_.responseType="text"}}function a4(){return new r4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,n){this._service=t,n instanceof Me?this._location=n:this._location=Me.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ur(t,n)}get root(){const t=new Me(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zb(this._location.path)}get storage(){return this._service}get parent(){const t=HI(this._location.path);if(t===null)return null;const n=new Me(this._location.bucket,t);return new ur(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw xI(t)}}function s4(e){e._throwIfRoot("getDownloadURL");const t=n4(e.storage,e._location,QI());return e.storage.makeRequestWithTokens(t,a4).then(n=>{if(n===null)throw DI();return n})}function l4(e,t){const n=qI(e._location.path,t),i=new Me(e._location.bucket,n);return new ur(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(e){return/^[A-Za-z]+:\/\//.test(e)}function u4(e,t){return new ur(e,t)}function Jb(e,t){if(e instanceof Hm){const n=e;if(n._bucket==null)throw CI();const i=new ur(n,n._bucket);return t!=null?Jb(i,t):i}else return t!==void 0?l4(e,t):e}function c4(e,t){if(t&&o4(t)){if(e instanceof Hm)return u4(e,t);throw ld("To use ref(service, url), the first argument must be a Storage instance.")}else return Jb(e,t)}function j_(e,t){const n=t==null?void 0:t[Gb];return n==null?null:Me.makeFromBucketSpec(n,e)}function h4(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:r}=i;r&&(e._overrideAuthToken=typeof r=="string"?r:bT(r,e.app.options.projectId))}class Hm{constructor(t,n,i,r,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gI,this._maxUploadRetryTime=yI,this._requests=new Set,r!=null?this._bucket=Me.makeFromBucketSpec(r,this._host):this._bucket=j_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Me.makeFromBucketSpec(this._url,t):this._bucket=j_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){B_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){B_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(DT(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ur(this,t)}_makeRequest(t,n,i,r,a=!0){if(this._deleted)return new NI(Qb());{const s=jI(t,this._appId,i,r,n,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const H_="@firebase/storage",q_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="storage";function f4(e){return e=Ju(e),s4(e)}function d4(e,t){return e=Ju(e),c4(e,t)}function m4(e=OT(),t){e=Ju(e);const i=CT(e,Wb).getImmediate({identifier:t}),r=ET("storage");return r&&p4(i,...r),i}function p4(e,t,n,i={}){h4(e,t,n,i)}function g4(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new Hm(n,i,r,t,xT)}function y4(){Ks(new da(Wb,g4,"PUBLIC").setMultipleInstances(!0)),Ti(H_,q_,""),Ti(H_,q_,"esm2017")}y4();const _4={apiKey:"AIzaSyCKBpSuQWZbUu71EuAkt749L7OBxe6V_8w",authDomain:"sonet-english-lab.firebaseapp.com",projectId:"sonet-english-lab",storageBucket:"sonet-english-lab.firebasestorage.app",messagingSenderId:"714447812887",appId:"1:714447812887:web:df50f909901d92e0ea1f52",measurementId:"G-HC89S394Q9"},tA=NT(_4),v4=tI(tA),E4=m4(tA),Vo=AC("basic/fetchChapters",async(e,t)=>{try{const n=WO(v4,"basicsOfEnglish","chapters"),i=await hI(n);if(i.exists()){const r=i.data();return Object.values(r)}else return t.rejectWithValue("No such document found!")}catch(n){return t.rejectWithValue(n.message)}}),T4=NC({name:"basics",initialState:{chapters:[],loading:!0,error:null},reducers:{},extraReducers:e=>{e.addCase(Vo.pending,t=>{t.loading="loading",t.error=null}).addCase(Vo.fulfilled,(t,n)=>{t.loading=!0,t.chapters=n.payload}).addCase(Vo.rejected,(t,n)=>{t.loading="failed",t.error=n.payload})}}),b4=T4.reducer,A4=mC({reducer:{basics:b4}}),S4=({slides:e=[],interval:t=4e3})=>{const[n,i]=V.useState(0),r=V.useRef(null),a=()=>{r.current&&clearTimeout(r.current)};return V.useEffect(()=>(a(),r.current=setTimeout(()=>{i(s=>(s+1)%e.length)},t),()=>a()),[n,e.length,t]),I.jsxs("div",{className:"carousel-wrapper",children:[I.jsx("div",{className:"carousel-track",style:{transform:`translateX(-${n*100}%)`},children:e.map((s,o)=>I.jsxs("div",{className:"carousel-slide",children:[I.jsx("img",{src:s.image,alt:s.title}),I.jsxs("div",{className:"carousel-caption",children:[I.jsx("h2",{children:s.title}),I.jsx("p",{children:s.subtitle}),s.buttonText&&I.jsx("button",{onClick:s.onClick,children:s.buttonText})]})]},o))}),I.jsx("div",{className:"carousel-dots",children:e.map((s,o)=>I.jsx("span",{className:`dot ${o===n?"active":""}`,onClick:()=>i(o)},o))})]})};function R4(){const e=[{image:"/sil-english-lab-fe/assets/images/home-banner1.jpg",title:"Start Your English Journey",subtitle:"Basics to Advanced — Explore All in One Place",buttonText:"Explore Modules",onClick:()=>alert("Navigating to modules...")},{image:"https://images.pexels.com/photos/5212323/pexels-photo-5212323.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=1200",title:"Learn with Confidence",subtitle:"Fun, engaging lessons with real progress",buttonText:"Start Learning",onClick:()=>alert("Navigating to start learning...")},{image:"https://img.freepik.com/free-vector/online-education-concept_1209646.htm?t=st=1712430000~exp=1712433600~hmac=a6e2dd75c3a8835d4d39430b47dd5410ec7f5c5192068b8b91c45b112cf1d093&w=1380",title:"Anywhere, Anytime Learning",subtitle:"Online, self-paced, and interactive",buttonText:"Get Started",onClick:()=>alert("Navigating to get started...")}];return I.jsx("div",{children:I.jsx(S4,{slides:e})})}const eA=({audioFile:e})=>{console.log("audioFile is",e);const[t,n]=V.useState("");return V.useEffect(()=>{(async()=>{try{const r=d4(E4,e),a=await f4(r);n(a)}catch(r){console.error("Error fetching audio URL:",r)}})()},[e]),I.jsx(I.Fragment,{children:t?I.jsxs("audio",{controls:!0,children:[I.jsx("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):I.jsx("p",{children:"Loading audio..."})})},w4=[{title:"Basics of English",description:"Start learning alphabets, greetings, and simple sentences.",route:"/basics",icon:"📘"},{title:"Listening",description:"Practice listening with everyday English conversations.",route:"/listening",icon:"🎧"},{title:"Speaking",description:"Improve your pronunciation and speaking fluency.",route:"/speaking",icon:"🗣️"},{title:"Reading",description:"Enhance comprehension skills with reading exercises.",route:"/reading",icon:"📖"},{title:"Writing",description:"Learn to write correctly and express your thoughts.",route:"/writing",icon:"✍️"},{title:"Grammar",description:"Master English grammar rules and usage.",route:"/grammar",icon:"📚"},{title:"Vocabulary",description:"Expand your word bank and use them in sentences.",route:"/vocabulary",icon:"🧠"},{title:"Phonetics",description:"Understand sound patterns and phonetic symbols.",route:"/phonetics",icon:"🔤"},{title:"Confidence Building",description:"Boost your confidence with guided activities.",route:"/confidence",icon:"💪"},{title:"Analytical Thinking",description:"Sharpen reasoning with puzzles and logic challenges.",route:"/analytical-thinking",icon:"🧩"}],C4=()=>I.jsxs(I.Fragment,{children:[I.jsx(R4,{}),I.jsxs("div",{className:"home-wrapper",children:[I.jsxs("div",{className:"home-header",children:[I.jsx("h1",{className:"home-title",children:"Welcome to English Lab"}),I.jsx(eA,{}),I.jsx("p",{className:"home-subtitle",children:"Explore modules to improve your English and cognitive skills."}),I.jsx(be,{to:"/basics",children:I.jsx("button",{className:"cta-button",children:"Start Learning"})})]}),I.jsx("div",{className:"module-grid",children:w4.map((e,t)=>I.jsxs(be,{to:e.route,className:"module-card",children:[I.jsx("div",{className:"module-icon",children:e.icon}),I.jsxs("div",{className:"module-content",children:[I.jsx("h2",{className:"module-title",children:e.title}),I.jsx("p",{className:"module-description",children:e.description})]})]},t))})]})]}),D4=()=>I.jsxs("footer",{className:"footer",children:[I.jsx("p",{children:"© 2025 English Lab. All rights reserved."}),I.jsxs("div",{className:"footer-links",children:[I.jsx("a",{href:"#",children:"Privacy"})," | ",I.jsx("a",{href:"#",children:"Terms"})," | ",I.jsx("a",{href:"#",children:"Contact"})]})]}),x4=()=>{const[e,t]=V.useState(""),n=i=>{i.key==="Enter"&&console.log("Searching for:",e)};return I.jsx("input",{type:"text",className:"search-bar",placeholder:"Search modules...",value:e,onChange:i=>t(i.target.value),onKeyDown:n})},N4=({isLoggedIn:e})=>{const[t,n]=V.useState(!1),[i,r]=V.useState(!1),[a,s]=V.useState(!1);return I.jsx("nav",{className:"navbar",children:I.jsxs("div",{className:"navbar-header",children:[I.jsx(be,{to:"/",className:"navbar-logo",children:"🌟Sonet English Lab"}),I.jsxs("ul",{className:`navbar-menu ${t?"open":""}`,children:[I.jsx("li",{children:I.jsx(be,{to:"/home",children:"Home"})}),I.jsxs("li",{className:"dropdown",children:[I.jsxs("button",{onClick:()=>r(!i),children:["Modules ",I.jsx("span",{className:"dropdown-icon",children:"▾"})]}),i&&I.jsxs("ul",{className:"dropdown-menu",children:[I.jsx("li",{children:I.jsx(be,{to:"/basics",children:"Basics"})}),I.jsx("li",{children:I.jsx(be,{to:"/listening",children:"Listening"})}),I.jsx("li",{children:I.jsx(be,{to:"/grammar",children:"Grammar"})})]})]}),I.jsx("li",{children:I.jsx(be,{to:"/about",children:"About"})})]}),I.jsxs("div",{className:"navbar-actions",children:[I.jsx(x4,{}),I.jsx("button",{className:"navbar-toggle",onClick:()=>n(!t),children:"☰"}),I.jsxs("div",{className:"profile-dropdown",children:[I.jsxs("button",{className:"navbar-profile-toggle",onClick:()=>s(!a),title:"Your Profile",children:[I.jsx("span",{className:"navbar-profile",children:"👤"}),I.jsx("span",{className:"dropdown-icon",children:"▾"})]}),a&&I.jsxs("ul",{className:"profile-menu",children:[I.jsx("li",{children:I.jsx(be,{to:"/profile",children:"My Profile"})}),I.jsx("li",{children:I.jsx(be,{to:"/settings",children:"Settings"})}),I.jsx("li",{children:I.jsx("button",{onClick:()=>alert("Logged out!"),children:"Logout"})})]})]})]})]})})},nA=({percentage:e=0,showProgressLabel:t=!1})=>(console.log("percentage is",e),I.jsxs("div",{className:"progress-bar-wrapper",children:[I.jsx("div",{className:"progress-bar-track",children:I.jsx("div",{className:"progress-bar-fill",style:{width:`${e}%`}})}),t&&I.jsxs("span",{className:"progress-bar-label",children:[e,"% Completed"]})]})),O4=()=>{const e=z2(),{chapters:t,loading:n,error:i}=H2(r=>r.basics);return V.useEffect(()=>{n&&t.length===0&&e(Vo())},[e]),n==="loading"?I.jsx("p",{children:"Loading..."}):n==="failed"?I.jsxs("p",{children:["Error: ",i]}):I.jsxs("div",{className:"chapter-list-container",children:[I.jsx("h2",{className:"chapter-heading",children:"Upcoming Chapters"}),I.jsx("ul",{className:"chapter-list",children:t.map(r=>I.jsxs("li",{className:"chapter-card",children:[I.jsx("div",{className:"chapter-info",children:I.jsx("div",{className:"chapter-title",children:I.jsxs("div",{children:[I.jsxs("div",{className:"progress-bar",children:[I.jsxs("span",{className:"chapter-number",children:["Chapter ",r.id]}),I.jsx(nA,{percentage:r.progress,showProgressLabel:!0})]}),I.jsxs("h3",{className:"chapter-name",children:[I.jsx("img",{src:r.icon,alt:"icon",className:"chapter-icon"}),I.jsx("span",{className:"chapter-title-inner",children:r.title})]}),I.jsx("p",{className:"chapter-description",children:r.description})]})})}),I.jsx(be,{to:`/basics/chapter/${r.id}`,children:I.jsx("button",{className:"chapter-view-button",children:"View"})})]},r.id))})]})},I4=({icon:e,title:t,description:n,onStart:i})=>I.jsxs("div",{className:"chapter-overview",children:[I.jsx("div",{className:"module-icon",children:"📘"}),I.jsx("h2",{children:t}),I.jsx("p",{children:n}),I.jsx("button",{className:"start-btn",onClick:i,children:"Start Course"})]}),iA=({path:e})=>I.jsx("nav",{className:"breadcrumb",children:e.map((t,n)=>I.jsxs("span",{className:"breadcrumb-item",children:[t.to?I.jsx(be,{to:t.to,children:t.label}):I.jsx("span",{children:t.label}),n<e.length-1&&I.jsx("span",{className:"breadcrumb-separator",children:"/"})]},n))}),M4=()=>{const e=[{label:"Home",to:"/"},{label:"Basics of English"}];return I.jsxs("div",{children:[I.jsx(iA,{path:e}),I.jsx(I4,{icon:"/sil-english-lab-fe/assets/icons/book.svg",title:"Basics of English",description:"Master foundational English skills.",onStart:()=>console.log("Start Basics clicked")}),I.jsx(O4,{})]})},V4=({step:e,icon:t,title:n,description:i,chapterId:r})=>I.jsx(I.Fragment,{children:I.jsxs("div",{className:"chapter-header",children:[I.jsx("img",{src:t,alt:`${n} icon`,className:"chapter-header-icon"}),I.jsxs("div",{children:[I.jsxs("span",{className:"chapter-cnt",children:["Chapter ",r]}),I.jsx("h1",{className:"chapter-header-title",children:n})]}),I.jsx("p",{className:"chapter-header-description",children:i})]})}),U4=({type:e,data:t})=>{switch(console.log("data is",t),e){case"text":return I.jsx("div",{className:"bubble text-bubble",children:t});case"audio":return I.jsx("div",{className:"bubble audio-bubble",children:I.jsx(eA,{audioFile:t})});case"quiz":return I.jsx("div",{className:"bubble quiz-bubble",children:t});default:return null}},L4=({sections:e})=>(console.log("ContentBlock",e),I.jsx("div",{className:"content-block",children:e.map((t,n)=>I.jsxs("div",{className:"content-section",children:[I.jsxs("h3",{className:"section-title",children:["Section ",n+1," ",t.sectionTitle]}),I.jsx("div",{className:"section-items",children:t.steps.map((i,r)=>I.jsx(U4,{type:i.type,data:i.data},r))})]},n))})),k4=({onPrevious:e,onNext:t,isLastStep:n,onComplete:i})=>I.jsxs("div",{className:"navigation-footer",children:[I.jsx("button",{className:"nav-btn",onClick:e,children:"← Previous"}),n?I.jsx("button",{className:"nav-btn primary",onClick:i,children:"✅ Complete"}):I.jsx("button",{className:"nav-btn",onClick:t,children:"Next →"})]}),P4=[{id:1,title:"Greetings and Introductions",icon:"/sil-english-lab-fe/assets/icons/hello-handshake.svg",description:"Learn how to confidently greet people and introduce yourself in English.",sections:[{sectionTitle:"Common Greetings",steps:[{type:"text",data:"Hello"},{type:"text",data:"Hi"},{type:"text",data:"Good morning"},{type:"text",data:"Good evening"},{type:"audio",data:"abcd-song.mp3"}]},{sectionTitle:"Introducing Yourself",steps:[{type:"text",data:"My name is..."},{type:"text",data:"It's nice to meet you!"},{type:"quiz",data:"Practice: ____! Where are you from?"}]}]},{id:2,title:"Introductions for Groups",icon:"/sil-english-lab-fe/assets/icons/hello-handshake.svg",description:"Learn how to confidently greet people and introduce yourself in English.",sections:[{sectionTitle:"Common Greetings",steps:[{type:"text",data:"Hello"},{type:"text",data:"Hi"},{type:"text",data:"Good morning"},{type:"text",data:"Good evening"},{type:"audio",data:"/assets/audio/hello.mp3"}]},{sectionTitle:"Introducing Yourself",steps:[{type:"text",data:"My name is..."},{type:"text",data:"It's nice to meet you!"},{type:"quiz",data:"Practice: ____! Where are you from?"}]}]}],es=P4,z4=()=>{const t=window.location.hash.split("/"),n=t[t.length-1],i=[{label:"Home",to:"/"},{label:"Basics of English",to:"/basics"},{label:`Chapter-${n}`}],[r,a]=V.useState(0),s=()=>{r>0&&a(c=>c-1)},o=()=>{r<es.length-1&&a(c=>c+1)},u=()=>{alert("🎉 Chapter completed!")};return I.jsx(I.Fragment,{children:I.jsxs("div",{className:"chapter-content-page",children:[I.jsx(iA,{path:i}),I.jsx(V4,{step:r,icon:"/sil-english-lab-fe/assets/icons/hello-handshake.svg",title:es[r].title,description:es[r].description,chapterId:n}),I.jsx("div",{className:"chapter-progress",children:I.jsx(nA,{percentage:30,showProgressLabel:!0})}),I.jsx("div",{className:"padding-1rem",children:"  "}),I.jsx(L4,{sections:es[r].sections}),I.jsx(k4,{onPrevious:s,onNext:o,isLastStep:r===es.length-1,onComplete:u})]})})},B4=()=>I.jsxs(I.Fragment,{children:[I.jsx(N4,{isLoggedIn:!0}),I.jsx("main",{children:I.jsxs(Pw,{children:[I.jsx(Co,{path:"/",element:I.jsx(C4,{})}),I.jsx(Co,{path:"/basics",element:I.jsx(M4,{})}),I.jsx(Co,{path:"/basics/chapter/:id",element:I.jsx(z4,{})})]})}),I.jsx(D4,{})," "]});UR.createRoot(document.getElementById("root")).render(I.jsx(eS.StrictMode,{children:I.jsx(L2,{store:A4,children:I.jsx(l2,{children:I.jsx(B4,{})})})}));
